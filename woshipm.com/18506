➜干货帖：优秀产品经理的特质，百度资深PM们和你一起聊聊
http://www.woshipm.com/pmd/4162898.html	2626
<blockquote><p>编辑导读：互联网行业竞争激烈，职场坑位越来越难抢。想要求职大厂，产品经理是一个合适的岗位吗？需要注意哪些能力的培养？本文作者与百度一线产品经理对这个问题展开了讨论，一起来看看~</p></blockquote>
<p><img data-action="zoom" class="aligncenter" src="http://image.woshipm.com/wp-files/2020/08/ApNDIwZEkS8Y5xKJcyQY.jpg" alt="" width="900" height="420" /></p>
<p>如今互联网兴盛的时代，每年都有源源不断的新人涌入互联网行业，造就了人群蜂拥的“盛世繁荣”。</p>
<p>众多岗位中，产品经理岗堪称是一颗璀璨星辰。之所以如此，有两方面的原因：一方面，互联网造神模式塑造了乔布斯、张小龙等产品大神形象；另一方面，产品经理看似没有专业要求，更容易受到应届生的青睐。</p>
<p>那么，对应届生或者想转行的人来说，产品经理到底是不是一个值得选择的职业呢？</p>
<p>恰逢，2021届百度校招启动之际，笔者有幸与百度多个事业部的资深产品经理组了个聊天局，希望可以解惑上述问题。</p>
<p>下面就让我们一起回顾一下这个聊天局的内容。</p>
<h2>一、产品经理是什么</h2>
<p>到底什么是产品经理？这是萦绕在求职者心中的首个疑问。</p>
<p>聊天局从这个问题聊起，并由此延展，谈到了近些年产品经理的发展与变化。</p>
<p>经过市场的成长与业务需求的驱动，产品经理岗产生了很多细分领域，比如B端/C端产品经理、移动端/后台/小程序产品经理等。</p>
<p>但是，如果你身处产品行业，就会不难发现，其实产品经理的基础工作是相通的，大都是无中生有，将想法具象成设计方案，并将其落地实现的过程。</p>
<p>因此，百度资深产品A说，产品经理是帮助公司解决问题的人，不管是功能设计、策略研究还是数据分析，都是解决问题的手段。</p>
<p>通过对聊天内容的提炼，我觉得可以给产品经理一个这样的定义：产品经理是一位布道者。</p>
<blockquote><p>神学家巴刻(J.I.Packer)曾对布道下过定义：“布道乃是以圣灵的能力传讲基督耶稣，使人能藉着他信靠神，接受他为救主，并在他的教会中与信徒交通，事奉他如君王。”</p></blockquote>
<p>产品经理所布之道，是自己设计的产品，面向的群体从项目成员开始，然后覆盖至产品用户，让他们相信我们的产品是可以被信赖的，是有意义的。</p>
<p>所以产品经理是有“信仰”的创新者。</p>
<p>随着各位产品前辈的不断摸索，各类产品经理能力模型日益清晰，产品岗从蛮荒时代逐渐过渡到了规则时代。</p>
<p>如果应届生想要成为一名产品经理，可以拥有很多获取产品知识的渠道，比如产品书籍、产品社区等。</p>
<p>通过聊天，我们了解到百度丰富的产品线、成熟的产品培训体系与指导人制度，使其拥有了持续培养优秀产品经理的环境。今年百度对于产品岗位的需求也大幅提升，涉及视频创新、游戏、智能小程序、贴吧、云计算等业务的19种产品类职位，这些都是成熟大厂经年累积的优势。</p>
<p>而持续学习的能力，也是各位百度资深产品经理反复提到的优秀产品经理的特质。不过，职场不是考试，学习只是手段，不是目的。因此，如何成为一名优秀的产品经理，就值得我们讨论了。</p>
<h2>二、优秀产品经理的特质</h2>
<p>通过对本次产品聊天局对优秀产品经理讨论内容的萃取，我们发现优秀产品经理的内核能力有两部分组成：产品设计能力与产品设计思维。</p>
<p>有些类似于《孙子兵法》中对术和道的描述：“道为术之灵，术为道之体”。</p>
<p>而聚焦在应届生这样的群体上，其实产品设计能力并不是重点能力，大家更关注校招生是否具备高潜力，而潜力正是产品设计思维的具象表现。</p>
<p>所以，大家一起聊了聊，哪些思维能力是产品经理的必需品。</p>
<h3>1. 全局思维</h3>
<p>全局思维是一种大局观，也是一种看待问题的方式。</p>
<p>全局思维的核心点在于先抓住整体，然后对要害各个击破。这要求产品经理们站在系统角度，思考问题背后的逻辑，养成顾全大局的习惯。如图1所示。</p>
<p><img data-action="zoom" class="aligncenter" src="http://image.woshipm.com/wp-files/2020/08/vNIZ7cPpw8RigphpdmgD.png" alt="" width="926" height="392" /></p>
<p style="text-align: center;">图1 全局思维</p>
<p>正如古语所曰：不谋全局者，不足以谋一域，不谋万世者，不足以谋一时。</p>
<p>至于全局思维的培养，通过聊天局的观点碰撞，我们总结了如下方法。</p>
<ul>
<li><strong>培养取舍能力：</strong>主要矛盾大于次要矛盾，整体利益大于部分利益。其中，主次矛盾在某种程度上就是取舍的问题，所以需要及时复盘工作与生活中取舍场景，不断培养自己取大放小的能力。</li>
<li><strong>升级思维层次：</strong>思维层次的提升看似玄而又玄，但是其提升方式很落地，与前辈交流、坚持读书、下棋甚至打游戏都可以。比如玩王者荣耀时，日常多看教学视频，自己玩的时候多看小地图，这就是在培养大局观。</li>
</ul>
<p>在聊这个话题的时候，百度资深产品X阐述了一些自己的观点。</p>
<p>X在百度工作了10年，期间从技术开发转岗为产品经理，在这样的职业经历下，X认为技术与产品共存思维共性，不管是技术架构设计，还是商业产品设计与游戏产品设计，都需要有全局认知，在这样的认知基础上，培养自己的商业嗅觉与产品Sense。</p>
<p>对产品经理而言，平台的商业收入规模与流量规模，影响了他的个人视野。大平台有利于更早的塑造产品经理更高层次的全局观，所以百度这样的大厂，对应届生来说，应该是更具吸引力的。</p>
<p>X也提到了对应届生和转岗者的期望。他说，产品是更加依靠想法与视野的岗位，而且我们不应该怕犯错，最怕的是没特点。</p>
<h3>2. 极简思维</h3>
<p>极简思维既是一种行动准则，又是一种设计思维。</p>
<p>在工作与生活中，产品经理奉行是极简思维是以目标为导向，通过对过程的拆解与规划，找到达成目标的最短路径。</p>
<p>在产品设计中，极简思维可以减少用户操作的无用功，让操作更加流畅，也可以减少开发成本。</p>
<p>但是极简并不意味着简单，而是要求产品经理能够分清楚主次，充分提炼，用最小的功能闭环满足用户的使用场景。极简思维的培养，与全局思维的培养类似，需要能够看透事物背后的逻辑，过滤干扰信息，抓住本质。如图2所示。</p>
<p><img data-action="zoom" class="aligncenter" src="http://image.woshipm.com/wp-files/2020/08/k8ppyxAkAD4eN7z2KTGE.png" alt="" width="838" height="335" /></p>
<p style="text-align: center;">图2 极简思维</p>
<p>在此期间，有人提到了一个例子：用户提出需要一匹千里马，那他需要的真的是千里马吗？有可能他只是想很快的去往另外一个城市，这个时候他要的其实不是千里马，而是速度，那是不是可以给他一张高铁票。</p>
<p>针对该项能力，百度资深产品Y阐述了如下观点。</p>
<p>产品经理有一项重要能力是动脑，我们需要去学习，去抽象，然后做逻辑推演，最终完成对需求的洞察，而且这需要去芜存菁。</p>
<p>而上述过程，恰好是产品极简思维的体现。</p>
<p>这对优秀的产品校招生是相当重要，在面试时，我们就是在探查他是如何体现出独立思考的能力与极简思维的习惯。</p>
<p>当然这些能力也不是无根之水，所以当校招生入职百度后，我会让他们深入地了解业务，这样才能不浮于表层。</p>
<p>优秀产品经理是自生长的，百度更多的是提供土壤。</p>
<h3>3. 共情思维</h3>
<p>在生活中，共情思维是避免冲突的有效方式。</p>
<p>在产品设计上，共情思维可以帮助产品经理进行情绪转移，通过了解用户的自然属性、社会地位、成长环境、生活习惯等，推测出用户使用产品时的反应，从而优化当前产品设计，让产品与用户产生共鸣。</p>
<p>产品经理的同理心，就是很多产品大神推崇的“小白思维”，也就是把自己切换到用户角度去思考问题的能力。如图3所示。</p>
<p><img data-action="zoom" class="aligncenter" src="http://image.woshipm.com/wp-files/2020/08/3Cwf5OyHvKIUpnAu0umy.png" alt="" width="505" height="295" /></p>
<p style="text-align: center;">图3 共情思维</p>
<p>在共情思维的培养上，可以尝试做到如下几点。</p>
<ul>
<li><strong>学会聆听：</strong>产品经理需要成为表达者，更需要成为一个聆听者。</li>
<li><strong>提高对价值观的认知：</strong>价值观可以影响一个人的喜好，也决定了一个人关注的利益点，所以提高了解他人价值观的能力，才能知道用户更在意什么。</li>
<li><strong>持续与用户的互动：</strong>想了解某个群体，持续不断与目标群体进行沟通，是最简单且最有效的方式。</li>
</ul>
<blockquote><p>正如人本主义理论创始人罗杰斯所说：共情是理解另一个人在这个世界上的经历，就好像你是那个人一般。但同时也要记得，你和他还是不同的，你只是理解了那个人，而不是成为了他。</p></blockquote>
<p>对于共情能力的讨论，百度资深产品Z也表达了一些自己的看法。</p>
<p>在讨论全局思维时，大家谈到产品Sense，而这里我需要说一下，产品经理的工作范式就是发现问题、分析问题与解决问题，这次过程中，工作输出的质量取决于产品Sense。而产品Sense的获取，取决于产品经理的共情能力。</p>
<p>更关键的是，校招生在工作之初，其实是不用纠结于产品方向，不管是B端还是C端等等，在工作初期，我们对他们的要求是相似的，那就是对用户需求的把控能力，而这恰好是共情能力的体现。</p>
<p>上述三种能力，是通过对聊天局有关思维能力的内容萃取。三项内容不多，但关键，因为思维与思想是最有力量的武器。</p>
<h2>三、应届生的选择</h2>
<p>有人说，产品经理是CEO的学前班。</p>
<p>我们不讨论这样的说法是否言过其实，只看为什么会出现这样的说法。</p>
<p>产品经理的能力要求与企业的领导者的确有相似之处，比如见微知着的洞察力、高屋建瓴的战略观、取舍之间的大局观、推己及人的同理心等。</p>
<p>上述能力的获得，除了天赋异禀的选手，大部分人是需要后天磨炼的，而产品经理这样的岗位，恰好给了大家一个这样的机会。</p>
<p>因此，产品经理们有理由相信自己在未来可以获得更大的舞台，并由此获得更多的个人成长。</p>
<p>对于应届生来说，职业选择尤为关键。</p>
<p>这次和百度PM们的聊天局，也聊起了百度这样的大厂对应届生的吸引力到底在哪？通过梳理，我们大概可以得出如下几点：</p>
<ul>
<li>成熟的产品培训体系，缩短了产品小白的上手时间，加速了职业成长的进程；</li>
<li>众多业内大牛与良好的产品氛围，让校招生有了见贤思齐的成长环境；</li>
<li>强烈的工作成就感，在平台流量加成下，可以尽快完成产品设计验证。</li>
</ul>
<p>对于应届生来说，如今的互联网行业展现出了足够开放的心态与态度。</p>
<p>在疫情的大背景下，百度逆势扩招，招聘规模较往年扩大40%，云计算、地图、游戏、多语言、AI方向等多个方向的产品岗更是被大幅增加。所以有意从事该行业的学弟学妹们，可以大胆一试了。</p>
<p>最后再写几句话，送给正在从事以及想要从事产品经理岗位的人们。</p>
<p>产品设计如挥毫泼墨，是水磨石的功夫，天赋之外讲究个水滴石穿，而产品之路，美，美不胜收。</p>
<p>而且人这一辈子，如果能将爱好与工作合二为一，也是蛮幸福的，所以希望你真心喜爱产品经理这个岗位。</p>
<p>&nbsp;</p>
<p>本文由 @张小墨 原创发布于人人都是产品经理，未经作者许可，禁止转载。</p>
<p>题图来自Unsplash，基于CC0协议。</p>
➜文本挖掘实录：用文本挖掘剖析54万首诗歌
http://www.woshipm.com/data-analysis/4160560.html	5877
<blockquote><p>编辑导语：诗词的创作需要遵循很多的规矩，因此诗歌是有规律的。本文作者运用多种文本挖掘方法，对手头的诗歌语料库进行了深入的挖掘和分析，让我们一起来看看作者是如何完成文本数据的探索任务。</p></blockquote>
<p><img data-action="zoom" class="aligncenter size-full wp-image-4163112" src="http://image.woshipm.com/wp-files/2020/09/iKo5GzkClhvgVISDOhsK.jpg" alt="" width="900" height="420" /></p>
<p><strong>楔子：</strong></p>
<p>许多年之后，面对书桌上的两句残词，贬居黄州的东坡居士将会回想起，他在故乡眉山见到朱姓老尼的那个遥远的下午。彼时的东坡还不是东坡，还只是一个七岁孩童。有一天，他在家附近偶遇一位年约九十的朱姓老尼。</p>
<p>老尼看到苏轼天资聪颖，就跟他聊起自己年轻时的经历。她曾跟随师父进入后蜀主孟昶的宫中。一日，天酷热，孟昶和他的妃子花蕊夫人深夜纳凉于摩诃池上。面对此情此景，蜀主即兴赋词一首，老尼将她印象中仅存的打头两句告诉了苏轼.</p>
<p>四十年后，苏轼贬居于黄州，想起这段往事，遗憾于孟昶的词只余两句，突发奇想要将这两句词续写完整。他先猜测出这首词的词牌名——“洞仙歌令”，但要还原整首词作，必须深刻结合写词人当时之心情以及伴随而来的意境。</p>
<p>苏轼因而循着仅存的两句词，根据老尼给他的描述，竭力在脑海中还原蜀主当时的创作场景和心境，最终将词续完，成就名作《洞仙歌》：</p>
<blockquote><p>冰肌玉骨，自清凉无汗。水殿风来暗香满。绣帘开，一点明月窥人，人未寝，倚枕钗横鬓乱。</p>
<p>起来携素手，庭户无声，时见疏星渡河汉。试问夜如何，夜已三更，金波淡，玉绳低转。但屈指西风几时来，又不道流年暗中偷换。</p></blockquote>
<p>以上就是文学史上有名的“东坡续词”，虽说是文学史上的一段佳话，但笔者从中隐约看到了数理思维的影子。</p>
<p>诗词的创作过程有如在求解一个“最优化问题”：在一定的约束条件下，如诗词要遵守的平仄、押韵、对仗/对偶、五七变式、词谱、情境等，诗词创作者用文字将自己内心的真实感动用语言文字表达出来；在“戴着镣铐在跳舞”的情况下，竭力达到音韵美、精炼美、言辞美、朦胧美、情感美、绘画美和形式美的至臻境界。</p>
<p>此时，诗词之精美和数理之严密是可以完美结合的。</p>
<p>既然诗歌的创作是有规律的，那么，通过一定的数据挖掘手段，我们是能够从中发现一些insight的。</p>
<p>在本文中，笔者循着这个思路，将运用若干文本挖掘方法对手头的诗歌语料库（该诗歌原始语料库地址为https://github.com/Werneror/Poetry）进行深入挖掘和分析，该诗歌语料库的基本统计数据如下：</p>
<p><img data-action="zoom" class=" aligncenter" title="【文本挖掘实操】用文本挖掘剖析54万首诗歌" src="http://image.woshipm.com/wp-files/2020/08/GtG9Qy86l74lSxju08Zp.png" alt="【文本挖掘实操】用文本挖掘剖析54万首诗歌" width="504" height="636" /></p>
<p>从上表可以看到，该诗歌语料库中共计近85万余首诗歌，诗歌作者数量达29377位之多；其中，字段包括“题目”、“朝代”、“作者”和“内容（诗歌）”。</p>
<p>为了方便后续的分析，笔者仅取其中的律诗和绝句，且仅取其中的五言和七言，排律（如《春江花月夜》、《长恨歌》等）、杂言（如李白的将进酒）等就不在本文的分析范围之内。</p>
<p>经过数据清洗后，最终得诗544,443，占到原数据库的59.1%，以下分别是清洗后的诗歌数据统计结果和部分样例：</p>
<p><img data-action="zoom" class=" aligncenter" title="【文本挖掘实操】用文本挖掘剖析54万首诗歌" src="http://image.woshipm.com/wp-files/2020/08/Wra6NeHgrncjQvF56Dht.png" alt="【文本挖掘实操】用文本挖掘剖析54万首诗歌" width="604" height="549" /></p>
<p><img data-action="zoom" class=" aligncenter" title="【文本挖掘实操】用文本挖掘剖析54万首诗歌" src="http://image.woshipm.com/wp-files/2020/08/h4FRymjiIjFFBPEkuiMy.png" alt="【文本挖掘实操】用文本挖掘剖析54万首诗歌" width="1005" height="535" /></p>
<p>针对上述数据，笔者在本文中主要有两个大目标：</p>
<ol>
<li>构建一个包含热门题材标签的诗歌语料库，用于后续的诗歌题材分类和诗歌生成任务；</li>
<li>基于上述诗歌语料库的各类文本挖掘和语义分析，以期得到有趣味的发现。</li>
</ol>
<p>针对上述目标，本文的实现路线图，同时也是本文的行文脉络，如下所示（点击图片可放大查看）：</p>
<p><img data-action="zoom" class=" aligncenter" title="【文本挖掘实操】用文本挖掘剖析54万首诗歌" src="http://image.woshipm.com/wp-files/2020/08/HGfGG5mUynMLj0Vry9FI.png" alt="【文本挖掘实操】用文本挖掘剖析54万首诗歌" width="801" height="597" /></p>
<p>值得注意的是，上述实现路径中，涉及到自然语言处理的两大组成部分，即自然语言理解（分词、语义建模、语义相似度、聚类和分类等）和自然语言生成（诗歌生成和诗歌翻译），看完也会对自然语言处理有一定的了解。</p>
<p>信息量大，请耐心享用。</p>
<h2>1. 诗歌分词和热词发现</h2>
<p>给定一首诗歌文本，在其中随机取一个片段，如何判断这个片段是否是一个有意义的词汇呢？</p>
<p>如果这个片段左右的搭配变化较多、很丰富，同时片段内部的成分搭配很固定。那么，我们可以认为这个片段是一个词汇，比如下图中所示的“摩诘”就是符合这个定义，那么它就是一个词汇。</p>
<p><img data-action="zoom" class=" aligncenter" title="【文本挖掘实操】用文本挖掘剖析54万首诗歌" src="http://image.woshipm.com/wp-files/2020/08/nrfh9xWuYwJDSXXPLnJ2.png" alt="【文本挖掘实操】用文本挖掘剖析54万首诗歌" width="500" height="502" /></p>
<p>在具体实施的算法中，衡量片段外部左右搭配的丰富程度的指标叫“自由度”，可以用（左右）信息熵来度量；而片段内部搭配的固定程度叫“凝固度”，可以用子序列的互信息来度量。</p>
<p>在这里，笔者利用Jiayan（甲言）对这54余万首诗歌进行自动分词，在结果中按照词汇出现频率从高到低进行排序，最终从语料库中抽取若干有意义的高频词。其中，词汇的长度从1到4。</p>
<p>抽取结果如下（点击图片可放大查看）：</p>
<p><img data-action="zoom" class=" aligncenter" title="【文本挖掘实操】用文本挖掘剖析54万首诗歌" src="http://image.woshipm.com/wp-files/2020/08/LliHb9kzaacuCmvhs7uB.png" alt="【文本挖掘实操】用文本挖掘剖析54万首诗歌" width="600" height="608" /></p>
<p>笔者观察其中部分结果，发现一字词、二字词才能算得上一般意义上的词汇，如“不”、“烁”、“岁寒”、“留滞”等 。</p>
<p>三字词和四字词一般是多类词性词汇的组合，严格上讲，应该算作短语或者固定表达，如“随流水”、”云深处”、“人间万事”、“江湖万里”等。</p>
<p>但本文为了表述方便，笔者将它们统一称之为词。</p>
<p>下面，笔者分别展示词长从1到4的TOP100的高频词词云（点击图片可放大查看）。</p>
<p><img data-action="zoom" class=" aligncenter" title="【文本挖掘实操】用文本挖掘剖析54万首诗歌" src="http://image.woshipm.com/wp-files/2020/08/0YetqdvFUbXtFAubgHWX.png" alt="【文本挖掘实操】用文本挖掘剖析54万首诗歌" width="1000" height="602" /></p>
<p>一字高频词中，除去“不”、“无”、“有”这类“虚词”，单看“人山风日天云春花年月水”这11个高频字，暗合了中国天人合一哲学传统，作诗如作画，作诗者是把人放到自然环境、天地岁月这个时空大画卷中，七情六欲、天人感应，诗情画意就由感而生，诗意盎然了！</p>
<p>“诗画本一律”，古人诚不我欺！</p>
<p><img data-action="zoom" class=" aligncenter" title="【文本挖掘实操】用文本挖掘剖析54万首诗歌" src="http://image.woshipm.com/wp-files/2020/08/R3HCAIW23Zxi5hBIpu5O.png" alt="【文本挖掘实操】用文本挖掘剖析54万首诗歌" width="998" height="601" /></p>
<p>二字高频词中，较为显眼的是“万里”、“千里”，它们描绘出巨大的空间感，在诗歌中经常跟“宏景”“贬谪”、“思乡”、“闺怨”等主题捆绑在一起。</p>
<p>此外，“明月”、“故人”、“白云”、“功名”、“人间”、“平生”和“相逢”等词汇也是横亘古今的热门用语。</p>
<p><img data-action="zoom" class=" aligncenter" title="【文本挖掘实操】用文本挖掘剖析54万首诗歌" src="http://image.woshipm.com/wp-files/2020/08/QAApPVSV0oJEGrvv27QX.png" alt="【文本挖掘实操】用文本挖掘剖析54万首诗歌" width="1002" height="603" /></p>
<p>三字高频词中，数字的使用很是常见，如“二三子”、“二十四”、“一樽酒”、“二千石”等。其中，最值得一提的是诗人们用数词对时空的描绘：表达时间跨度的，如“二十年”、“四十年”、“五百年”、“十年前”、“千载后”等。</p>
<p>表达空间距离的，如“千里外”、“三百里”、“百尺楼”&#8230;&#8230;古人总是喜欢把自己置身于浩瀚渺茫的时空之中，去思考自己匆匆的人生。</p>
<p>正如东坡在《赤壁赋》的感慨：“寄蜉蝣于天地，渺沧海之一粟。哀吾生之须臾，羡长江之无穷！”</p>
<p><img data-action="zoom" class=" aligncenter" title="【文本挖掘实操】用文本挖掘剖析54万首诗歌" src="http://image.woshipm.com/wp-files/2020/08/dEK5EoHn0O81lnsHo29y.png" alt="【文本挖掘实操】用文本挖掘剖析54万首诗歌" width="1000" height="602" /></p>
<p>在四字高频词中，空间方位的词汇较多，如“南北东西”、“江南江北”、“东西南北”等词。</p>
<p>因四字词词长较长，像“人间万事”、“千岩万壑”、“明月清风”、“白云深处”、“相逢一笑”等词就拥有较高的信息量，能够还原大部分的诗歌意境了。</p>
<h2>2. 训练含纳诗歌词汇语义关联性的词嵌入模型</h2>
<p>词嵌入模型可以从海量的诗歌文本中自动学习到字词之间的关联关系，据此可实现字词关联度分析、字词相似度分析、聚类分析等任务。</p>
<p>然而，计算机程序不能直接处理字符串形式的文本数据，所以笔者首当其冲的一个步骤就是将诗歌文本数据分词，之后再“翻译”为计算机可以处理的数据形式，这由一个名为“文本向量化”的操作来实现。</p>
<p>先谈分词，它跟前面的高频词挖掘有联系，是后续所有分析任务的起始点。</p>
<p>结合前面积累的词库，再基于有向无环词图、句子最大概率路径和动态规划算法对这54万首诗歌进行分词操作。现试举一例：</p>
<p>分词前：“万物生芸芸，与我本同气。氤氲随所感，形体偶然异。丘岳孰为高，尘粒孰为细。忘物亦忘我，优游何所觊。”</p>
<p>分词后：[&#8216;万物&#8217;, &#8216;生&#8217;, &#8216;芸芸&#8217;, &#8216;，&#8217;, &#8216;与&#8217;, &#8216;我&#8217;, &#8216;本&#8217;, &#8216;同&#8217;, &#8216;气&#8217;, &#8216;。&#8217;,&#8217;氤氲&#8217;, &#8216;随&#8217;, &#8216;所&#8217;, &#8216;感&#8217;, &#8216;，&#8217;,&#8217;形体&#8217;, &#8216;偶然&#8217;, &#8216;异&#8217;, &#8216;。&#8217;, &#8216;丘岳&#8217;, &#8216;孰&#8217;, &#8216;为&#8217;, &#8216;高&#8217;, &#8216;，&#8217;, &#8216;尘&#8217;, &#8216;粒&#8217;, &#8216;孰&#8217;, &#8216;为&#8217;, &#8216;细&#8217;, &#8216;。&#8217;,&#8217;忘&#8217;, &#8216;物&#8217;, &#8216;亦&#8217;, &#8216;忘我&#8217;, &#8216;，&#8217;, &#8216;优游&#8217;, &#8216;何&#8217;, &#8216;所&#8217;, &#8216;觊&#8217;, &#8216;。&#8217;]</p>
<p>分词之后再做适当处理就可以“喂给”词嵌入模型（这里是Word2vec）进行训练了。</p>
<p>基于Word2vec词嵌入模型能从大量未标注的文本数据中“学习”到字、词向量，而且这些字、词向量包含了字词之间的语义关联关系（可以是语义相关或句法相关），正如现实世界中的“物以类聚，类以群分”一样，字词可以由它们身边的字（上下文语境）来定义，而Word2vec词嵌入模型恰恰能学习到这种词汇和语境之间的关联性。</p>
<p>其基本原理如下图所示（点击图片可放大查看）：</p>
<p><img data-action="zoom" class=" aligncenter" title="【文本挖掘实操】用文本挖掘剖析54万首诗歌" src="http://image.woshipm.com/wp-files/2020/08/4bLeI2PnVIzCWVuQLGkJ.png" alt="【文本挖掘实操】用文本挖掘剖析54万首诗歌" width="1003" height="753" /></p>
<p>训练完该模型后，将其训练结果投射到三维空间，则是如下景象（点击图片可放大查看）：</p>
<p><img data-action="zoom" class=" aligncenter" title="【文本挖掘实操】用文本挖掘剖析54万首诗歌" src="http://image.woshipm.com/wp-files/2020/08/thD4bHBLrBmsJZ8X8KGv.png" alt="【文本挖掘实操】用文本挖掘剖析54万首诗歌" width="1000" height="660" /></p>
<p>在训练Word2vec的过程中，模型会从大量的诗歌文本数据中学习到词汇之间的2类关联关系，即聚合关系和组合关系。</p>
<p>聚合关系：如果词汇A和词汇B可以互相替换，则它们具有聚合关系。</p>
<p>换言之，如果词汇A和词汇B含有聚合关系，在相同的语义或者句法类别中可以利用其中一个来替换另一个，但不影响对整个句子的理解。</p>
<p>例如，“萧萧”、“潇潇”都是象声词，多用于描述雨声，具有聚合关系，那么“山下兰芽短浸溪，松间沙路净无泥，萧萧暮雨子规啼”中的“萧萧”可以换做“潇潇”。</p>
<p>组合关系：如果词汇A和词汇B可以在句法关系上相互结合，那么它们具有组合关系。</p>
<p>例如，“雨打梨花深闭门，忘了青春，误了青春。赏心乐事共谁论？”中的“忘了”和“误了”都和“青春”存在组合关系，都是“动词+名词”的动宾结构。</p>
<p>现在来寻找与“兵燓”存在语义关联性的若干词汇：</p>
<p><img data-action="zoom" class=" aligncenter" title="【文本挖掘实操】用文本挖掘剖析54万首诗歌" src="http://image.woshipm.com/wp-files/2020/08/F0noW61i39eIeNPwEedz.png" alt="【文本挖掘实操】用文本挖掘剖析54万首诗歌" width="499" height="477" /></p>
<p>结果大都是跟“战争”、“创伤”相关的词汇，语义关联关系捕获能力较强，后续的热门诗歌体裁挖掘任务也会用到词嵌入模型的这个特性。</p>
<h2>3. 度量诗歌词汇之间的语义关联关系</h2>
<h3>3.1 利用余弦相似性度量诗歌词汇关联度</h3>
<p>度量词汇之间的相似度或者关联度，我们一般会使用两个词汇的词向量之间的余弦值，词向量之间的夹角越小，则余弦值越大，越接近1，则语义相关度越高；反之，相关度越低。</p>
<p>如下图所示，展示了“甲兵”、“兵戈”和“烽火”之间的余弦相似度的可视化示意图（点击图片可放大查看）：</p>
<p><img data-action="zoom" class=" aligncenter" title="【文本挖掘实操】用文本挖掘剖析54万首诗歌" src="http://image.woshipm.com/wp-files/2020/08/ANAJByuuS4kTzmmXwcDR.png" alt="【文本挖掘实操】用文本挖掘剖析54万首诗歌" width="600" height="439" /></p>
<p>通过上述词嵌入模型，similarity（“甲兵”,“兵戈”）= 0.75，similarity（“甲兵”,“烽火”） = 0.37，similarity（“兵戈”,“烽火”）= 0.48。则在这三个词汇中，“甲兵”和“兵戈”之间的语义相关度最高，其次是“兵戈”和“烽火”，最次的“甲兵”和“烽火”。</p>
<p>这种给一个数值来识别词汇相关不相关的方法优点在于表达简洁、计算高效，比如接下来将要进行的热门诗歌题材发现/聚类。但是，这种词汇相关度的计算没有把词汇之间的相关度的“因果路径”直观的反映出来。</p>
<p>那么，有没有一种直观的方法来展示词汇之间的语义相关性，并且能看到为什么它们是存在这样的关联关系（也就是找到词汇关联路径或者语义演变路径）？</p>
<p>答案是——当然有。</p>
<p>我们需要把这个找寻词汇语义演变路径的任务转换成一个TSP问题（旅行商问题）。</p>
<h3>3.2 利用A*算法找寻词汇之间的语义演变路径</h3>
<p>TSP问题（Traveling Salesman Problem）又译为旅行推销员问题，是数学领域中着名问题之一。</p>
<p>假设有一个旅行商人要拜访n个城市，他必须选择所要走的路径，路径的限制是每个城市只能拜访一次，而且最后要回到原来出发的城市。路径的选择目标，是要求得的路径路程为所有路径之中的最小值。</p>
<p>回到词汇相关度度量的问题上来，如果我们能在上述训练得到的词嵌入空间中找到两个词汇之间的最短“语义演变”线路，我们就能直观的呈现出这2个词汇之间产生语义关联的“前因后果”。</p>
<p>要实现这个目的，有一个很棒的算法可以实现 &#8212; A*算法（A* search algorithm）。</p>
<p>A*算法，也叫A*（A-Star)算法，是一种静态路网中求解最短路径最有效的直接搜索方法，也是解决许多搜索问题的有效算法。算法中的距离估算值与实际值越接近，最终搜索速度越快。</p>
<p>下图中（点击图片可放大查看），网状结果即是之前构建的word2vec词嵌入空间，节点是其中分布的词汇，边由字词之间的余弦相关度构成。</p>
<p><img data-action="zoom" class=" aligncenter" title="【文本挖掘实操】用文本挖掘剖析54万首诗歌" src="http://image.woshipm.com/wp-files/2020/08/NQjspxoHuRuvcQIdu7q1.png" alt="【文本挖掘实操】用文本挖掘剖析54万首诗歌" width="502" height="469" /></p>
<p>笔者基于上面的词嵌入模型，结合A*算法来计算两个词汇之间的最短语义路径，部分结果如下所示（点击图片可放大查看）：</p>
<p><img data-action="zoom" class=" aligncenter" title="【文本挖掘实操】用文本挖掘剖析54万首诗歌" src="http://image.woshipm.com/wp-files/2020/08/tNxgB9nDKth3DMAk30eb.png" alt="【文本挖掘实操】用文本挖掘剖析54万首诗歌" width="804" height="391" /></p>
<p>在上图的5个词汇对中，“渔樵”和“躬耕”之间的语义距离最短，也就是语义相关度最高，它们之间的语义演变路径也就越短，中间只隔了2个词汇；“燕市”和“宝婺”的语义距离最大，语义相关度最小，二者的语义演变路径隔了12个词汇。</p>
<p>可以看到，语义关联性越弱（distance值越大）的两个词汇之间的最短语义演变路径就越长，反之越短。所以语义距离与语义演变路径长度呈正相关关系，语义关联度与语义演变路径呈负相关关系。</p>
<p>有了前面的词嵌入模型和语义相关度做“铺垫”，后续的热门诗歌题材发现就水到渠成了~</p>
<h2>4. 用文本聚类进行热门诗歌题材发现</h2>
<p>先开宗明义，在本文中，关于“诗歌题材”中的“题材”二字的定义，笔者认为是：作为诗歌创作材料的社会生活的某些方面，亦特指诗人用以表现作品主题思想的素材，通常是指那些经过集中、取舍、提炼而进入作品的生活事件或生活现象。</p>
<p>一言以蔽之，写景、摹物、抒情、记事、明理皆是“题材”。</p>
<p>因为事先不知道这54万余首诗歌中到底会存在多少个题材，所以笔者选取的聚类算法没有预设聚类数这个参数，且兼顾运行效率和节省计算资源，能利用前面训练好的word2vec词嵌入模型和语义关联度计算。</p>
<p>此时，有个很好的选择——社区发现算法中的Infomap。</p>
<h3>4.1 基于社区发现的热门诗歌题材发现</h3>
<p>字词是承载诗歌题材的最小语义单元，如“五云山上五云飞，远接群峰近拂堤。若问杭州何处好，此中听得野莺啼”，看到其中的“五云山”和“群峰”，则可以给该诗打上一个“山川巍峨”的题材标签。</p>
<p>由此，笔者接下来会基于社区发现算法，结合“词汇簇群——词汇簇群语义特征——题材标签”的思路来发现热门诗歌题材。</p>
<p>先说说基于社区发现的大致原理。</p>
<p>我们知道，在社交网络中，每个用户相当于每一个点，用户之间通过互相的关注关系构成了整个线上人际网络。</p>
<p>在这样的网络中，有的用户之间的连接较为紧密，有的用户之间的连接关系较为稀疏。其中连接较为紧密的部分可以被看成一个社区，其内部的节点之间有较为紧密的连接，而在两个社区间则相对连接较为稀疏。</p>
<p>如何去划分上述的社区便称为社区发现的问题。</p>
<p>基于社区发现算法的话题聚类、发现，在于挖掘词汇语义网络中居于头部的大型“圈子”。</p>
<p>将词汇拟人化，词汇之间存在的相似度、关联度可以视为词汇之间的亲密程度。那么，诗歌题材发现任务可以看做是找到不同成员组成的“圈子”，圈子的特性可以根据其中的成员特征来确定。</p>
<p>换言之，题材的名称可以根据其中聚合的词汇的内涵来拟定，比如某个词汇簇群中包含“卫霍”、“甲兵”、“征战”等词汇，那么这个题材可以命名为“战争”。</p>
<p>示意图如下所示（点击图片可放大查看）：</p>
<p><img data-action="zoom" class=" aligncenter" title="【文本挖掘实操】用文本挖掘剖析54万首诗歌" src="http://image.woshipm.com/wp-files/2020/08/J0f624bijTroUbWdLTj7.png" alt="【文本挖掘实操】用文本挖掘剖析54万首诗歌" width="799" height="613" /></p>
<p>运行社区发现算法后，居于头部的热门题材词汇簇群的可视化呈现如下（点击图片可放大查看）：</p>
<p><img data-action="zoom" class=" aligncenter" title="【文本挖掘实操】用文本挖掘剖析54万首诗歌" src="http://image.woshipm.com/wp-files/2020/08/UD0qL6ANRsACPXjouLE8.png" alt="【文本挖掘实操】用文本挖掘剖析54万首诗歌" width="803" height="783" /></p>
<p>其中，不同颜色表征不同的题材，字体大小代表其出现频次，词汇之间的距离远近表征其相关程度大小。</p>
<p>经聚类得到634个题材，根据热度（题材下辖词汇数量）的降序排列呈现最终结果，如下所示（点击图片可放大查看）：</p>
<p><img data-action="zoom" class=" aligncenter" title="【文本挖掘实操】用文本挖掘剖析54万首诗歌" src="http://image.woshipm.com/wp-files/2020/08/OpyZ6QtNMzcvfZ5fn9Xr.png" alt="【文本挖掘实操】用文本挖掘剖析54万首诗歌" width="801" height="622" /></p>
<h3>4.2 甄别热门诗歌题材</h3>
<p>在这一环节中，笔者的在于根据一些诗歌领域知识，找到上述运行结果中热门题材及其下辖的题材专属性词汇。</p>
<p>其中，“题材专属性词汇”的内涵主要有以下两点：</p>
<ol>
<li>词汇不能再做进一步切割，否则词义会发生变化：如“丈夫”在古汉语中的意义是“男子汉”，在一个独立的词汇，若将其切割为“丈”和 “夫”，则原意丧失殆尽；</li>
<li>词汇仅在一个题材中出现，具有排他性：如“杖藜”只出现在“云游四方”这个题材中，不会出现在“金戈铁马”、“对酒当歌”、“悼亡故人”等其他诗歌题材中。</li>
</ol>
<p>根据笔者在前文中的定义，写景、摹物、抒情、记事、明理皆是“题材”，这里的热门题材甄别采取“抓大放小”的原则。</p>
<p>此外，虽然聚类出的结果较为理想，但还是存在些许噪音。比如，出现少许跟题材相关性不强的词汇、题材区分度较低的词汇、词汇簇群中的词汇过少（如低于10个）等，这些都是需要被刨除掉的情况。</p>
<p>经过笔者的仔细甄别，共甄别出23个热门诗歌题材，分别是山川巍峨、田园躬耕、羁旅思乡、金戈铁马、咏史怀古、咏物抒怀、赠友送别、爱情闺怨、悼亡故人、楼船画舫、花开荼蘼、对酒当歌、骐骥骏马、得道修仙、世事变迁、静悟禅机、壮怀激烈、云游四方、黯然神伤、星宿璀璨、报效君恩、嘤嘤鸟语、蓑笠纶竿等。</p>
<p>当然这些并不是全部的题材，限于笔者学识，仍然有大量题材没有发掘出来。枚举部分结果如下（点击图片可放大查看）：</p>
<p><img data-action="zoom" class=" aligncenter" title="【文本挖掘实操】用文本挖掘剖析54万首诗歌" src="http://image.woshipm.com/wp-files/2020/08/aVBjxzw5OknRo0PvYy1K.png" alt="【文本挖掘实操】用文本挖掘剖析54万首诗歌" /></p>
<p>在这一环节，笔者根据对诗歌背景知识的了解，筛选出部分热门诗歌题材，并形成题材对应的关键词规则体系，后续可用于对这54万余首诗歌进行基于关键词的诗歌题材分类。</p>
<p>值得注意的是，由于这一环节挑选关键词过于苛刻，导致数量较少，规则体系不甚健全。</p>
<p>所以，在对诗歌语料库进行正式的诗歌题材分类前，笔者需要使用一些“小手段”，对上述热门题材的关键词规则进行扩充。</p>
<h2>5. 根据线性分类器特征延伸关键词</h2>
<p>在这里，笔者先利用已得到的热门题材分类体系及其关键词规则给这54万余首诗歌打上题材标签，允许出现同一首诗歌命中多个标签的情形。除去其中未命中题材标签的数据，共计443,589行，其中多数诗歌打上了2个及以上的题材标签。</p>
<p>部分结果如下所示（点击图片可放大查看）：</p>
<p><img data-action="zoom" class=" aligncenter" title="【文本挖掘实操】用文本挖掘剖析54万首诗歌" src="http://image.woshipm.com/wp-files/2020/08/hNZvMbAl1KquNq7MD52I.png" alt="【文本挖掘实操】用文本挖掘剖析54万首诗歌" width="1010" height="448" /></p>
<p>有了带标签的数据以后，笔者将多标签问题转换为单标签问题，再将上述诗歌文本及其对应的标签“喂进”线性分类器，根据线性分类器的权重来找到每个类别下最具代表性的词汇，也就是题材专有性词汇。</p>
<p>这里选择线性分类器而不是时下流行的深度学习分类器的原因就在于它的可解释性，能让我们清楚的知道是哪些显着的特征（此处是词汇）让诗歌分到这个题材类别下的。</p>
<p>其大致原理如下图所示（点击图片可放大查看）：</p>
<p><img data-action="zoom" class=" aligncenter" title="【文本挖掘实操】用文本挖掘剖析54万首诗歌" src="http://image.woshipm.com/wp-files/2020/08/oya7Z3mqFs7aXRVH5UT9.png" alt="【文本挖掘实操】用文本挖掘剖析54万首诗歌" /></p>
<p>在笔者测试的众多线性分类器中，即RandomForestClassifier、Perceptron、PassiveAggressiveClassifier、MultinomialNB、RidgeClassifier、SGDClassifier，RidgeClassifier的区分效果最好，其F1_score为0.519，鉴于是词袋模型，语义表示较为简单，且原本是多标签分类任务，这个结果尚可接受。</p>
<p>基于RidgeClassifier的特征词汇权重的降序排列结果，可得到上述23个热门诗歌题材分类中的若干题材专有性词汇，部分结果展示如下（点击图片可放大查看）：</p>
<p><img data-action="zoom" class=" aligncenter" title="【文本挖掘实操】用文本挖掘剖析54万首诗歌" src="http://image.woshipm.com/wp-files/2020/08/Cpxn3T8LWXWMwSYBoyqQ.png" alt="【文本挖掘实操】用文本挖掘剖析54万首诗歌" width="1050" height="552" /></p>
<p>这样，各个类别各取TOP500词汇，经过笔者的甄别和梳理后，各个题材关键词规则得到了不同程度的扩充，使得该分类标签体系可以较好的辅助完成诗歌题材多标签分类任务，且后续可以结合分类结果做不断的扩充。</p>
<p>基于这个更加完善的诗歌题材分类体系，笔者运行完之后得到58W+行数据，在之前的基础上增加了14W+行数据，数据规模提升明显！</p>
<p>至此，笔者第一个目标，即热门诗歌题材标签语料库构建完毕，后续的文本挖掘任务可以在此基础上进行。</p>
<p>由分类标签及其分类模型反向推导其中最具代表性的特征词汇，这是一个“数据&#8212;&gt;规律”的归纳过程，很好的体现了数据驱动思维；而模型将学习归纳得到的“经验”推广到新样本的标签预测任务中，则体现了“规则&#8212;&gt;数据”的演绎过程。</p>
<p><img data-action="zoom" class=" aligncenter" title="【文本挖掘实操】用文本挖掘剖析54万首诗歌" src="http://image.woshipm.com/wp-files/2020/08/cW33vAsUzzu1Yh4LTG6m.png" alt="【文本挖掘实操】用文本挖掘剖析54万首诗歌" width="805" height="409" /></p>
<h2>6. 基于分类标签的各类统计分析</h2>
<p>针对上述58W+行数据构成的诗歌题材语料库，将其中的题材分类标签和各类meta data（如风格、朝代、作者等）做交叉分析，得到很多有意思的分析结果。</p>
<h3>6.1 诗歌题材&amp;风格分析</h3>
<p>将诗歌数据集的风格标签和题材标签进行交叉列表的成分占比分析，得到的结果如下（点击图片可放大查看）：</p>
<p><img data-action="zoom" class=" aligncenter" title="【文本挖掘实操】用文本挖掘剖析54万首诗歌" src="http://image.woshipm.com/wp-files/2020/08/lKs4lHgRHqwPjr5pVF8y.png" alt="【文本挖掘实操】用文本挖掘剖析54万首诗歌" /></p>
<p>其中，可以发现一些明显的统计描述性特征：</p>
<ul>
<li>“赠友送别”和“嘤嘤鸟语”这两个题材在所有诗歌风格中的占比都较高，是两个较为“热门”的题材；</li>
<li>“悼亡故人”和“壮怀激烈”这两个题材在所有诗歌风格中的占比都较低，是两个较为“冷门”的题材。</li>
</ul>
<h3>6.2 题材标签共现分析</h3>
<p>前面的诗歌题材分类是多标签分类，也就是可能会出现同一首诗歌对应多个题材标签的情况。在这种情况下，我们可以进行题材标签的共现分析，也就是多次同时出现的题材标签，它们之间会存在一定的关联性。</p>
<p>现对标签共现的情况进行建模，得到的结果可视化呈现如下所示（点击图片可放大查看）：</p>
<p><img data-action="zoom" class=" aligncenter" title="【文本挖掘实操】用文本挖掘剖析54万首诗歌" src="http://image.woshipm.com/wp-files/2020/08/0sTygdChjLjPb3PwR6LZ.png" alt="【文本挖掘实操】用文本挖掘剖析54万首诗歌" /></p>
<p>上图中，线条的粗细表示共现的频次多寡，越粗表示共现频次越高，反之越低。其中，有几对标签对的共现频率较高：</p>
<ul>
<li>世事变迁 &#8211; 黯然神伤</li>
<li>羁旅思乡 &#8211; 世事变迁</li>
<li>咏史怀古 &#8211; 蓑笠纶竿</li>
<li>世事变迁 &#8211; 金戈铁马</li>
<li>对酒当歌 &#8211; 世事变迁</li>
<li>悼亡故人 &#8211; 世事变迁</li>
</ul>
<p>其中，“黯然神伤”和“世事变迁”的相关性最高，这个很好理解，毕竟“物是人事事休，欲语泪先流”，类似因感叹逝事而伤感的诗句还有“人世几回伤往事，山形依旧枕寒流”、“一生事业总成空，半世功名在梦中”；“羁旅思乡”和“世事变迁”之间的相关性第二高，此类的诗句有“少小离家老大回，乡音无改鬓毛衰”、“去日儿童皆长大，昔年亲友半凋零”等。</p>
<p>此外，我们也可以发现，在出现2个及两个以上题材标签的诗歌中，“世事变迁”和其他题材同时出现的概率很大：世事变迁可能导致诗人黯然神伤；也可能是战争导致兵连祸结，产生出“兴，百姓苦，亡，百姓苦”的感慨；抑或是“桃李春风一杯酒，江湖夜雨十年灯”的对酒当歌。</p>
<h3>6.3 诗歌题材趋势分析</h3>
<p>笔者将诗歌数据集中的朝代按照时间顺序由远及近进行排列，并合并其中年代接近的朝代，将其与23个热门诗歌题材做（占比）交叉分析，得到下图（点击图片可放大查看）：</p>
<p><img data-action="zoom" class=" aligncenter" title="【文本挖掘实操】用文本挖掘剖析54万首诗歌" src="http://image.woshipm.com/wp-files/2020/08/RiuNjWCjVNhOVxLNWVLR.png" alt="【文本挖掘实操】用文本挖掘剖析54万首诗歌" width="1011" height="396" /></p>
<p>在上图中，可以分别从横向维度（朝代）和纵向（诗歌题材）维度来看。</p>
<p><strong>6.3.1 从横向维度上看</strong></p>
<p>有两个题材经久不衰，即“赠友送别”和“嘤嘤鸟语”。</p>
<p>古时候由于交通不便，通信极不发达，亲人朋友之间往往一别数载难以相见，所以古人特别看重离别。</p>
<p>离别之际，人们往往设酒饯别，折柳相送，有时还要吟诗话别，因此“赠友送别”就成为古代文人吟咏的一个永恒的题材。</p>
<p>在这浓浓的感伤之外，往往还有其他寄寓：或用以激励劝勉，如“莫愁前路无知己，天下谁人不识君”；或用以抒发友情，如“桃花潭水深千尺，不及汪伦送我情”；或用于寄托诗人自己的理想抱负，如“洛阳亲友如相问，一片冰心在玉壶”；甚至洋溢着积极向上的青春气息，充满希望和梦想，如“海内存知己，天涯若比邻”。</p>
<p>“嘤嘤鸟语”题材的诗歌一般用“比兴”的手法来寄寓自己的情感，笔者所了解的有两类：</p>
<p>一是通过写鸟语描摹诗人淡薄、回归山野自然的平静心境，这方面的诗王摩诘写的最多，如“月出惊山鸟，时鸣春涧中”、“漠漠水田飞白鹭，阴阴夏木啭黄鹂”、“雉雊麦苗秀，蚕眠桑叶稀”等；</p>
<p>二是通过子规（杜鹃）、鸿雁等意象来表达诗人淡淡的忧伤，如“杨花落尽子规啼，闻道龙标过五溪”的依依惜别之情、“两边山木合，终日子规啼”的思乡归家之情、“雁尽书难寄，愁多梦不成”的思君心切。</p>
<p><strong>6.3.2 从纵向维度上看</strong></p>
<p>隋末唐初时期除了上述提及的两大热门题材外，关于“报效君恩”题材的诗歌占比较高。</p>
<p>彼时适逢华夏第三次大一统，“贞观之治”、“开元之治”这两大盛世荣耀大唐在“朕即国家”的时代，广大热血青年渴望驰骋疆场，建功立业，报效国家。</p>
<p>此外，笔者也注意到，从金代到到当代，“花开荼蘼”、“羁旅思乡”、“金戈铁马”和“静悟禅机”等题材就一直葆有较高的热度，结合前面提及的2大经久不衰的诗歌题材，这表明这段时期的诗歌创作方向具有一定的延续性。</p>
<p>从上表中，我们能有一些发现，但如果想更获取一些更深层次、潜藏在表层数据中的信息，我们还需要用高阶的数据挖掘方法将其转换一下。</p>
<p>在这里，笔者使用多元对应分析的方法将其高维表示（也就是上面的21*23维的图表）映射为二维表示（分解为2个二维矩阵，题材为23*2，朝代为21*2），从而更直观的揭示出诗歌题材之间、诗歌题材与朝代之间的关联关系，如下图所示（点击图片可放大查看）：</p>
<p><img data-action="zoom" class=" aligncenter" title="【文本挖掘实操】用文本挖掘剖析54万首诗歌" src="http://image.woshipm.com/wp-files/2020/08/jdYiD7Xd9UULoOmITHdT.png" alt="【文本挖掘实操】用文本挖掘剖析54万首诗歌" /></p>
<p>在上图中，有两类坐标&#8212;外围有半径圆圈的红色点是朝代的，“x”的诗歌题材的坐标。</p>
<p>汉代的坐标“孤悬海外”是因为数据量过小，统计特征不甚明显，故笔者在这里不做分析。</p>
<p>在图的左上角，魏晋、南北朝、隋末唐初、隋这几个朝代的圆圈重合度较高，说明它们的诗歌题材数量分布较为相似，联想到这几个朝代前后相继，这又一次体现了诗歌创作具有时代延续性的特征。</p>
<p>同样，唐代及其以后的圆圈呈“扎堆状”，标明它们的诗歌写作题材的数量分布较为相似，反映出唐以降的朝代在诗歌创作题材方面的差异度较小，题材创作方向的创新性不高。究其原因，在于诗歌在唐代已经进化到“究极状态”：</p>
<p>唐诗的题材和意境也几乎无所不包，修辞手段的运用已达到炉火纯青的程度。</p>
<p>它不仅继承了汉魏民歌、乐府传统，并且大大发展了歌行体的样式；不仅继承了前代的五、七言古诗，并且发展为叙事言情的长篇巨制；不仅扩展了五言、七言形式的运用，还创造了风格特别优美整齐的近体诗。</p>
<p>近体诗是当时的新体诗，它的创造和成熟，是唐代诗歌发展史上的一件大事。它把我国古曲诗歌的音节和谐、文字精炼的艺术特色，推到前所未有的高度，为古代抒情诗找到一个最典型的形式，至今还特别为人民所喜闻乐见。</p>
<p>唐诗代表了中华诗歌的最高成就，无疑是中华以及世界文坛上浓墨重彩的笔触！这对于想要另辟新境的宋代诗人来说无疑是巨大的压力。正如王安石和鲁迅所言：</p>
<blockquote><p>“世间好语言，已被老杜道尽；世间俗语言，已被乐天道尽”，</p>
<p>“我以为一切好诗，到唐朝已被做完，此后倘非翻出如来掌心之‘齐天大圣’，大可不必再动手了”。</p></blockquote>
<h2>7. 通过GPT-2生成表达流畅的诗歌</h2>
<p>从某种程度上讲，诗歌生成是从另一维度对诗歌进行深度分析。</p>
<p>生成什么诗歌，跟诗歌生成模型“吃下去”什么是息息相关的。诗歌生成模型的“生成”不是“无源之水”、“无本之木”，它是在充分学习和吸收前人的若干诗作后，习得了一定的“创作手法”，因而能生成效果尚可的诗歌。</p>
<p>同时，我们也能从生成的结果中发现诗歌创作的一些规律，做一些深入探究。</p>
<h3>7.1 诗歌生成示例分析</h3>
<p>在这一部分，笔者用于训练诗歌生成模型的语料库是基于热门题材标签体系得到的带有题材标签（目前是23个）的律诗（七言和五言）和绝句（七言和五言），它们都满足诗歌的结构性、音调性和语义性的要求。</p>
<p>这里笔者采用的是GPT2（Generative Pre-Training 2nd），它是一个无监督语言模型，能够生成具有连贯性的文本段落，在许多语言建模任务基准中取得了领先级表现（数据量级和参数量级摆在那里，当然跟它的后浪GPT3不能比）。</p>
<p>而且该模型在没有任务特定训练的情况下，能够做到初步的阅读理解、机器翻译、问答和自动摘要。</p>
<p>其核心思想可以总结为“给定越多参数以及越多样、越大量的文本，无监督训练一个语言模型或许就可让该模型具备更强的自然语言理解能力，并在没有任何监督的情况下开始学会解决不同类型的 NLP 任务”。</p>
<p>在文本的诗歌生成任务中，笔者从零到一训练一个诗歌生成的GPT2模型，力求让该模型学习到诗歌数据集中的各类显性特征（题材与诗歌的关系、诗歌与风格的关系、藏头字和诗歌的关系等）和隐性特征（主要是诗歌的韵律），其大致原理如下图所示：</p>
<p><img data-action="zoom" class=" aligncenter" title="【文本挖掘实操】用文本挖掘剖析54万首诗歌" src="http://image.woshipm.com/wp-files/2020/08/1r5vP0qyoEQRbIBLDKeW.png" alt="【文本挖掘实操】用文本挖掘剖析54万首诗歌" width="1004" height="644" /></p>
<p>相比3年前笔者写<a href="http://www.woshipm.com/data-analysis/970466.html" target="_blank" rel="noopener">《用文本挖掘剖析近5万首&lt;全唐诗&gt;》</a></p>
<p>时用的LSTM诗歌生成模型，GPT2模型进步巨大：</p>
<ul>
<li>生成的诗歌更加通顺，每一联的出句和入句的衔接也显得更为自然；</li>
<li>能从全局（即整首诗）着眼，记忆能力好，考虑上下文语境，前后生成的诗句紧密关联，不会出现“跳题材”的情况；</li>
<li>能学习到诗歌数据中较为隐性的特征，如押韵、平仄、对仗、疑问语气等；</li>
<li>因拥有上述3个优势，生成的诗歌“废品率”大大降低。</li>
</ul>
<p>下面，笔者将“花式”呈现GPT2的诗歌生成能力：</p>
<p>1）生成的诗歌可能会和前人写的诗句有一定的相关性，但是GPT2模型可以进行“魔改”，很难看出直接的“抄袭对象”。</p>
<p>例如：以下由GPT2模型生成的七言律诗，每一联都能在语料库中找到语义最为接近的一句：</p>
<p>战鼙传响彻神州，万里中原一白头。兵后英雄谁不死，眼前豪杰已无忧。乾坤纳纳归天地，岁月悠悠老斗牛。安得扁舟成独往，五湖烟浪是东流。</p>
<p><img data-action="zoom" class=" aligncenter" title="【文本挖掘实操】用文本挖掘剖析54万首诗歌" src="http://image.woshipm.com/wp-files/2020/08/Qs32cLlOJ1nvJoqajQKd.png" alt="【文本挖掘实操】用文本挖掘剖析54万首诗歌" width="704" height="754" /></p>
<p>2）很多生成的诗歌能较好的学习到韵律，比如符合《平水韵》的用韵规则：</p>
<p>上一个示例就是《平水韵》中七律平起（首句入韵）的一个样例：</p>
<p>【平仄】</p>
<blockquote><p>平平仄仄仄平平（韵）</p>
<p>仄仄平平仄仄平（韵）</p>
<p>仄仄平平平仄仄</p>
<p>平平仄仄仄平平（韵）</p>
<p>平平仄仄平平仄</p>
<p>仄仄平平仄仄平（韵）</p>
<p>仄仄平平平仄仄</p>
<p>平平仄仄仄平平（韵）</p></blockquote>
<p>【押韵】</p>
<blockquote><p>战鼙传响彻神州【州：十一尤】 押韵</p>
<p>万里中原一白头【头：十一尤】 押韵</p>
<p>兵后英雄谁不死</p>
<p>眼前豪杰已无忧【忧：十一尤】 押韵</p>
<p>乾坤纳纳归天地</p>
<p>岁月悠悠老斗牛【牛：十一尤】 押韵</p>
<p>安得扁舟成独往</p>
<p>五湖烟浪是东流【流：十一尤】 押韵</p></blockquote>
<p>另外再看两个case：</p>
<p><img data-action="zoom" class=" aligncenter" title="【文本挖掘实操】用文本挖掘剖析54万首诗歌" src="http://image.woshipm.com/wp-files/2020/08/VZ4mYlij0mLw8falLEbh.png" alt="【文本挖掘实操】用文本挖掘剖析54万首诗歌" width="1007" height="630" /></p>
<p>即使一些诗歌不是严格的用韵（即一首诗只能押一个韵），也会自动采用邻韵的方式来缓解韵律失和的问题。</p>
<p>3）对人张若虚的乐府旧题《春江花月夜》（因为是乐府诗，字数较多，未参与诗歌生成模型的训练）中的若干诗句，采用对对子的方法生成下联，毫无违和感：</p>
<blockquote><p>【上联】春江潮水连海平，海上明月共潮生 【下联】古塔风云绕山青，峰顶彩霞共霭晖</p>
<p>【上联】滟滟随波千万里，何处春江无月明 【下联】幽幽如幻五十年，此间尘世有风流</p>
<p>【上联】江流宛转绕芳甸，月照花林皆似霰 【下联】山势氤氲浮翠霭，风梳杨柳欲飞烟</p>
<p>【上联】斜月沉沉藏海雾，碣石潇湘无限路 【下联】春江漫卷漾烟雨，长河日夜有缘人</p>
<p>【上联】不知江月待何人，但见长江送流水 【下联】只向渔家寻旧迹，试问何处答耕桑</p>
<p>【上联】白云一片去悠悠，青枫浦上不胜愁 【下联】碧水千层横漠漠，赤雁南来正飞歌</p>
<p>【上联】鸿雁长飞光不度，鱼龙潜跃水成文 【下联】渔家小住月相随，鸥鹭往来船载歌</p>
<p>【上联】此时相望不相闻，愿逐月华流照君 【下联】何处觅人犹有约？欲邀仙子去还家</p>
<p>【上联】江畔何人初见月？江月何年初照人 【下联】天下有地可藏龙，海风哪处可观心</p>
<p>【上联】江天一色无纤尘，皎皎空中孤月轮 【下联】杨柳千丝犹有梦，蒙蒙江上满船灯</p></blockquote>
<p>4）嵌入笔者所在的公司名称&#8212;“达观数据”作为藏头字，分别以“山川巍峨”、“得道修仙”、“田园躬耕”为题材，生成三首七言律诗：</p>
<p>《其一》</p>
<blockquote><p>达摩七十二峰高，天下英雄气郁陶。</p>
<p>观海三山云缥缈，登楼千仞势岧峣。</p>
<p>数茎白发身长健，百尺丹梯路不遥。</p>
<p>据险未能穷胜览，凭栏徙倚思飘飖。</p></blockquote>
<p>《其二》</p>
<blockquote><p>达者由来本自然，人间何处不神仙。</p>
<p>观空已悟三千界，阅世方知二十年。</p>
<p>数点青山随杖屦，一行白鸟下云烟。</p>
<p>据鞍更欲凌风去，回首孤城落照边。</p></blockquote>
<p>《其三》</p>
<blockquote><p>达摩万象付评量，造化从来自一方。</p>
<p>观物有时开口笑，看人无处着心忙。</p>
<p>数间茅屋临流水，几个渔舟傍夕阳。</p>
<p>据得此中真面目，乾坤何地不沧桑。</p></blockquote>
<p>5）在训练和生成式引入更多的诗歌标签信息，如风格、题材和藏头字，引导GPT2朝期望的方向的生成诗歌。</p>
<p>训练好模型后，笔者输入诗歌风格（七言绝句、七言律诗）、藏头字（沧海月明）和题材（金戈忒吗、世事变迁、静悟禅机等），生成如下诗歌：</p>
<p><strong>【格式】七言绝句 【藏头字】戢戈为武 【主题】金戈铁马</strong></p>
<p>戢兵十万羽林郎，戈壁纵横百战场。为报将军能破敌，武功原是好封疆。</p>
<p><strong>【格式】七言律诗 【藏头字】沧海月明 【主题】金戈铁马</strong></p>
<p>沧海干戈一战场，西风吹泪洒衣裳。海门万里烽烟息，天地千秋雨露凉。月下楼船喧鼓角，夜深笳鼓动旌旗。明年此夕登临处，独倚阑干对夕阳。</p>
<p><strong>【格式】七言律诗 【藏头字】沧海月明 【主题】金戈铁马</strong></p>
<p>沧波渺渺接长河，极目苍茫感慨多。海上楼船三百里，云间楼阁五千过。月明古渡渔歌起，秋入荒城鼓角和。明日相逢又相别，不堪回首泪滂沱。</p>
<p><strong>【格式】七言律诗 【藏头字】沧海月明 【主题】金戈铁马</strong></p>
<p>沧波渺渺白鸥群，极目苍茫万里云。海上楼船三万里，天边烽火一孤坟。月明古渡渔歌起，霜落空山雁影分。明日相逢又相别，故乡回首泪纷纷。</p>
<p><strong>【格式】七言律诗 【藏头字】沧海月明 【主题】世事变迁</strong></p>
<p>沧桑劫火几兴亡，回首沧桑感慨伤。海上楼台空劫火，人间禾黍自悲凉。月明古渡渔歌起，风静寒潮雁影长。明日相逢又相别，故乡回首一凄凉。</p>
<p><strong>【格式】七言律诗 【藏头字】沧海月明 【主题】静悟禅机</strong></p>
<p>沧浪万顷白鸥群，此地曾经此地分。海上楼台今夜月，山中楼阁几秋云。月明古寺僧初定，潮落空江雁正闻。明日相逢又相别，不知何处是离群。</p>
<p>上述生成结果，平仄符合，押韵亦可，诗意也不错。不敢说很完美，但至少很多人写不出如此观感的诗歌。</p>
<p>此外，上述按题材生成的结果，笔者进行了大量的题材诗歌生成测试，结果表明诗歌题材和生成诗歌之间的关联性较高，这也从侧面验证了笔者上述构建的诗歌题材语料库具有一定的合理性。</p>
<p>此外，笔者还通过生成的诗句发现了古今诗歌表达方面的一些差异。例如：笔者以“金戈铁马”作为生成题材，分别用毛主席《人民解放军占领南京》和陈老总的《梅岭三章》中的首联打头，各生成9首诗歌，结果如下（点击可查看大图）：</p>
<p><img data-action="zoom" class=" aligncenter" title="【文本挖掘实操】用文本挖掘剖析54万首诗歌" src="http://image.woshipm.com/wp-files/2020/08/6xuejRtke2OGMlxRA1MX.png" alt="【文本挖掘实操】用文本挖掘剖析54万首诗歌" /></p>
<p><img data-action="zoom" class=" aligncenter" title="【文本挖掘实操】用文本挖掘剖析54万首诗歌" src="http://image.woshipm.com/wp-files/2020/08/DvG9xDTfvjDVeYbUWjDZ.png" alt="【文本挖掘实操】用文本挖掘剖析54万首诗歌" /></p>
<p>上面两张图中占据中间C位的是原诗歌，其余的诗歌由毛主席和陈老总诗歌的首联“引导”而成，基本含有“金戈铁马”相关的意象，题材贴合度较高，大都跟征战、戌边、杀敌保国有关，比如：</p>
<blockquote><p>闻道汉家多战伐，将军今日重南邦。</p>
<p>旌旗影动三军肃，刁斗声传五夜长。</p>
<p>中原战血三千里，南国英魂一断肠。</p>
<p>西风鼓角寒吹雁，南国旌旗夜渡河。</p></blockquote>
<p>然而，可能跟学习了大量封建时代的诗歌有关，这些生成的诗歌到末尾大都是一个悲情的基调，略显消极，如以下几句：</p>
<blockquote><p>从此边城多战伐，不须笳鼓更悲凉。</p>
<p>一路寒声送归雁，秋深不见客愁窗。</p>
<p>我欲从君寻旧隐，扁舟重访草堂堂。</p>
<p>独有英灵知此意，不堪回首泪沾裳。</p>
<p>回首故园归未得，西风萧瑟动悲歌。</p>
<p>回首不堪惆怅事，夕阳芳草满汀波。</p></blockquote>
<p>上述生成的诗句缺乏革命主义的乐观豪情，这是封建时代的诗歌不具备的特质，但这恰好毛主席和陈老总这两首诗歌的与众不同之处。且看这两句：</p>
<blockquote><p>天若有情天亦老，人间正道是沧桑。</p>
<p>投身革命即为家，血雨腥风应有涯。</p></blockquote>
<p>“文章合为时而着，歌诗合为事而作”，上述的结果也恰恰从侧面体现了诗歌创作具有时代感和现实感，尽管是写同一题材，但由于诗人的人生轨迹和面临的时代背景不一样，胸中所内含的气象也大不相同。</p>
<p>上述由GPT2生成的诗歌看起来都还不错，很多到了以假乱真的地步，这种情况下，我们该如何甄别出其中哪些是人写的，哪些是机器写的？</p>
<p>机器写作诗歌归根到底还是一个统计学问题，“解铃还须系铃人”，甄别“真伪”的事情还得统计学来解决。</p>
<h3>7.2 人机诗歌创作的差异比较</h3>
<p>诗歌生成建模大致的原理是：通过大量诗歌语料，诗歌生成模型能学习到任一诗句中相邻的字词之间的依赖关系。</p>
<p>比如出现一个“漠”，GPT2按照学习到的经验，会猜测接下来会出现哪个字，这些字都会以概率的形式“存放”在GPT2模型的“记忆”之中，如：</p>
<p>“漠”：0.1205，</p>
<p>“北”：0.0914，</p>
<p>“然”：0.0121，</p>
<p>“视”：0.00124，</p>
<p>一般情况下，机器“作诗”时会选择过往出现几率最高的字，以此类推，直到碰到“终止符”才结束，逐渐生成整首诗歌。</p>
<p><img data-action="zoom" class=" aligncenter" title="【文本挖掘实操】用文本挖掘剖析54万首诗歌" src="http://image.woshipm.com/wp-files/2020/08/pEeqVRaKpRQfbKC5ENuW.png" alt="【文本挖掘实操】用文本挖掘剖析54万首诗歌" /></p>
<p>这是最简单的情形，生成的效果也就非常一般，很多时候是文理不通。</p>
<p>为了保证生成效果，一般会（同时）用到一些复杂的生成策略，如Beam Search、Top-k sampling、Top-p sampling（NUCLEUS SAMPLING，核采样）、Repetition_penalty（对重复性进行惩罚）、Length_penalty（对生成过长的诗句进行惩罚）等。</p>
<p>这样会兼顾诗歌生成的一些其他因素，如流畅度、丰富度、一致性等，诗歌生成的效果也能得到较大的提升。</p>
<p>笔者基于哈佛大学的GLTR（ Statistical Detection and Visualization of Generated Text）来探究下机器和人作诗时的一些差异，该工具输入的是诗歌，输出的是机器和人作的诗歌的字出现概率分布统计，我们从中可以发现诗歌“炼字”的一些奥秘。</p>
<p>笔者试举一例：</p>
<p><img data-action="zoom" class=" aligncenter" title="【文本挖掘实操】用文本挖掘剖析54万首诗歌" src="http://image.woshipm.com/wp-files/2020/08/sgpYqrbXavk0dEQonmyc.png" alt="【文本挖掘实操】用文本挖掘剖析54万首诗歌" /></p>
<p><img data-action="zoom" class=" aligncenter" title="【文本挖掘实操】用文本挖掘剖析54万首诗歌" src="http://image.woshipm.com/wp-files/2020/08/OWcnMPqXu8AA92dPFBgY.png" alt="【文本挖掘实操】用文本挖掘剖析54万首诗歌" /></p>
<p>在上图中，色块的颜色代表的是字所在的概率区间：红色代表出现概率TOP10的字，黄色的是TOP100，绿色的是TOP1000，紫色的是TOP10000。</p>
<p>从结果中，我们可以看到机器作诗时，红色和黄色的字概率分布区间占比较大，逐字生成时一般是从头部的字概率分布中来取，从而导致会诗句生成较为常见的表达。</p>
<p>人创作诗歌时，各颜色代表的字概率分布区间占比较为接近，至少是差异不大，最终导致诗歌的表达千变万化，不落俗套。</p>
<p>古时诗人作诗，重在“炼字”。</p>
<p>炼字，指锤炼词语，指诗人经过反复琢磨，从词汇宝库中挑选出最贴切、最精确、最形象生动的词语来描摹事物或表情达意。从这个角度来看，具有统计学意义的“选字”策略基本不可取——不是词不达意就是容易落“俗套”。</p>
<p>比如，陶渊明的那句“采菊东篱下，悠然见南山”中“见”换成“望”就不好。</p>
<p>虽然按从诗歌数据集学到的概率来讲，“望”在过往出现的概率远大于“见”，但“见”通“现”，有“无意中看见”的含义，标明作者是不经意间抬起头来看见南山，表达了整个诗句中那种悠然自得的感触。</p>
<p>好像在不经意间看到了山中美景，符合“山气日夕佳，飞鸟相与还”这种非常自然的、非常率真的意境，而“望”则显得有些生硬。</p>
<h2>8. 将诗歌翻译成通俗易懂的白话文</h2>
<p>诗歌翻译，也就是将文言文色彩浓重、一般人不易看懂的诗歌翻译成现代人容易理解的白话文。</p>
<p>笔者此处用到的模型是两个BERT构成的Encoder-Decoder，目标是输入一句或者一首诗歌，生成相应的白话文翻译。</p>
<p>考虑到古现代汉语存在大量词汇方面的语义延续性，不像中英互译这样，源语句和目标语句之间的语义和语法结构差异极大，它们会有很多共享词汇，所以训练的语料数量可以适当少些。</p>
<p>诗歌翻译模型会从大量的翻译语句对中学习到它们之间的语义对应关系，而且是以较为流畅（较理想的情况下）的形式进行输出。</p>
<p>以下是简要原理图：</p>
<p><img data-action="zoom" class=" aligncenter" title="【文本挖掘实操】用文本挖掘剖析54万首诗歌" src="http://image.woshipm.com/wp-files/2020/08/iHW23MhNdB5vE1RG6XWH.png" alt="【文本挖掘实操】用文本挖掘剖析54万首诗歌" width="999" height="517" /></p>
<p>笔者编写爬虫采集了某诗歌分享网站上的若干诗歌及其翻译数据，经清洗后，得到3万条训练语句。</p>
<p>部分训练数据如下表所示：</p>
<p><img data-action="zoom" class=" aligncenter" title="【文本挖掘实操】用文本挖掘剖析54万首诗歌" src="http://image.woshipm.com/wp-files/2020/08/tHjbE2iHgqt2Zouqf4NX.png" alt="【文本挖掘实操】用文本挖掘剖析54万首诗歌" width="1013" height="437" /></p>
<p>训练模型后，笔者选取部分未出现在训练集中的语句作为文本翻译的示例，部分示例如下：</p>
<p><img data-action="zoom" class=" aligncenter" title="【文本挖掘实操】用文本挖掘剖析54万首诗歌" src="http://image.woshipm.com/wp-files/2020/08/1j3v3b4zBB1ANjZ12obR.png" alt="【文本挖掘实操】用文本挖掘剖析54万首诗歌" width="1002" height="530" /></p>
<p><strong>【词】问君何事轻离别，一年能几团圆月。杨柳乍如丝，故园春尽时。（菩萨蛮·问君何事轻离别，清，纳兰性德）</strong></p>
<p>【翻译1】你在什么时候才能够回家？只有那美丽的桃花已经过去了。</p>
<p>【翻译2】请你问我为什么这样的轻易消失呢？一年里正是三次月下的清明之夜。杨柳刚像丝丝般柔软，就好似在家乡春天已经快要过去了。</p>
<p><strong>【词】山抹微云，天粘衰草，画角声断谯门。水流明月，风送残花，诗心韵动江楼。（《满庭芳·山抹微云》，前一句作者是宋，秦观，后一句作者是GPT2）</strong></p>
<p>【翻译】远处的山峰上是一片轻薄的薄云，在天空中飘散着；乌鸦点缀在枯草丛里，号角声响彻四周。明月照耀下清辉的银河映射向西边，传来阵阵寒梅花的音乐，这时节让人肝肠寸断。</p>
<p><strong>【对联】帝道真如，如今都成过去事。民心所向，自古都是往来人。（杨度自挽联，上联作者是民国，杨度，下一联作者是GPT2）</strong></p>
<p>【翻译】京城大道实在了解我的知识，就像当年地方一样经历过了。百姓心里依旧保护着百姓生活世界，自古以来都是从前人们来往的人间吧！</p>
<p><strong>【诗句】万户千门入建章，金绳界路柳丝黄。和风偏度乐声细，晴日自随宫泉长。（《宫词·万户千门入建章》，宋，王仲修）</strong></p>
<p>【翻译】皇上的宅院已经关闭了建立功名利禄，皇家大道路两旁的杨柳依旧是那样的嫩芽。春天来到这里，宫殿高耸入云霄，宫殿中传出一阵清脆婉转的流水。</p>
<p><strong>【诗句】沅湘两水清且浅，林花夹岸滩声激。洞庭浩渺通长江，春来水涨连天碧。（《少年湖南歌》，民国，杨度）</strong></p>
<p>【翻译1】沅江两岸的流淌在这里是多么高远呢？树丛生的野草和小洲环绕着江面，河畔的波涛好像是那样宽阔无际；春天来了时节，水面上涨起伏着一片青色。</p>
<p>【翻译2】沅江两岸的流淌着一片清澈的江水清澈，茂密的树林环绕在河岸上。洞庭湖广阔无际，春水滔滔不断地流向远方。</p>
<p>【翻译3】潇湘两岸的流淌着一片清澈的水，树林间的花瓣随风飘荡。洞庭湖广阔无际，波涛汹涌，波光粼粼，好像是天空相接。</p>
<p>【翻译4】沅水湘江清澈见底，水波荡漾，岸边树木繁茂如浅的流动。洞庭湖浩淼远望去，水天相接处连成一片。</p>
<p>从结果上来看，3万来句的效果还马马虎虎，很多翻译不是直译过来的，更倾向于“意译”，机器翻译的时候会“脑补”一些场景，如对“山抹微云&#8230;&#8230;诗心韵动江楼”的翻译，机器能够“揣摩”出“这时节让人肝肠寸断”，开始“有内味”了。</p>
<p>如果采用一些手段扩充下语料，如将整首诗歌和对应翻译逐句拆分、对白话文部分进行文本增强（同义词替换、随机插入、随机交换等）和将意译改为直译等，训练处的模型可能会更强大些，翻译效果能提升不少。</p>
<h2>9. 结语</h2>
<p>通过上述诗歌语料库分析流程，笔者想说一下对于（文本）数据挖掘的一些看法：</p>
<p>所谓挖掘，通常带有“发现、寻找、归纳、提炼”等内涵，既然需要去发现和提炼。那么，所要找寻的内容往往都不是显而易见的，而是“隐蔽”和“藏匿”于文本之中，或者是人无法直接在大范围内发现和归纳出来的。</p>
<p>如果要抽丝剥茧，需要结合领域知识（如文中的诗歌常识），运用多种分析手段（如文中的各类NLU和NLG方法），有时甚至需要逆向思维（如文中的诗歌生成），且各类分析最好是一个前后相继、互为补充有机整体，这样才能以最高的效率来完成文本数据的探索任务。</p>
<h3>参考资料：</h3>
<ul>
<li>《数学与文学的共鸣》，丘成桐</li>
<li>《迦陵说诗.嘉莹说诗讲稿》， 叶嘉莹</li>
<li>《文本数据管理与分析》，翟成祥</li>
<li>《文本数据挖掘》，宗成庆</li>
<li>《古代汉语基础》，吴鸿清</li>
<li>《诗词格律》，王力</li>
<li>《语言的科学》，诺姆.乔姆斯基</li>
<li>《现代汉语词汇学教程》，周荐</li>
<li>《语言的认知研究和计算分析》，袁疏林</li>
<li>《自然语言处理的认知方法》，Bernadette Sharp</li>
<li>《自然语言处理入门》，何晗</li>
<li>https://github.com/Werneror/Poetry</li>
<li>https://github.com/kpu/kenlm</li>
<li>https://github.com/jiaeyan/Jiayan</li>
<li>《Catching a Unicorn with GLTR: A tool to detect automatically generated text》，http://gltr.io</li>
<li>《Better Language Models and Their Implications》，https://openai.com/blog/better-language-models/</li>
<li>《自由度+凝固度+统计的新词发现》，https://blog.csdn.net/qq_39006282/article/details/91357603</li>
</ul>
<h3><strong>#专栏作家</strong></h3>
<p>苏格兰折耳喵（微信公众号：Social Listening与文本挖掘），人人都是产品经理专栏作家，数据PM一只，擅长数据分析和可视化表达，热衷于用数据发现洞察，指导实践。</p>
<p>本文原创发布于人人都是产品经理。未经许可，禁止转载</p>
<p>题图来自 Pexels，基于 CC0 协议</p>