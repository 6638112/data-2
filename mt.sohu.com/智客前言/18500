➜华云大咖说丨安超OS超融合系统技术细节（下）
http://www.sohu.com/a/414964995_99933683	20672
<p></p>
<p class="ql-align-center"><img src="http://p6.itc.cn/images01/20200826/242086b3d672467a989d2dff9d35d045.jpeg" max-width="600" /></p>
<p>随着政企用户上云步伐的加快，为了满足更多安全、可靠需求，优化国产生态布局，华云数据依靠自身深厚的技术积累，于2019年8月推出安超OS。安超OS依托众多业界领先专利技术，提供包含操作系统、计算虚拟化、存储虚拟化、云管平台、云工作负载的迁移与自动化部署、应用商店等全栈功能，并拥有强大的全球生态整合能力。</p>
<p>在上一期的大咖说中，华云数据资深解决方案工程师桂焘为大家介绍了超融合的概念，安超OS的设计理念、系统架构以及平台特点等内容，在本期“安超OS超融合系统技术细节（下）”中，将继续为大家带来详细的技术解读。</p>
<p>精彩观点</p>
<p>1. 安超OS数据重分布是集群范围内的容量平衡，也是跨节点和磁盘的定期重平衡，它一般是主动进行的，优先将新数据放置在新的或者未充分利用的磁盘和节点上。数据重分布一般分为两种类型，包括数据重定位和数据重构。数据重分布主要用户处理错误或故障、容量再平衡、服务等。</p>
<p>2. 安超OS的管理服务是以ArSP的网关服务形式存在的，其状态包含在统一命名空间中，使集群管理任务更便捷。安超OS管理界面是基于HTML5的用户界面，管理器无状态，并开发REST API，对硬件、资源利用率、关键时间等主动监管和告警。</p>
<p>3. 安超OS以VM为中心进行管理。它能自动将数据复制到集群中的不同磁盘上，整个集群作为热备资源，无需管理LUN、卷、RAID组，消除LUN映射、分区等管理复杂性。并在VM级别配置和管理相关的数据服务。</p>
<p>4. 安超支持两种存储模式，即混合模式和全闪存模式。安超OS能够利用闪存介质（SSD）实现意图日志（ArIL）、读缓存（Read Cache）和元数据（Metadata）同步，可以最大限度地提高混合存储解决方案的性能，实现成本效益。</p>
<p>5. ArIL（写入缓存）是驻留在闪介质上，主要用于写入事务，一般占100-200GB，每个节点上最多可配置4G闪存设备。读缓存一般占100-300GB。此外，安超OS的高速缓存中还支持ArFS文件系统中的元数据管理分区。元数据分区的大小取决于数据I/O 的大小，其目的是加速元数据I/O的读写性能。</p>
<p>6. 安超OS针对不同对象提供了不同的策略管理，主要针对存储池，虚拟机、虚拟磁盘。如存储池管理要求页面大小：4KB、8KB、16KB、32KB；采用的压缩算法：LZ4，Gzip_opt，Gzip_high，Disabled等等。</p>
<p>7. 安超OS采用精简配置的数据存储方式，也就是数据需要存储的时候，才会给数据分配存储空间，无需预留容量。这种方式可以充分提高容量利用率，减少成本支出，同时减少管理任务，降低运营支出。</p>
<p>8. 安超OS采用ROW的快照和克隆技术。这种快照方式相比于COW更加快速和高效，无需预留空间，能够准确还原到任一快照点，并在不影响生产的情况下启用备份，快速启用预先设置的新虚拟机。</p>
<p>9. 安超OS具有性能优异的压缩技术，通过对数据的压缩，空间利用率得到有效提升。同时支持多种压缩算法供不同场景选择，不同的数据类型设置不同的压缩等级，可以为处理非压缩工作负载（例如备份和媒体文件）的虚拟机禁用压缩功能。</p>
<p>10. 此外，为了避免网络故障或NFS进程故障，导致NFS终端。安超OS还提供NFS IP故障自动切换功能。当网络故障时，安超OS能够将故障的IP切换到另外的节点上，保障该节点上的虚拟机能够继续提供服务。这种方式还可以用于CVM升级更新，不中断数据访问和服务。另外，安超OS还支持延展集群，在位于不同机架的不同节点中，提供消除单点故障，防止某一节点的硬件或者软件故障，保障业务顺利进行。</p>