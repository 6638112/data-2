➜现代电脑从此展开——冯纽曼与冯纽曼架构 │《电脑简史》数位时代（十一）
https://pansci.asia/archives/194219	3600
<p><span style="color:#3c4b89" class="has-inline-color"><strong>1944 年 8 月，第一部可程式化的通用型电脑 ENIAC 正在赶工之际，在不同领域都展现过人天分的冯纽曼应邀前来参观。没想到他看没多久就眉头一皱……</strong></span></p>
<blockquote class="wp-block-quote"><p>本文为系列文章，上一篇请见：<a href="https://pansci.asia/archives/193801">第一台通用型电子计算机——专利纠葛、优劣并存的 ENIAC │《电脑简史》数位时代（十）</a></p></blockquote>
<h2>天才——22岁登柏林大学最年轻教授，30岁与爱因斯坦同获高等研究院延聘</h2>
<p>冯纽曼 1903 年出生于布达佩斯，自小就展露过人天分。他六岁能心算八位数的除法，八岁就会微积分；看过的书过目不忘，还能背下厚厚的电话簿。他 22 岁拿到数学博士学位后，随即被柏林大学延聘，成为该校有史以来最年轻的教授，并在三年内发表了 32 篇数学论文。1933 年，未满 30 岁的他就被延请至普林斯顿高等研究院，和爱因斯坦等人并列为创院的四位学者之一。</p>
<div class="wp-block-image"><figure class="aligncenter size-large"><img loading="lazy" width="490" height="639" src="https://pansci.asia/wp-content/uploads/2020/10/9f3a4121d2a8971414da410c99cf29e0.gif" alt="" class="wp-image-194241"/><figcaption>二次大战时的冯纽曼。图：<a href="https://en.wikipedia.org/wiki/John_von_Neumann#/media/File:JohnvonNeumann-LosAlamos.gif">WIKI</a></figcaption></figure></div>
<p>只要与冯纽曼打过交道的人，没有一个不对他的绝顶聪明叹服不已；更令人惊奇的是，即使是他之前未曾接触的领域，他也能立即洞悉根本问题，提出非凡见解，宛如已鑽研多年的专家。或许因为具有这样的天赋，冯纽曼在数学以外的领域也做出许多重要贡献，包括赛局理论、量子力学、流体力学……等等。</p><div class="pansc-content"></script>
<!-- leaderboard -->
<ins class="adsbygoogle"
style="display:inline-block;width:300px;height:250px"
data-ad-client="ca-pub-4485239425924787"
data-ad-slot="泛科学\/MW_300x250_内文文中_泛科学"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
<p>1930 年代晚期，他因为建构出震波的数学模型，而被军方多个单位聘为顾问，为砲弹内的火药应如何装填提供建议。1943 年他还加入曼哈顿计画，负责模拟计算原子弹的内爆作用。</p>
<p>模拟爆炸的数学模型涵盖许多複杂的方程式，比计算弹道还耗费时间，更需要藉助于计算机。冯纽曼很清楚机电式计算机的侷限，一直在注意是否有新的技术突破。因此 1940 年 9 月<a href="https://pansci.asia/archives/192591">史提毕兹</a>在达特茅斯学院展示複数计算机的功能时，他也在现场；1944 年初 IBM 打造的<a href="https://pansci.asia/archives/192952">哈佛一号</a>启用后，他又立即奔赴哈佛大学试用。</p>
<h2>ENIAC 果然快！但设定程式要半天以上是怎麼一回事？</h2>
<p>1944 年 8 月，冯纽曼赴美国陆军的阿伯丁试射场开完会后，在火车月台上等车时，突然有人过来向他致意，原来是负责督导摩尔电机学院製作射表的陆军中尉高士汀。</p>
<p>他们两人之前并不认识，但对原本是数学教授的高士汀而言，冯纽曼一直是他的超级偶像，因此才像个粉丝般冒昧上前攀谈。高士汀提及自己正在监造的电脑 ENIAC，每秒可执行 333 次乘法时，冯纽曼眼睛一亮，不断追问技术细节，高士汀乾脆邀他前来参观。</p>
<div class="wp-block-image"><figure class="aligncenter size-large"><img loading="lazy" width="560" height="419" src="https://pansci.asia/wp-content/uploads/2020/10/0a9568dd237f994ad4836c1f6ebf4be0-560x419.jpg" alt="" class="wp-image-194245" srcset="https://pansci.asia/wp-content/uploads/2020/10/0a9568dd237f994ad4836c1f6ebf4be0-560x419.jpg 560w, https://pansci.asia/wp-content/uploads/2020/10/0a9568dd237f994ad4836c1f6ebf4be0-350x262.jpg 350w, https://pansci.asia/wp-content/uploads/2020/10/0a9568dd237f994ad4836c1f6ebf4be0.jpg 593w" sizes="(max-width: 560px) 100vw, 560px" /><figcaption>冯纽曼跨入电脑设计的重要推手高士汀（左二，最右边为冯纽曼）。图：<a href="https://en.wikipedia.org/wiki/Herman_Goldstine#/media/File:Julian_Bigelow.jpg">WIKI</a></figcaption></figure></div>
<p>几天后冯纽曼就迫不及待的来到摩尔电机学院，ENIAC 的运算速度的确远远超过他所见过的任何计算机，但每要更换程式就得重新接线、切换千百个开关，至少要花半天以上的工夫，严重拖累整体效能。冯纽曼一针见血的指出解决之道：让程式和数据一样，用打孔卡片编写，再输入到记忆单元中储存起来。如此便可轻易更换不同程式，又不会影响运作速度。</p>
<p>其实设计 ENIAC 的莫奇利与艾科特何尝没想过这麼做，但如果仍用真空管扩增记忆容量，除了成本会大幅增加，更严重的是，不时会有真空管烧坏而造成计算错误。</p>
<p>因此艾科特 1943 年底就已经在研究更可靠的记忆装置，他发现一种用于雷达萤幕的「延迟线记忆体」(delay line memory，原理见文末)，或许可以做为电脑的记忆体。这是一根装满特殊液体的金属管，输入端的石英晶体因电流而震盪，产生的脉衝波经由液体传递到另一端的石英晶体后，因为压电效应再转成电子讯号输出。</p>
<h2>另行设计 EDVAC，用「水银延迟线」贮存程式 </h2>
<p>不过要做为电脑的记忆装置，金属管的长度要够长，才能容纳够多的脉衝波。但相对地，脉衝波的能量耗损也与长度成正比，除了影响讯号传递的正确性，也无法维持长久让电脑随时存取。</p>
<p>艾科特于 1944 年初发现脉衝波在水银中的耗损最低，同时他加了一条再生迴路 (regeneration circuit)，让输出端的讯号又回到输入端，如此便能稳定维持讯号，最高可达一千赫兹。也就是每条水银延迟线可贮存 1,000 个位元。</p>
<div class="wp-block-image"><figure class="aligncenter size-large"><img loading="lazy" width="560" height="275" src="https://pansci.asia/wp-content/uploads/2020/10/32264f3eeb442fbb323fb3a6505bef1b-560x275.jpg" alt="" class="wp-image-194248" srcset="https://pansci.asia/wp-content/uploads/2020/10/32264f3eeb442fbb323fb3a6505bef1b-560x275.jpg 560w, https://pansci.asia/wp-content/uploads/2020/10/32264f3eeb442fbb323fb3a6505bef1b-350x172.jpg 350w, https://pansci.asia/wp-content/uploads/2020/10/32264f3eeb442fbb323fb3a6505bef1b.jpg 649w" sizes="(max-width: 560px) 100vw, 560px" /><figcaption>艾科特发明的水银延迟线。图：<a href="https://en.wikipedia.org/wiki/Delay_line_memory#/media/File:Mercury_memory.jpg">WIKI</a></figcaption></figure></div>
<p>儘管艾科特发明了水银延迟线，但如何整合到电脑中贮存程式，又是另一个截然不同的问题。他与莫奇利久闻冯纽曼的大名，因此对高士汀顺势邀请这位传奇人物担任顾问也都欣然欢迎。于是冯纽曼自 1944 年 9 月开始密集参加小组会议，他们很快达成共识：将程式贮存到水银延迟线，并且採用二进位的运算方式。</p>
<p>不过军方急着要 ENIAC 上线运作，已不允许再更动设计，小组成员只好在 ENIAC 建造的同时，一边着手设计全新的电脑：「电子离散变数自动计算机 (Electronic Discrete Variable Automatic Computer，简称 EDVAC)。</p>
<h2>现代电脑架构的起源——〈 EDVAC 报告初稿〉</h2>
<p>1945 年 6 月，冯纽曼和小组成员开完会后，搭火车横越美国返回新墨西哥州。他在火车上振笔疾书，把大家这十个月来的讨论做个总结，整理成一篇涵盖所有技术细节的书面报告。高士汀收到这份手稿后，立即打印成 101 页的正式文件，题为〈EDVAC 报告初稿〉(First Draft of a Report on the EDVAC)。正是在这份初稿中，冯纽曼揭橥了引领现代电脑发展的架构：运算单元、控制单元、记忆单元，输入装置与输出装置。</p>
<div class="wp-block-image"><figure class="aligncenter size-large is-resized"><img loading="lazy" src="https://pansci.asia/wp-content/uploads/2020/10/ac0f6005f43be584a5823b9a941484fa.jpg" alt="" class="wp-image-194249" width="555" height="751" srcset="https://pansci.asia/wp-content/uploads/2020/10/ac0f6005f43be584a5823b9a941484fa.jpg 555w, https://pansci.asia/wp-content/uploads/2020/10/ac0f6005f43be584a5823b9a941484fa-350x474.jpg 350w" sizes="(max-width: 555px) 100vw, 555px" /><figcaption>影响深远的〈EDVAC 报告初稿〉封面。图：<a href="https://en.wikipedia.org/wiki/First_Draft_of_a_Report_on_the_EDVAC#/media/File:Firstdraftofrepo00vonn_0003.jpg">WIKI</a></figcaption></figure></div>
<p>其中最具革命性的就是让所有资料都一起共用记忆单元。在此之前，程式指令用打孔卡片或接线、开关；计算的数据储存在记忆单元；常用的函数则又贮存在另一套记忆装置或用另一套读卡机制输入。</p>
<p>不同功能的资料用不同元件来处理，一直是天经地义的想法，如今 EDVAC 却打破迷思，把程式、数据、函数都放在同一个记忆单元。而且程式在执行中还可以视计算结果，修改记忆体位址，让要接连执行的程式尽量存放在邻近的实体位置，以提升存取效率。</p>
<p>冯纽曼这份报告提供了打造现代电脑的基本蓝图，重要性不下于夏农那篇硕士论文，不过它却也造成团队的分裂。</p>
<h2>高士汀自作主张埋下祸根，团队成员分道扬镳</h2>
<p>EDVAC 是众人努力的成果，真正属于冯纽曼个人创见的只有可变记忆体位址，但高士汀却在报告上将冯纽曼列为唯一作者，等于抹煞了其他团队成员的贡献。尤其艾科特更觉得情何以堪，他早就提出储存程式的想法，做为记忆体的水银延迟线还是他发明的，如今却由让冯纽曼一人独享光环（至今大家仍以「冯纽曼架构」称之）。</p>
<p>更严重的歧见是，高士汀没有徵询过团队成员，就迳行将报告分发给美、英两国 24 个单位。在高士汀与冯纽曼眼中，这就像发表科学研究一样理所当然，更何况这会有助于高速电脑的发展。但对莫奇利与艾科特而言，他们原本要申请相关专利，如今却因为冯纽曼的报告提前发布，而被否决。</p>
<p>他们两人赶紧趁 ENIAC 尚未公开，与宾州大学争取智慧财产权，但双方一直无法取得共识。1946 年 3 月，莫奇利与艾科特索性辞去教职，共同创立电脑公司，迳行申请专利。</p>
<div class="wp-block-image"><figure class="aligncenter size-large"><img loading="lazy" width="560" height="460" src="https://pansci.asia/wp-content/uploads/2020/10/0180c4e03d4038c9814b6a11e1cae9ea-560x460.jpg" alt="" class="wp-image-194250" srcset="https://pansci.asia/wp-content/uploads/2020/10/0180c4e03d4038c9814b6a11e1cae9ea-560x460.jpg 560w, https://pansci.asia/wp-content/uploads/2020/10/0180c4e03d4038c9814b6a11e1cae9ea-350x287.jpg 350w, https://pansci.asia/wp-content/uploads/2020/10/0180c4e03d4038c9814b6a11e1cae9ea-768x630.jpg 768w, https://pansci.asia/wp-content/uploads/2020/10/0180c4e03d4038c9814b6a11e1cae9ea.jpg 1329w" sizes="(max-width: 560px) 100vw, 560px" /><figcaption>莫奇利与艾科特创业后开发的第一部电脑 UNIVAC I。图：<a href="https://en.wikipedia.org/wiki/UNIVAC_I#/media/File:Univac_I_at_Census_Bureau_with_two_operators.jpg">WIKI</a></figcaption></figure></div>
<h2>冯纽曼打造 IAS 机器，流程图成为程式撰写基本工具</h2>
<p>冯纽曼也在二次大战结束后返回普林斯顿高等研究院，没想到他竟然意犹未尽，打算自己动手打造一台电脑。要知道，高等研究院可是像爱因斯坦这类的科学家思索宇宙真理的地方，冯纽曼竟然要在这神圣殿堂敲敲打打，搞起无关学术思想的粗活，令其他学者都感到有损体面。</p>
<p>不过冯纽曼天生无所忌惮，在他的坚持下，校方还是同意他打造以高等研究院为名的「IAS 机器」。透过高士汀的协助，冯纽曼于 1946 年春季取得军方资助经费，开始招兵买马，展开计画（他原本还天真的想挖角艾科特，当然是被拒绝了）。</p>
<p>冯纽曼继续秉承传播科学的理念，在建造 IAS 机器的过程中，不断释出相关技术论文，并且特别註明放弃专利，供大家免费运用。其中一篇 1947 年所发表的文件，介绍他们如何使用源于工业工程的流程图，来设计 IAS 机器的程式。这种视觉化的呈现方式无论用于阐明整体架构或细部指令，都更加清楚易懂，从此流程图便成为大家撰写程式的一个基本工具。</p>
<div class="wp-block-image"><figure class="aligncenter size-large"><img loading="lazy" width="560" height="739" src="https://pansci.asia/wp-content/uploads/2020/10/84f881ddce76ca10053cab308452c9f8-560x739.jpg" alt="" class="wp-image-194251" srcset="https://pansci.asia/wp-content/uploads/2020/10/84f881ddce76ca10053cab308452c9f8-560x739.jpg 560w, https://pansci.asia/wp-content/uploads/2020/10/84f881ddce76ca10053cab308452c9f8-350x462.jpg 350w, https://pansci.asia/wp-content/uploads/2020/10/84f881ddce76ca10053cab308452c9f8-768x1014.jpg 768w, https://pansci.asia/wp-content/uploads/2020/10/84f881ddce76ca10053cab308452c9f8.jpg 790w" sizes="(max-width: 560px) 100vw, 560px" /><figcaption>冯纽曼于 1947 年发表的程式流程图。图：<a href="https://upload.wikimedia.org/wikipedia/commons/6/64/Flow_chart_of_Planning_and_coding_of_problems_for_an_electronic_computing_instrument%2C_1947.jpg">WIKI</a></figcaption></figure></div>
<p>IAS机器于 1952 年 1 月正式运作，比原本可以成为第一部冯纽曼架构之通用型电脑的 EDVAC 还早一个月。是的，由于核心成员纷纷离去，摩尔电机学院直到 1952 年 2 月才让 EDVAC 顺利上线。EDVAC 不只落后 IAS 机器，还有很多受惠于〈EDVAC 报告初稿〉，却比它更早开始运转的电脑。其中几部都不是美国製造的，包括英国曼彻斯特大学的「曼彻斯特宝贝」(Manchester Baby) 和「曼彻斯特一号」(Manchester Mark 1)、剑桥大学的「电子延迟存储自动计算器」(Electronic Delay Storage Automatic Calculator)。</p>
<p>英国能这麼快赶上美国，当然不会是从零开始。事实上，英国在二次大战时也祕密打造计算机，用以破解德军密码。其中一位关键人物——图灵，甚至在更早之前，就发表一篇极其重要的论文，如先知般指出电脑的能耐与侷限。</p>
<p></p>
<h2>小教室：雷达的延迟线记忆体</h2>
<p>雷达原理是不断发射无线电波，然后将反弹回来的电波转换成电子讯号，呈现在萤幕上，藉此看出目标物的移动方向与距离。然而高山、云层等静止的物体也会反射电波，如果没有过滤掉，萤幕上岂不是佈满光点，无法区辨？</p>
<p>因此电波反弹回来后，讯号会一分为二，一个送往萤幕，另一个经过延迟线记忆体再送往萤幕。如果是来自静止物体的反射电波，每个讯号都会和前一个延迟的讯号因为干涉作用互相抵销。只有移动物体的反射讯号因为前后不一致，不会互相抵销，才会呈现在萤幕上。</p>
<div>PanSci 泛科学</a>.</p>