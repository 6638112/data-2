➜由方程 x^x^x^x^ ... = 4 引发的讨论 —— 无穷迭代幂次大探险
http://zhuanlan.zhihu.com/p/168578462?utm_campaign=rss&utm_medium=rss&utm_source=rss&utm_content=title	50421
<h2>前言</h2><p>几个月前，我第一次遇见了这个神奇的东西： <img src="https://www.zhihu.com/equation?tex=x%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D" alt="x^{x^{x^{x^{.^{.^.}}}}}" eeimg="1"/> </p><p>它有着奇妙的性质，让我学了好多知识……</p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-41bb0a737cb8b7805c2d5d887f750212_b.jpg" data-caption="" data-size="normal" data-rawwidth="300" data-rawheight="300" class="content_image" width="300"/></figure><p>从那时起，我就被它深深地吸引了，直到这篇让我掉了不少头发的文章的诞生……</p><h2>一 、 「问题的出现：4=2  ? ? ?」</h2><p>一切还要从方程 <img src="https://www.zhihu.com/equation?tex=x%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D%3D4" alt="x^{x^{x^{x^{.^{.^.}}}}}=4" eeimg="1"/> 说起。</p><p>首先要注意，方程中 <img src="https://www.zhihu.com/equation?tex=x%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D" alt="x^{x^{x^{x^{.^{.^.}}}}}" eeimg="1"/> 的运算顺序是从上到下的。 <img src="https://www.zhihu.com/equation?tex=%5Cleft%28%5Cleft%28x%5Ex%5Cright%29%5Ex%5Cright%29%5E%7Bx%5E%7B%5Ccdots%7D%7D" alt="\left(\left(x^x\right)^x\right)^{x^{\cdots}}" eeimg="1"/> 才是从下往上算的。</p><p>若无特殊说明，一律默认 <img src="https://www.zhihu.com/equation?tex=x%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D" alt="x^{x^{x^{x^{.^{.^.}}}}}" eeimg="1"/> 表示 <img src="https://www.zhihu.com/equation?tex=%5Clim_%7Bn%5Crightarrow%5Cinfty%7D%5Cleft.x%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D%5Cright%5C%7D%28n%E4%B8%AAx%29" alt="\lim_{n\rightarrow\infty}\left.x^{x^{x^{x^{.^{.^.}}}}}\right\}(n个x)" eeimg="1"/> ，即它是一个极限。显然 <img src="https://www.zhihu.com/equation?tex=x%3E0" alt="x&gt;0" eeimg="1"/> 。</p><p>我们在方程中添加一个括号： <img src="https://www.zhihu.com/equation?tex=x%5E%7B%5Cleft%28x%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D%5Cright%29%7D%3D4" alt="x^{\left(x^{x^{x^{x^{.^{.^.}}}}}\right)}=4" eeimg="1"/> </p><p>它并没有改变运算顺序。而由原方程可知，括号内的式子也等于4，于是：</p><p><img src="https://www.zhihu.com/equation?tex=x%5E4%3D4" alt="x^4=4" eeimg="1"/> </p><p>解得： <img src="https://www.zhihu.com/equation?tex=x%3D%5Csqrt2" alt="x=\sqrt2" eeimg="1"/> </p><p>似乎没毛病。</p><p>下面我们不妨考虑另一个方程：</p><p><img src="https://www.zhihu.com/equation?tex=x%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D%3D2" alt="x^{x^{x^{x^{.^{.^.}}}}}=2" eeimg="1"/> </p><p>用同样的方法得到： <img src="https://www.zhihu.com/equation?tex=x%5E2%3D2" alt="x^2=2" eeimg="1"/> </p><p>解得： <img src="https://www.zhihu.com/equation?tex=x%3D%5Csqrt2" alt="x=\sqrt2" eeimg="1"/> </p><p>与原方程比较可得： <img src="https://www.zhihu.com/equation?tex=4%3D2" alt="4=2" eeimg="1"/> </p><p>至此，数学大厦轰然倒塌。（手动滑稽</p><h2>二 、 「真假不动点」</h2><p>在上一部分，我们通过求解两个方程得到了：</p><p><img src="https://www.zhihu.com/equation?tex=%5Csqrt2%5E%7B%5Csqrt2%5E%7B%5Csqrt2%5E%7B%5Csqrt2%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D%3D4" alt="\sqrt2^{\sqrt2^{\sqrt2^{\sqrt2^{.^{.^.}}}}}=4" eeimg="1"/> </p><p><img src="https://www.zhihu.com/equation?tex=%5Csqrt2%5E%7B%5Csqrt2%5E%7B%5Csqrt2%5E%7B%5Csqrt2%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D%3D2" alt="\sqrt2^{\sqrt2^{\sqrt2^{\sqrt2^{.^{.^.}}}}}=2" eeimg="1"/> </p><p>显然它们不可能同时成立。在判断哪个式子正确之前，我们需要考察 <img src="https://www.zhihu.com/equation?tex=%5Csqrt2%5E%7B%5Csqrt2%5E%7B%5Csqrt2%5E%7B%5Csqrt2%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D" alt="\sqrt2^{\sqrt2^{\sqrt2^{\sqrt2^{.^{.^.}}}}}" eeimg="1"/> 是否收敛。</p><p>考虑构造一个数列，使它的极限表现为 <img src="https://www.zhihu.com/equation?tex=%5Csqrt2%5E%7B%5Csqrt2%5E%7B%5Csqrt2%5E%7B%5Csqrt2%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D" alt="\sqrt2^{\sqrt2^{\sqrt2^{\sqrt2^{.^{.^.}}}}}" eeimg="1"/> </p><p>不妨构造数列 <img src="https://www.zhihu.com/equation?tex=%5Cleft%5C%7B%5Csqrt2%2C%5Csqrt2%5E%5Csqrt2%2C%5Csqrt2%5E%7B%5Csqrt2%5E%5Csqrt2%7D%2C%5Ccdots%5Cright%5C%7D" alt="\left\{\sqrt2,\sqrt2^\sqrt2,\sqrt2^{\sqrt2^\sqrt2},\cdots\right\}" eeimg="1"/> ，它可以写成递推形式：</p><p><img src="https://www.zhihu.com/equation?tex=a_0%3D1" alt="a_0=1" eeimg="1"/> ， <img src="https://www.zhihu.com/equation?tex=a_n%3Df%28a_%7Bn-1%7D%29" alt="a_n=f(a_{n-1})" eeimg="1"/> ，其中 <img src="https://www.zhihu.com/equation?tex=f%28x%29%3D%5Cleft%28%5Csqrt2%5Cright%29%5Ex" alt="f(x)=\left(\sqrt2\right)^x" eeimg="1"/> </p><p>于是 <img src="https://www.zhihu.com/equation?tex=a_n%3D%5Cleft.%5Csqrt2%5E%7B%5Csqrt2%5E%7B%5Csqrt2%5E%7B%5Csqrt2%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D%5Cright%5C%7D%28n%E4%B8%AA%5Csqrt2%29" alt="a_n=\left.\sqrt2^{\sqrt2^{\sqrt2^{\sqrt2^{.^{.^.}}}}}\right\}(n个\sqrt2)" eeimg="1"/> ，所以我们只需判断数列极限 <img src="https://www.zhihu.com/equation?tex=%5Clim_%7Bn%5Crightarrow%5Cinfty%7Da_n" alt="\lim_{n\rightarrow\infty}a_n" eeimg="1"/> 的敛散性。</p><p>将数列的迭代过程画在图像上<sup data-text="" data-url="https://www.youtube.com/watch?v=elQVZLLiod4&amp;t=2582s" data-draft-node="inline" data-draft-type="reference" data-numero="1">[1]</sup><sup data-text="" data-url="https://www.desmos.com/calculator/nul32eaaa9" data-draft-node="inline" data-draft-type="reference" data-numero="2">[2]</sup>：</p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-6b8c8c4a2921f7d70892240fc3240ce3_b.jpg" data-caption="" data-size="normal" data-rawwidth="1628" data-rawheight="1602" class="origin_image zh-lightbox-thumb" width="1628" data-original="https://pic1.zhimg.com/v2-6b8c8c4a2921f7d70892240fc3240ce3_r.jpg"/></figure><p>直线 <img src="https://www.zhihu.com/equation?tex=y%3Dx" alt="y=x" eeimg="1"/> 的作用是将每次的输出值（即函数值）转化为输入值。</p><p>可以看出它极限存在，且似乎收敛于2（兴奋！</p><p>但光看不行，我们还得给出证明：</p><blockquote>不难证明 <img src="https://www.zhihu.com/equation?tex=f%28x%29%3D%5Cleft%28%5Csqrt2%5Cright%29%5Ex" alt="f(x)=\left(\sqrt2\right)^x" eeimg="1"/> 严格单调增加。<br/>若当 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 为某个正整数时 <img src="https://www.zhihu.com/equation?tex=a_n%3Ea_%7Bn-1%7D" alt="a_n&gt;a_{n-1}" eeimg="1"/> 成立，则有 <img src="https://www.zhihu.com/equation?tex=a_%7Bn%2B1%7D%3Df%28a_n%29%3Ef%28a_%7Bn-1%7D%29%3Da_n" alt="a_{n+1}=f(a_n)&gt;f(a_{n-1})=a_n" eeimg="1"/><br/>当 <img src="https://www.zhihu.com/equation?tex=n%3D1" alt="n=1" eeimg="1"/> 时显然成立，由数学归纳法知 <img src="https://www.zhihu.com/equation?tex=%5Cforall+n%3Aa_n%3Ea_%7Bn-1%7D" alt="\forall n:a_n&gt;a_{n-1}" eeimg="1"/> 成立，即数列 <img src="https://www.zhihu.com/equation?tex=%5Cleft%5C%7Ba_n%5Cright%5C%7D" alt="\left\{a_n\right\}" eeimg="1"/> 单调增加。<br/>若当 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 为某个正整数时 <img src="https://www.zhihu.com/equation?tex=a_n%3C2" alt="a_n&lt;2" eeimg="1"/> 成立，则有 <img src="https://www.zhihu.com/equation?tex=a_%7Bn%2B1%7D%3Df%28a_n%29%3Cf%282%29%3D2" alt="a_{n+1}=f(a_n)&lt;f(2)=2" eeimg="1"/> <br/>当 <img src="https://www.zhihu.com/equation?tex=n%3D1" alt="n=1" eeimg="1"/> 时显然成立，由数学归纳法知 <img src="https://www.zhihu.com/equation?tex=%5Cforall+n%3Aa_n%3C2" alt="\forall n:a_n&lt;2" eeimg="1"/> 成立，即数列 <img src="https://www.zhihu.com/equation?tex=%5Cleft%5C%7Ba_n%5Cright%5C%7D" alt="\left\{a_n\right\}" eeimg="1"/> 有界。<br/>由极限存在准则之单调有界数列必有极限知，极限 <img src="https://www.zhihu.com/equation?tex=%5Clim_%7Bn%5Crightarrow%5Cinfty%7Da_n" alt="\lim_{n\rightarrow\infty}a_n" eeimg="1"/> 存在。</blockquote><p>现在可以计算极限的值了：</p><p>设 <img src="https://www.zhihu.com/equation?tex=%5Clim_%7Bn%5Crightarrow%5Cinfty%7Da_n%3DL" alt="\lim_{n\rightarrow\infty}a_n=L" eeimg="1"/> ，在递推式 <img src="https://www.zhihu.com/equation?tex=a_n%3Df%28a_%7Bn-1%7D%29" alt="a_n=f(a_{n-1})" eeimg="1"/> 两端取极限得： <img src="https://www.zhihu.com/equation?tex=L%3Df%28L%29" alt="L=f(L)" eeimg="1"/> </p><p>这正是 <img src="https://www.zhihu.com/equation?tex=f%28x%29" alt="f(x)" eeimg="1"/> 与直线 <img src="https://www.zhihu.com/equation?tex=y%3Dx" alt="y=x" eeimg="1"/> 的交点，即函数 <img src="https://www.zhihu.com/equation?tex=f%28x%29" alt="f(x)" eeimg="1"/> 的不动点！实际上，对于任意的 <img src="https://www.zhihu.com/equation?tex=f%28x%29" alt="f(x)" eeimg="1"/> ，此结论都成立，即：</p><p>【若递推数列 <img src="https://www.zhihu.com/equation?tex=a_n%3Df%28a_%7Bn-1%7D%29" alt="a_n=f(a_{n-1})" eeimg="1"/> 极限存在，则它的极限是函数 <img src="https://www.zhihu.com/equation?tex=f%28x%29" alt="f(x)" eeimg="1"/> 的（一个）不动点】</p><p>观察迭代图像，可发现两个不动点分别是 <img src="https://www.zhihu.com/equation?tex=%282%2C2%29" alt="(2,2)" eeimg="1"/> 和 <img src="https://www.zhihu.com/equation?tex=%284%2C4%29" alt="(4,4)" eeimg="1"/> ，又因为 <img src="https://www.zhihu.com/equation?tex=a_n%3C2" alt="a_n&lt;2" eeimg="1"/> ，由收敛数列的保号性知 <img src="https://www.zhihu.com/equation?tex=%5Clim_%7Bn%5Crightarrow%5Cinfty%7Da_n%5Cne4" alt="\lim_{n\rightarrow\infty}a_n\ne4" eeimg="1"/> ，所以 <img src="https://www.zhihu.com/equation?tex=%5Clim_%7Bn%5Crightarrow%5Cinfty%7Da_n%3D2" alt="\lim_{n\rightarrow\infty}a_n=2" eeimg="1"/> ，也就是：</p><p><img src="https://www.zhihu.com/equation?tex=%5Csqrt2%5E%7B%5Csqrt2%5E%7B%5Csqrt2%5E%7B%5Csqrt2%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D%3D2" alt="\sqrt2^{\sqrt2^{\sqrt2^{\sqrt2^{.^{.^.}}}}}=2" eeimg="1"/> </p><p>这表明 <img src="https://www.zhihu.com/equation?tex=x%3D%5Csqrt2" alt="x=\sqrt2" eeimg="1"/> 是方程 <img src="https://www.zhihu.com/equation?tex=x%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D%3D2" alt="x^{x^{x^{x^{.^{.^.}}}}}=2" eeimg="1"/> 的解，而不是方程 <img src="https://www.zhihu.com/equation?tex=x%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D%3D4" alt="x^{x^{x^{x^{.^{.^.}}}}}=4" eeimg="1"/> 的解。</p><p>那么问题来了， <img src="https://www.zhihu.com/equation?tex=x%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D%3D4" alt="x^{x^{x^{x^{.^{.^.}}}}}=4" eeimg="1"/> 的解到底是啥？？</p><h2>三 、 「 e 的现身」</h2><p>答案是无解！</p><p>假设 <img src="https://www.zhihu.com/equation?tex=x%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D%3D4" alt="x^{x^{x^{x^{.^{.^.}}}}}=4" eeimg="1"/> 有解，则有 <img src="https://www.zhihu.com/equation?tex=x%3D%5Csqrt2" alt="x=\sqrt2" eeimg="1"/> ，但它不成立，所以无解。</p><p><img src="https://www.zhihu.com/equation?tex=x%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D" alt="x^{x^{x^{x^{.^{.^.}}}}}" eeimg="1"/> 这坨东西等于2时有解，等于4时无解，那当它等于2和4之间的数时，方程的解又是什么情况呢？有没有某个数是使它【有解】和【无解】的分界点呢？</p><p>我们需要一个引理：记极限 <img src="https://www.zhihu.com/equation?tex=%5Cpsi_%28x%29%3Dx%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D" alt="\psi_(x)=x^{x^{x^{x^{.^{.^.}}}}}" eeimg="1"/> ，若 <img src="https://www.zhihu.com/equation?tex=1%5Cleq+x_1%3Cx_2" alt="1\leq x_1&lt;x_2" eeimg="1"/> 且 <img src="https://www.zhihu.com/equation?tex=%5Cpsi%28x_1%29" alt="\psi(x_1)" eeimg="1"/> 与 <img src="https://www.zhihu.com/equation?tex=%5Cpsi%28x_2%29" alt="\psi(x_2)" eeimg="1"/> 都收敛，则有 <img src="https://www.zhihu.com/equation?tex=%5Cpsi%28x_1%29%3C%5Cpsi%28x_2%29" alt="\psi(x_1)&lt;\psi(x_2)" eeimg="1"/> 。证明如下：</p><blockquote>记 <img src="https://www.zhihu.com/equation?tex=%5Cpsi_n%28x%29%3D%5Cleft.x%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D%5Cright%5C%7D%28n%E4%B8%AAx%29" alt="\psi_n(x)=\left.x^{x^{x^{x^{.^{.^.}}}}}\right\}(n个x)" eeimg="1"/> ，则有 <img src="https://www.zhihu.com/equation?tex=%5Cpsi_n%28x%29%3Dx%5E%7B%5Cpsi_%7Bn-1%7D%28x%29%7D" alt="\psi_n(x)=x^{\psi_{n-1}(x)}" eeimg="1"/> <br/>若当 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 为某个正整数时 <img src="https://www.zhihu.com/equation?tex=%5Cpsi_n%28x_1%29%3C%5Cpsi_n%28x_2%29" alt="\psi_n(x_1)&lt;\psi_n(x_2)" eeimg="1"/> 成立，<br/>则有 <img src="https://www.zhihu.com/equation?tex=%5Cpsi_%7Bn%2B1%7D%28x_1%29%3D%7Bx_1%7D%5E%7B%5Cpsi_%7Bn%7D%28x_1%29%7D%3Cx_2%5E%7B%5Cpsi_n%28%7Bx_2%7D%29%7D%3D%5Cpsi_%7Bn%2B1%7D%28x_2%29" alt="\psi_{n+1}(x_1)={x_1}^{\psi_{n}(x_1)}&lt;x_2^{\psi_n({x_2})}=\psi_{n+1}(x_2)" eeimg="1"/> <br/>当 <img src="https://www.zhihu.com/equation?tex=n%3D1" alt="n=1" eeimg="1"/> 时显然成立，由数学归纳法知 <img src="https://www.zhihu.com/equation?tex=%5Cforall+n%3A%5Cpsi_n%28x_1%29%3C%5Cpsi_n%28x_2%29" alt="\forall n:\psi_n(x_1)&lt;\psi_n(x_2)" eeimg="1"/> 成立<br/>令 <img src="https://www.zhihu.com/equation?tex=n%5Cto%5Cinfty" alt="n\to\infty" eeimg="1"/> 得： <img src="https://www.zhihu.com/equation?tex=%5Cpsi%28x_1%29%5Cleq%5Cpsi%28x_2%29" alt="\psi(x_1)\leq\psi(x_2)" eeimg="1"/> <br/>而实际上，等号是取不到的，因为若 <img src="https://www.zhihu.com/equation?tex=%5Cpsi%28x_1%29%3D%5Cpsi%28x_2%29%3Dc" alt="\psi(x_1)=\psi(x_2)=c" eeimg="1"/> ，则有<br/> <img src="https://www.zhihu.com/equation?tex=x_1%5Ec%3Dc" alt="x_1^c=c" eeimg="1"/> 及 <img src="https://www.zhihu.com/equation?tex=x_2%5Ec%3Dc" alt="x_2^c=c" eeimg="1"/> ，于是 <img src="https://www.zhihu.com/equation?tex=x_1%3Dx_2%3Dc%5E%7B%5Cfrac1c%7D" alt="x_1=x_2=c^{\frac1c}" eeimg="1"/> ，与假设矛盾。<br/>所以 <img src="https://www.zhihu.com/equation?tex=%5Cpsi%28x_1%29%3C%5Cpsi%28x_2%29" alt="\psi(x_1)&lt;\psi(x_2)" eeimg="1"/> </blockquote><p>用反证法易证它的逆命题【若 <img src="https://www.zhihu.com/equation?tex=1%3C%5Cpsi%28x_1%29%3C%5Cpsi%28x_2%29" alt="1&lt;\psi(x_1)&lt;\psi(x_2)" eeimg="1"/> 且 <img src="https://www.zhihu.com/equation?tex=%5Cpsi%28x_1%29" alt="\psi(x_1)" eeimg="1"/> 与 <img src="https://www.zhihu.com/equation?tex=%5Cpsi%28x_2%29" alt="\psi(x_2)" eeimg="1"/> 都收敛，则有 <img src="https://www.zhihu.com/equation?tex=+x_1%3Cx_2" alt=" x_1&lt;x_2" eeimg="1"/> 】也成立。</p><p>由此我们可以得到结论：若方程 <img src="https://www.zhihu.com/equation?tex=x%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D%3D%5Cstar~~~%28%5Cstar%3E2%29" alt="x^{x^{x^{x^{.^{.^.}}}}}=\star~~~(\star&gt;2)" eeimg="1"/> 有解，则一定有 <img src="https://www.zhihu.com/equation?tex=x%3E%5Csqrt2" alt="x&gt;\sqrt2" eeimg="1"/> </p><p>然后还是老办法，构造数列 <img src="https://www.zhihu.com/equation?tex=%5Cleft%5C%7Bb%2Cb%5Eb%2Cb%5E%7Bb%5Eb%7D%2C%5Ccdots%5Cright%5C%7D" alt="\left\{b,b^b,b^{b^b},\cdots\right\}" eeimg="1"/> ，其中 <img src="https://www.zhihu.com/equation?tex=b%5Cge%5Csqrt2" alt="b\ge\sqrt2" eeimg="1"/> ，写成递推形式：</p><p><img src="https://www.zhihu.com/equation?tex=a_0%3D1" alt="a_0=1" eeimg="1"/> ， <img src="https://www.zhihu.com/equation?tex=a_n%3Df%28a_%7Bn-1%7D%29" alt="a_n=f(a_{n-1})" eeimg="1"/> ，其中 <img src="https://www.zhihu.com/equation?tex=f%28x%29%3Db%5Ex" alt="f(x)=b^x" eeimg="1"/> ， <img src="https://www.zhihu.com/equation?tex=b%3E0" alt="b&gt;0" eeimg="1"/> </p><p>于是 <img src="https://www.zhihu.com/equation?tex=a_n%3D%5Cleft.b%5E%7Bb%5E%7Bb%5E%7Bb%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D%5Cright%5C%7D%28n%E4%B8%AAb%29" alt="a_n=\left.b^{b^{b^{b^{.^{.^.}}}}}\right\}(n个b)" eeimg="1"/> 。上一部分中，我们看了 <img src="https://www.zhihu.com/equation?tex=b%3D%5Csqrt2" alt="b=\sqrt2" eeimg="1"/> 时的迭代表现。随着b取值的不同，数列的迭代表现也会不同。这是 <img src="https://www.zhihu.com/equation?tex=%5Csqrt2%5Cle+b%5Cle1.5" alt="\sqrt2\le b\le1.5" eeimg="1"/> 时的迭代图像变化：</p><a href="https://www.zhihu.com/zvideo/1274760211899842560" data-draft-node="block" data-draft-type="link-card"></a><p>很容易看出，当 <img src="https://www.zhihu.com/equation?tex=f%28x%29" alt="f(x)" eeimg="1"/> 与 <img src="https://www.zhihu.com/equation?tex=y%3Dx" alt="y=x" eeimg="1"/> 有交点时，数列 <img src="https://www.zhihu.com/equation?tex=%5C%7Ba_n%5C%7D" alt="\{a_n\}" eeimg="1"/> 收敛于离原点更近的那个交点：当 <img src="https://www.zhihu.com/equation?tex=f%28x%29" alt="f(x)" eeimg="1"/> 与 <img src="https://www.zhihu.com/equation?tex=y%3Dx" alt="y=x" eeimg="1"/> 无交点时，数列 <img src="https://www.zhihu.com/equation?tex=%5C%7Ba_n%5C%7D" alt="\{a_n\}" eeimg="1"/> 发散。而数列收敛与发散的界限，正是在【 <img src="https://www.zhihu.com/equation?tex=f%28x%29" alt="f(x)" eeimg="1"/> 与 <img src="https://www.zhihu.com/equation?tex=y%3Dx" alt="y=x" eeimg="1"/> 相切】的时候，此时b的取值便是 <img src="https://www.zhihu.com/equation?tex=%5Cpsi_%28x%29%3Dx%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D" alt="\psi_(x)=x^{x^{x^{x^{.^{.^.}}}}}" eeimg="1"/> 收敛域的右端点。</p><p>为求出b，我们需要解此方程组： <img src="https://www.zhihu.com/equation?tex=%5Cleft%5C%7B%5Cbegin%7Bgathered%7Df%28x%29%3Dx%5Ccr+f%27%28x%29%3D1+%5Cend%7Bgathered%7D%5Cright." alt="\left\{\begin{gathered}f(x)=x\cr f&#39;(x)=1 \end{gathered}\right." eeimg="1"/> </p><p>也就是 <img src="https://www.zhihu.com/equation?tex=%5Cleft%5C%7B%5Cbegin%7Bgathered%7Db%5Ex%3Dx%5Ccr+b%5Ex%5Cln+b%3D1+%5Cend%7Bgathered%7D%5Cright." alt="\left\{\begin{gathered}b^x=x\cr b^x\ln b=1 \end{gathered}\right." eeimg="1"/> </p><p>下式除上式得 <img src="https://www.zhihu.com/equation?tex=%5Cln+b%3D%5Cfrac1x" alt="\ln b=\frac1x" eeimg="1"/> ，即 <img src="https://www.zhihu.com/equation?tex=b%3De%5E%7B%5Cfrac1x%7D" alt="b=e^{\frac1x}" eeimg="1"/> ，代回上式得 <img src="https://www.zhihu.com/equation?tex=x%3De" alt="x=e" eeimg="1"/> ，于是 <img src="https://www.zhihu.com/equation?tex=b%3De%5E%7B%5Cfrac1e%7D" alt="b=e^{\frac1e}" eeimg="1"/> ，所以方程组的解为：</p><p><img src="https://www.zhihu.com/equation?tex=%5Cleft%5C%7B%5Cbegin%7Bgathered%7D+x%3De%5Ccr+b%3De%5E%7B%5Cfrac1e%7D+%5Cend%7Bgathered%7D%5Cright." alt="\left\{\begin{gathered} x=e\cr b=e^{\frac1e} \end{gathered}\right." eeimg="1"/> </p><p>即当 <img src="https://www.zhihu.com/equation?tex=b%3De%5E%7B%5Cfrac1e%7D" alt="b=e^{\frac1e}" eeimg="1"/> 时， <img src="https://www.zhihu.com/equation?tex=f%28x%29" alt="f(x)" eeimg="1"/> 与 <img src="https://www.zhihu.com/equation?tex=y%3Dx" alt="y=x" eeimg="1"/> 的切点坐标为 <img src="https://www.zhihu.com/equation?tex=%5Cleft%28e%2Ce%5Cright%29" alt="\left(e,e\right)" eeimg="1"/> 。</p><p>我们也就得到了极限 <img src="https://www.zhihu.com/equation?tex=%5Cpsi_%28x%29%3Dx%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D" alt="\psi_(x)=x^{x^{x^{x^{.^{.^.}}}}}" eeimg="1"/> 收敛域的右端点是 <img src="https://www.zhihu.com/equation?tex=e%5E%7B%5Cfrac1e%7D" alt="e^{\frac1e}" eeimg="1"/> ，此时 <img src="https://www.zhihu.com/equation?tex=%5Cpsi%5Cleft%28e%5E%7B%5Cfrac1e%7D%5Cright%29%3De" alt="\psi\left(e^{\frac1e}\right)=e" eeimg="1"/> 。结合前面的引理可知，当 <img src="https://www.zhihu.com/equation?tex=%5Csqrt2%5Cle+x%5Cle+e%5E%7B%5Cfrac1e%7D" alt="\sqrt2\le x\le e^{\frac1e}" eeimg="1"/> 时， <img src="https://www.zhihu.com/equation?tex=%5Cpsi%5Cleft%28%5Csqrt2%5Cright%29%5Cle+%5Cpsi%28x%29%5Cle+%5Cpsi%5Cleft%28e%5E%7B%5Cfrac1e%7D%5Cright%29" alt="\psi\left(\sqrt2\right)\le \psi(x)\le \psi\left(e^{\frac1e}\right)" eeimg="1"/> ，即 <img src="https://www.zhihu.com/equation?tex=2%5Cle+%5Cpsi%28x%29%5Cleq+e" alt="2\le \psi(x)\leq e" eeimg="1"/> </p><p>这也就回答了这一部分最初提出的问题：</p><p>对于 <img src="https://www.zhihu.com/equation?tex=%5Cstar%5Cin%5B2%2C4%5D" alt="\star\in[2,4]" eeimg="1"/> ，方程 <img src="https://www.zhihu.com/equation?tex=x%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D%3D%5Cstar" alt="x^{x^{x^{x^{.^{.^.}}}}}=\star" eeimg="1"/> 当 <img src="https://www.zhihu.com/equation?tex=2%5Cle+%5Cstar%5Cleq+e" alt="2\le \star\leq e" eeimg="1"/> 时有解，当 <img src="https://www.zhihu.com/equation?tex=e%3C%5Cstar%5Cle4" alt="e&lt;\star\le4" eeimg="1"/> 时无解，使方程【有解】和【无解】的分界点便是神奇的 <img src="https://www.zhihu.com/equation?tex=e+" alt="e " eeimg="1"/> </p><p>以上仅为不严格的推导，稍后便给出严格证明。</p><h2>四 、 「奇葩的迭代」</h2><p>上一部分，我们求出了极限 <img src="https://www.zhihu.com/equation?tex=%5Cpsi_%28x%29%3Dx%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D" alt="\psi_(x)=x^{x^{x^{x^{.^{.^.}}}}}" eeimg="1"/> 收敛域的右端点是 <img src="https://www.zhihu.com/equation?tex=e%5E%7B%5Cfrac1e%7D" alt="e^{\frac1e}" eeimg="1"/> ，何不尝试求一下它的左端点呢？先来看看 <img src="https://www.zhihu.com/equation?tex=0%3C+b%5Cle+e%5E%7B%5Cfrac1e%7D" alt="0&lt; b\le e^{\frac1e}" eeimg="1"/> 时的迭代变化：</p><a href="https://www.zhihu.com/zvideo/1275007662942576640" data-draft-node="block" data-draft-type="link-card"></a><p>可以发现当 <img src="https://www.zhihu.com/equation?tex=1%3Cb%5Cle+e%5E%7B%5Cfrac1e%7D" alt="1&lt;b\le e^{\frac1e}" eeimg="1"/> 时的迭代表现是一类的。当 <img src="https://www.zhihu.com/equation?tex=b%3D1" alt="b=1" eeimg="1"/> 时显然收敛。我们下面主要关注当 <img src="https://www.zhihu.com/equation?tex=0%3C+b%3C+1" alt="0&lt; b&lt; 1" eeimg="1"/> 时的迭代，显然它的迭代表现是完全不一样的。不知道大家看了有什么想法，，反正我联想到了这个：</p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-8fa635ef9d036da0c53120d2c30b21f7_b.jpg" data-caption="" data-size="normal" data-rawwidth="500" data-rawheight="699" class="origin_image zh-lightbox-thumb" width="500" data-original="https://pic1.zhimg.com/v2-8fa635ef9d036da0c53120d2c30b21f7_r.jpg"/></figure><p>我们知道，只有当黑线趋近于唯一一点时，此数列才有极限。观察当 <img src="https://www.zhihu.com/equation?tex=0%3Cb%3C1" alt="0&lt;b&lt;1" eeimg="1"/> 时的迭代，会发现似乎b在某个范围内时迭代趋于中心一点，此时极限存在；b在另一范围内却不趋于唯一一点，而是“趋于”两点——内部“正方形孔”的右上角和左下角，此时极限不存在。当然，以上所述的“点”均为不动点。仔细观察后，我们可以大胆猜测：数列收敛与发散的界限，是在【 <img src="https://www.zhihu.com/equation?tex=y%3Dx" alt="y=x" eeimg="1"/> 是 <img src="https://www.zhihu.com/equation?tex=f%28x%29" alt="f(x)" eeimg="1"/> 的法线】的时候，此时b的取值便是 <img src="https://www.zhihu.com/equation?tex=%5Cpsi_%28x%29%3Dx%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D" alt="\psi_(x)=x^{x^{x^{x^{.^{.^.}}}}}" eeimg="1"/> 收敛域的左端点。</p><p>为求出b，我们需要解此方程组： <img src="https://www.zhihu.com/equation?tex=%5Cleft%5C%7B%5Cbegin%7Bgathered%7Df%28x%29%3Dx%5Ccr+f%27%28x%29%3D-1+%5Cend%7Bgathered%7D%5Cright." alt="\left\{\begin{gathered}f(x)=x\cr f&#39;(x)=-1 \end{gathered}\right." eeimg="1"/> </p><p>也就是 <img src="https://www.zhihu.com/equation?tex=%5Cleft%5C%7B%5Cbegin%7Bgathered%7Db%5Ex%3Dx%5Ccr+b%5Ex%5Cln+b%3D-1+%5Cend%7Bgathered%7D%5Cright.+" alt="\left\{\begin{gathered}b^x=x\cr b^x\ln b=-1 \end{gathered}\right. " eeimg="1"/> </p><p>解为 <img src="https://www.zhihu.com/equation?tex=%5Cleft%5C%7B%5Cbegin%7Bgathered%7D+x%3De%5E%7B-1%7D%5Ccr+b%3De%5E%7B-e%7D+%5Cend%7Bgathered%7D%5Cright." alt="\left\{\begin{gathered} x=e^{-1}\cr b=e^{-e} \end{gathered}\right." eeimg="1"/> （具体过程就留给大家了～）</p><p>所以极限  <img src="https://www.zhihu.com/equation?tex=%5Cpsi_%28x%29%3Dx%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D" alt="\psi_(x)=x^{x^{x^{x^{.^{.^.}}}}}" eeimg="1"/> 收敛域的左端点是 <img src="https://www.zhihu.com/equation?tex=e%5E%7B-e%7D" alt="e^{-e}" eeimg="1"/> 。至此，我们也就得出了它的收敛域为 <img src="https://www.zhihu.com/equation?tex=%5Cleft%5Be%5E%7B-e%7D%2Ce%5E%7B%5Cfrac1e%7D%5Cright%5D" alt="\left[e^{-e},e^{\frac1e}\right]" eeimg="1"/> 。如果想有对称的感觉，可以写成 <img src="https://www.zhihu.com/equation?tex=%5Cleft%5B%5Cleft%28%5Cfrac1e%5Cright%29%5Ee%2Ce%5E%7B%5Cfrac1e%7D%5Cright%5D" alt="\left[\left(\frac1e\right)^e,e^{\frac1e}\right]" eeimg="1"/> </p><p>自然常数 <img src="https://www.zhihu.com/equation?tex=e" alt="e" eeimg="1"/> 竟然能以这种形式出现在这里，不得不让人感叹数学的奇妙！</p><h2>五 、 「严格的证明（1）—— 阶梯状迭代」</h2><p>以上的推导并不严格，下面将给出严格证明。</p><p>我们的目标是证明当且仅当 <img src="https://www.zhihu.com/equation?tex=b%5Cin%5Cleft%5Be%5E%7B-e%7D~%2C~e%5E%7B%5Cfrac1e%7D%5Cright%5D" alt="b\in\left[e^{-e}~,~e^{\frac1e}\right]" eeimg="1"/> 时，极限 <img src="https://www.zhihu.com/equation?tex=%5Clim_%7Bn%5Crightarrow%5Cinfty%7Da_n%3Db%5E%7Bb%5E%7Bb%5E%7B.%5E%7B.%5E%7B.%7D%7D%7D%7D%7D" alt="\lim_{n\rightarrow\infty}a_n=b^{b^{b^{.^{.^{.}}}}}" eeimg="1"/> 存在，其中</p><p><img src="https://www.zhihu.com/equation?tex=a_0%3D1~%2C~a_n%3Df%28a_%7Bn-1%7D%29" alt="a_0=1~,~a_n=f(a_{n-1})" eeimg="1"/> </p><p><img src="https://www.zhihu.com/equation?tex=f%28x%29%3Db%5Ex~%2C~%28b%3E0%29" alt="f(x)=b^x~,~(b&gt;0)" eeimg="1"/> </p><p>以下过程中的引理就不作证明了，有兴趣的读者可以自行证明。</p><p>由于迭代表现的不同，我们需考虑分类讨论：</p><p><b><i>Case 1 ： </i></b><img src="https://www.zhihu.com/equation?tex=b%3D1" alt="b=1" eeimg="1"/> </p><p>显然此时 <img src="https://www.zhihu.com/equation?tex=a_n%5Cequiv1" alt="a_n\equiv1" eeimg="1"/> ，所以极限存在且 <img src="https://www.zhihu.com/equation?tex=%5Clim_%7Bn%5Crightarrow+%5Cinfty%7Da_n%3D1" alt="\lim_{n\rightarrow \infty}a_n=1" eeimg="1"/> </p><p><b><i>Case 2 ： </i></b><img src="https://www.zhihu.com/equation?tex=b%5Cin%5Cleft%281~%2C~e%5E%7B%5Cfrac1e%7D%5Cright%5D" alt="b\in\left(1~,~e^{\frac1e}\right]" eeimg="1"/> </p><p>仿照第二部分的当 <img src="https://www.zhihu.com/equation?tex=b%3D%5Csqrt2" alt="b=\sqrt2" eeimg="1"/> 时的证明即可。 </p><blockquote><b>引理 1 ：</b><br/>当 <img src="https://www.zhihu.com/equation?tex=b%5Cin%5Cleft%281~%2C~e%5E%7B%5Cfrac1e%7D%5Cright%29" alt="b\in\left(1~,~e^{\frac1e}\right)" eeimg="1"/> 时， <img src="https://www.zhihu.com/equation?tex=f%28x%29%3Db%5Ex" alt="f(x)=b^x" eeimg="1"/> 与 <img src="https://www.zhihu.com/equation?tex=y%3Dx" alt="y=x" eeimg="1"/> 有两个交点，且它们各自分别在 <img src="https://www.zhihu.com/equation?tex=%281%2Ce%29" alt="(1,e)" eeimg="1"/> 和 <img src="https://www.zhihu.com/equation?tex=%28e%2C%2B%5Cinfty%29" alt="(e,+\infty)" eeimg="1"/> 内。<br/><b>引理 2 ：</b><br/> <img src="https://www.zhihu.com/equation?tex=y%3De%5E%7B%5Cfrac1ex%7D" alt="y=e^{\frac1ex}" eeimg="1"/> 与 <img src="https://www.zhihu.com/equation?tex=y%3Dx" alt="y=x" eeimg="1"/> 相切于 <img src="https://www.zhihu.com/equation?tex=%28e%2Ce%29" alt="(e,e)" eeimg="1"/> ，且 <img src="https://www.zhihu.com/equation?tex=%5Cforall+x%5Cne+e%3Ax%3C%5Cleft%28e%5E%7B%5Cfrac1e%7D%5Cright%29%5Ex" alt="\forall x\ne e:x&lt;\left(e^{\frac1e}\right)^x" eeimg="1"/> </blockquote><p>若当 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 为某个正整数时 <img src="https://www.zhihu.com/equation?tex=a_n%3Ea_%7Bn-1%7D" alt="a_n&gt;a_{n-1}" eeimg="1"/> 成立，则有 <img src="https://www.zhihu.com/equation?tex=a_%7Bn%2B1%7D%3Df%28a_n%29%3Ef%28a_%7Bn-1%7D%29%3Da_n" alt="a_{n+1}=f(a_n)&gt;f(a_{n-1})=a_n" eeimg="1"/> </p><p>当 <img src="https://www.zhihu.com/equation?tex=n%3D1" alt="n=1" eeimg="1"/> 时显然成立，由数学归纳法知 <img src="https://www.zhihu.com/equation?tex=%5Cforall+n%3Aa_n%3Ea_%7Bn-1%7D" alt="\forall n:a_n&gt;a_{n-1}" eeimg="1"/> 成立，即数列 <img src="https://www.zhihu.com/equation?tex=%5Cleft%5C%7Ba_n%5Cright%5C%7D" alt="\left\{a_n\right\}" eeimg="1"/> 单调增加。</p><p>由引理 1 及引理 2 ，设 <img src="https://www.zhihu.com/equation?tex=f%28x%29%3Db%5Ex" alt="f(x)=b^x" eeimg="1"/> 与 <img src="https://www.zhihu.com/equation?tex=y%3Dx" alt="y=x" eeimg="1"/> 离原点较近的那个交点（或切点）坐标为 <img src="https://www.zhihu.com/equation?tex=%28c_1%2Cc_1%29" alt="(c_1,c_1)" eeimg="1"/> </p><p>若当 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 为某个非负整数时 <img src="https://www.zhihu.com/equation?tex=+a_n%3Cc_1" alt=" a_n&lt;c_1" eeimg="1"/> 成立，则有 <img src="https://www.zhihu.com/equation?tex=a_%7Bn%2B1%7D%3Df%28a_n%29%3Cf%28c_1%29%3Cc_1" alt="a_{n+1}=f(a_n)&lt;f(c_1)&lt;c_1" eeimg="1"/> </p><p>由引理 1 知当 <img src="https://www.zhihu.com/equation?tex=n%3D0" alt="n=0" eeimg="1"/> 时成立，由数学归纳法知 <img src="https://www.zhihu.com/equation?tex=%5Cforall+n%3Aa_n%3Cc_1" alt="\forall n:a_n&lt;c_1" eeimg="1"/> 成立，即数列 <img src="https://www.zhihu.com/equation?tex=%5Cleft%5C%7Ba_n%5Cright%5C%7D" alt="\left\{a_n\right\}" eeimg="1"/> 有界。</p><p>所以 <img src="https://www.zhihu.com/equation?tex=%5C%7Ba_n%5C%7D" alt="\{a_n\}" eeimg="1"/> 极限存在，且 <img src="https://www.zhihu.com/equation?tex=%5Clim_%7Bn%5Crightarrow%5Cinfty%7Da_n%3Dc_1" alt="\lim_{n\rightarrow\infty}a_n=c_1" eeimg="1"/> </p><blockquote>此处利用了我们在第二部分中得到的结论：<br/>若递推数列 <img src="https://www.zhihu.com/equation?tex=a_n%3Df%28a_%7Bn-1%7D%29" alt="a_n=f(a_{n-1})" eeimg="1"/> 极限存在，则它的极限是函数 <img src="https://www.zhihu.com/equation?tex=f%28x%29" alt="f(x)" eeimg="1"/> 的（一个）不动点。</blockquote><p><b><i>Case 3 ：</i></b> <img src="https://www.zhihu.com/equation?tex=b%3Ee%5E%7B%5Cfrac1e%7D" alt="b&gt;e^{\frac1e}" eeimg="1"/></p><p>考虑反证法，假设极限存在： <img src="https://www.zhihu.com/equation?tex=%5Clim_%7Bn%5Crightarrow%5Cinfty%7Da_n%3DA" alt="\lim_{n\rightarrow\infty}a_n=A" eeimg="1"/> ，则 <img src="https://www.zhihu.com/equation?tex=A%3Db%5E%7BA%7D%3E%5Cleft%28e%5E%7B%5Cfrac1e%7D%5Cright%29%5E%7BA%7D" alt="A=b^{A}&gt;\left(e^{\frac1e}\right)^{A}" eeimg="1"/></p><p>而另一方面，由引理 2 知 <img src="https://www.zhihu.com/equation?tex=%5Cforall+x%3Ax%5Cleq%5Cleft%28e%5E%7B%5Cfrac1e%7D%5Cright%29%5Ex" alt="\forall x:x\leq\left(e^{\frac1e}\right)^x" eeimg="1"/> 成立，故 <img src="https://www.zhihu.com/equation?tex=A%5Cleq%5Cleft%28e%5E%7B%5Cfrac1e%7D%5Cright%29%5E%7BA%7D" alt="A\leq\left(e^{\frac1e}\right)^{A}" eeimg="1"/> ，矛盾。</p><p>因此 <img src="https://www.zhihu.com/equation?tex=%5Clim_%7Bn%5Crightarrow%5Cinfty%7Da_n" alt="\lim_{n\rightarrow\infty}a_n" eeimg="1"/> 极限不存在。易证此时数列 <img src="https://www.zhihu.com/equation?tex=%5C%7Ba_n%5C%7D" alt="\{a_n\}" eeimg="1"/> 单调增加，所以 <img src="https://www.zhihu.com/equation?tex=%5Clim_%7Bn%5Crightarrow%5Cinfty%7Da_n%3D%2B%5Cinfty" alt="\lim_{n\rightarrow\infty}a_n=+\infty" eeimg="1"/> </p><p>以上 Case 2 与 Case 3 的迭代表现都是阶梯状的。</p><h2>六 、 「严格的证明（2）—— 螺旋方形状迭代」</h2><p>在继续进行证明之前，我们要做点工作，因为 <img src="https://www.zhihu.com/equation?tex=0%3Cb%3C1" alt="0&lt;b&lt;1" eeimg="1"/> 时，迭代的表现很魔幻。从迭代图像就可以看出，此时的 <img src="https://www.zhihu.com/equation?tex=a_n" alt="a_n" eeimg="1"/> 不是单调的！因此刚刚的那些证明方法在这里就失效了。不过，虽然数列本身不单调，但可以看出它的两个子列是单调的，如图：</p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-40a7e019af3dee4fa06d50d68109101c_b.jpg" data-caption="" data-size="normal" data-rawwidth="1980" data-rawheight="1770" class="origin_image zh-lightbox-thumb" width="1980" data-original="https://pic1.zhimg.com/v2-40a7e019af3dee4fa06d50d68109101c_r.jpg"/></figure><p>它的偶子列 <img src="https://www.zhihu.com/equation?tex=%5C%7Ba_0%2Ca_2%2Ca_4%2C%5Ccdots%5C%7D" alt="\{a_0,a_2,a_4,\cdots\}" eeimg="1"/> 和奇子列 <img src="https://www.zhihu.com/equation?tex=%5C%7Ba_1%2Ca_3%2Ca_5%2C%5Ccdots%5C%7D" alt="\{a_1,a_3,a_5,\cdots\}" eeimg="1"/> 分别是单调的，这就给我们提供了一个新的思路：只需分别考察偶子列与奇子列的收敛情况，仅当它们极限都存在且相等时， <img src="https://www.zhihu.com/equation?tex=%5C%7Ba_n%5C%7D" alt="\{a_n\}" eeimg="1"/> 极限存在。下面是我们要做的准备工作：</p><p>考虑 <img src="https://www.zhihu.com/equation?tex=%5C%7Ba_n%5C%7D" alt="\{a_n\}" eeimg="1"/> 的两个子列： <img src="https://www.zhihu.com/equation?tex=u_n%3Da_%7B2n%7D" alt="u_n=a_{2n}" eeimg="1"/> （偶子列）， <img src="https://www.zhihu.com/equation?tex=v_n%3Da_%7B2n%2B1%7D" alt="v_n=a_{2n+1}" eeimg="1"/> （奇子列），他们的递推形式为：</p><p><img src="https://www.zhihu.com/equation?tex=u_0%3D1~%2C~u_%7Bn%7D%3Dg%28u_%7Bn-1%7D%29" alt="u_0=1~,~u_{n}=g(u_{n-1})" eeimg="1"/></p><p><img src="https://www.zhihu.com/equation?tex=v_0%3Db~%2C~v_n%3Dg%28v_%7Bn-1%7D%29" alt="v_0=b~,~v_n=g(v_{n-1})" eeimg="1"/></p><p>其中 <img src="https://www.zhihu.com/equation?tex=g%28x%29%3Db%5E%7Bb%5Ex%7D" alt="g(x)=b^{b^x}" eeimg="1"/> </p><p>现在可以继续证明了。</p><p><b><i>Case 4 </i></b>： <img src="https://www.zhihu.com/equation?tex=b%5Cin%5Cleft%5Be%5E%7B-e%7D%2C1%5Cright%29" alt="b\in\left[e^{-e},1\right)" eeimg="1"/> </p><blockquote><b>引理 3 </b>：<br/>当 <img src="https://www.zhihu.com/equation?tex=0%3Cb%3C1" alt="0&lt;b&lt;1" eeimg="1"/> 时， <img src="https://www.zhihu.com/equation?tex=g%28x%29%3Db%5E%7Bb%5Ex%7D" alt="g(x)=b^{b^x}" eeimg="1"/> 严格单调增加。<br/><b>引理 4 </b>：<br/>当 <img src="https://www.zhihu.com/equation?tex=b%5Cin%5Cleft%5Be%5E%7B-e%7D%2C1%5Cright%29" alt="b\in\left[e^{-e},1\right)" eeimg="1"/> 时， <img src="https://www.zhihu.com/equation?tex=g%28x%29%3Db%5E%7Bb%5Ex%7D" alt="g(x)=b^{b^x}" eeimg="1"/> 与 <img src="https://www.zhihu.com/equation?tex=y%3Dx" alt="y=x" eeimg="1"/> 只有一个交点，它在 <img src="https://www.zhihu.com/equation?tex=%280%2C1%29" alt="(0,1)" eeimg="1"/> 内。<br/><b>引理 5 </b>：<br/>数列有极限 <img src="https://www.zhihu.com/equation?tex=%5Calpha" alt="\alpha" eeimg="1"/> 的充要条件是它的偶子列与奇子列有相同极限 <img src="https://www.zhihu.com/equation?tex=%5Calpha" alt="\alpha" eeimg="1"/> 。 </blockquote><p>若当 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 为某个正整数时 <img src="https://www.zhihu.com/equation?tex=u_n%3Cu_%7Bn-1%7D" alt="u_n&lt;u_{n-1}" eeimg="1"/> 成立，则由引理 3 有 <img src="https://www.zhihu.com/equation?tex=u_%7Bn%2B1%7D%3Dg%28u_n%29%3Cg%28u_%7Bn-1%7D%29%3Du_n" alt="u_{n+1}=g(u_n)&lt;g(u_{n-1})=u_n" eeimg="1"/></p><p>当 <img src="https://www.zhihu.com/equation?tex=n%3D1" alt="n=1" eeimg="1"/> 时显然成立，由数学归纳法知 <img src="https://www.zhihu.com/equation?tex=%5Cforall+n%3Au_n%3Cu_%7Bn-1%7D" alt="\forall n:u_n&lt;u_{n-1}" eeimg="1"/> 成立，即数列 <img src="https://www.zhihu.com/equation?tex=%5C%7Bu_n%5C%7D" alt="\{u_n\}" eeimg="1"/> 单调减少。</p><p>由引理 4 ，设 <img src="https://www.zhihu.com/equation?tex=g%28x%29%3Db%5E%7Bb%5Ex%7D" alt="g(x)=b^{b^x}" eeimg="1"/> 与 <img src="https://www.zhihu.com/equation?tex=y%3Dx" alt="y=x" eeimg="1"/> 的交点坐标为 <img src="https://www.zhihu.com/equation?tex=%28c_2%2Cc_2%29" alt="(c_2,c_2)" eeimg="1"/> ，</p><p>若当 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 为某个非负整数时 <img src="https://www.zhihu.com/equation?tex=u_n%3Ec_2" alt="u_n&gt;c_2" eeimg="1"/> 成立，则有 <img src="https://www.zhihu.com/equation?tex=u_%7Bn%2B1%7D%3Dg%28u_%7Bn%7D%29%3Eg%28c_2%29%3Dc_2" alt="u_{n+1}=g(u_{n})&gt;g(c_2)=c_2" eeimg="1"/> ，</p><p>由引理 4 知当 <img src="https://www.zhihu.com/equation?tex=n%3D0" alt="n=0" eeimg="1"/> 时成立，由数学归纳法知 <img src="https://www.zhihu.com/equation?tex=%5Cforall+n%3Au_n%3Ec_2" alt="\forall n:u_n&gt;c_2" eeimg="1"/> 成立，即数列 <img src="https://www.zhihu.com/equation?tex=%5C%7Bu_n%5C%7D" alt="\{u_n\}" eeimg="1"/> 有界。</p><p>所以 <img src="https://www.zhihu.com/equation?tex=%5Clim_%7Bn%5Crightarrow+%5Cinfty%7Du_n" alt="\lim_{n\rightarrow \infty}u_n" eeimg="1"/> 存在，且 <img src="https://www.zhihu.com/equation?tex=%5Clim_%7Bn%5Crightarrow+%5Cinfty%7Du_n%3Dc_2" alt="\lim_{n\rightarrow \infty}u_n=c_2" eeimg="1"/> </p><p class="ztext-empty-paragraph"><br/></p><p>若当 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 为某个正整数时 <img src="https://www.zhihu.com/equation?tex=v_n%3Ev_%7Bn-1%7D" alt="v_n&gt;v_{n-1}" eeimg="1"/> 成立，则有 <img src="https://www.zhihu.com/equation?tex=v_%7Bn%2B1%7D%3Dg%28v_%7Bn%2B1%7D%29%3Eg%28v_%7Bn-1%7D%29%3Dv_n" alt="v_{n+1}=g(v_{n+1})&gt;g(v_{n-1})=v_n" eeimg="1"/></p><p>当 <img src="https://www.zhihu.com/equation?tex=n%3D1" alt="n=1" eeimg="1"/> 时显然成立，由数学归纳法知 <img src="https://www.zhihu.com/equation?tex=%5Cforall+n%3Av_n%3Ev_%7Bn-1%7D" alt="\forall n:v_n&gt;v_{n-1}" eeimg="1"/> 成立，即数列 <img src="https://www.zhihu.com/equation?tex=%5C%7Bv_n%5C%7D" alt="\{v_n\}" eeimg="1"/> 单调增加。 </p><p>若当 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 为某个非负整数时 <img src="https://www.zhihu.com/equation?tex=v_n%3Cc_2" alt="v_n&lt;c_2" eeimg="1"/> 成立，则有 <img src="https://www.zhihu.com/equation?tex=+v_%7Bn%2B1%7D%3Dg%28v_n%29%3Cg%28c_2%29%3Dc_2" alt=" v_{n+1}=g(v_n)&lt;g(c_2)=c_2" eeimg="1"/> </p><p>当 <img src="https://www.zhihu.com/equation?tex=n%3D0" alt="n=0" eeimg="1"/> 时成立，因为 <img src="https://www.zhihu.com/equation?tex=v_0%3Db%3Dg%280%29%3Cg%28c_2%29%3Dc_2" alt="v_0=b=g(0)&lt;g(c_2)=c_2" eeimg="1"/> ，由数学归纳法知 <img src="https://www.zhihu.com/equation?tex=%5Cforall+n%3Av_n%3Cc_2" alt="\forall n:v_n&lt;c_2" eeimg="1"/> 成立，即数列 <img src="https://www.zhihu.com/equation?tex=%5C%7Bv_n%5C%7D" alt="\{v_n\}" eeimg="1"/> 有界。</p><p>所以 <img src="https://www.zhihu.com/equation?tex=%5Clim_%7Bn%5Crightarrow%5Cinfty%7Dv_n" alt="\lim_{n\rightarrow\infty}v_n" eeimg="1"/> 存在，且 <img src="https://www.zhihu.com/equation?tex=%5Clim_%7Bn%5Crightarrow%5Cinfty%7Dv_n%3Dc_2" alt="\lim_{n\rightarrow\infty}v_n=c_2" eeimg="1"/> </p><p class="ztext-empty-paragraph"><br/></p><p>由引理 5 知， <img src="https://www.zhihu.com/equation?tex=%5Clim_%7Bn%5Crightarrow%5Cinfty%7Da_n" alt="\lim_{n\rightarrow\infty}a_n" eeimg="1"/> 存在，且 <img src="https://www.zhihu.com/equation?tex=%5Clim_%7Bn%5Crightarrow%5Cinfty%7Da_n%3Dc_2" alt="\lim_{n\rightarrow\infty}a_n=c_2" eeimg="1"/> </p><p><b><i>Case 5 </i></b>： <img src="https://www.zhihu.com/equation?tex=b%5Cin%5Cleft%280%2Ce%5E%7B-e%7D%5Cright%29" alt="b\in\left(0,e^{-e}\right)" eeimg="1"/></p><blockquote><b>引理 6 </b>：当 <img src="https://www.zhihu.com/equation?tex=b%5Cin%5Cleft%280%2Ce%5E%7B-e%7D%5Cright%29" alt="b\in\left(0,e^{-e}\right)" eeimg="1"/> 时， <img src="https://www.zhihu.com/equation?tex=g%28x%29%3Db%5E%7Bb%5Ex%7D" alt="g(x)=b^{b^x}" eeimg="1"/> 与 <img src="https://www.zhihu.com/equation?tex=y%3Dx" alt="y=x" eeimg="1"/> 有三个交点，且它们都在 <img src="https://www.zhihu.com/equation?tex=%280%2C1%29" alt="(0,1)" eeimg="1"/> 内。</blockquote><p>由引理 6 ，设 <img src="https://www.zhihu.com/equation?tex=g%28x%29%3Db%5E%7Bb%5Ex%7D" alt="g(x)=b^{b^x}" eeimg="1"/> 与 <img src="https://www.zhihu.com/equation?tex=y%3Dx" alt="y=x" eeimg="1"/> 离原点最远的交点坐标为 <img src="https://www.zhihu.com/equation?tex=%28c_3%2Cc_3%29" alt="(c_3,c_3)" eeimg="1"/> ，最近的为 <img src="https://www.zhihu.com/equation?tex=%28c_4%2Cc_4%29" alt="(c_4,c_4)" eeimg="1"/> ，则与 Case 4 相仿可证 <img src="https://www.zhihu.com/equation?tex=%5Clim_%7Bn%5Crightarrow%5Cinfty%7Du_n%3Dc_3~%2C~%5Clim_%7Bn%5Crightarrow%5Cinfty%7Dv_n%3Dc_4" alt="\lim_{n\rightarrow\infty}u_n=c_3~,~\lim_{n\rightarrow\infty}v_n=c_4" eeimg="1"/> ，具体过程<b>留作习题</b>。</p><p>由于 <img src="https://www.zhihu.com/equation?tex=c_3%5Cne+c_4" alt="c_3\ne c_4" eeimg="1"/> ，故 <img src="https://www.zhihu.com/equation?tex=%5Clim_%7Bn%5Crightarrow%5Cinfty%7Da_n" alt="\lim_{n\rightarrow\infty}a_n" eeimg="1"/> 不存在</p><p>至此，证明完毕！</p><p>留个小小的思考题：当 <img src="https://www.zhihu.com/equation?tex=b%5Crightarrow0" alt="b\rightarrow0" eeimg="1"/> 时，有什么情况？</p><h2>七  、  「无穷<i>迭代幂次（Tetration）</i>函数」</h2><p>我们围绕极限 <img src="https://www.zhihu.com/equation?tex=%5Cpsi_%28x%29%3Dx%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D" alt="\psi_(x)=x^{x^{x^{x^{.^{.^.}}}}}" eeimg="1"/> 讨论了很多，求出了它的收敛域为 <img src="https://www.zhihu.com/equation?tex=%5Cleft%5Be%5E%7B-e%7D%2Ce%5E%7B%5Cfrac1e%7D%5Cright%5D" alt="\left[e^{-e},e^{\frac1e}\right]" eeimg="1"/> 。实际上，它可以成为一个函数，而收敛域正是函数的定义域。此函数可叫作无穷迭代幂次<sup data-text="" data-url="https://en.wikipedia.org/wiki/Tetration" data-draft-node="inline" data-draft-type="reference" data-numero="3">[3]</sup>函数（它似乎并没有一个官方的名字）。</p><p>在第三部分中，我们得到了这个结论：若 <img src="https://www.zhihu.com/equation?tex=1%5Cleq+x_1%3Cx_2%5Cle+e%5E%7B%5Cfrac1e%7D" alt="1\leq x_1&lt;x_2\le e^{\frac1e}" eeimg="1"/> ，则有 <img src="https://www.zhihu.com/equation?tex=%5Cpsi%28x_1%29%3C%5Cpsi%28x_2%29" alt="\psi(x_1)&lt;\psi(x_2)" eeimg="1"/> ，实际上，当 <img src="https://www.zhihu.com/equation?tex=e%5E%7B-e%7D%5Cle+x_1%3Cx_2%3C1" alt="e^{-e}\le x_1&lt;x_2&lt;1" eeimg="1"/> 时，此结论也成立，但它用数学归纳法不好证明，我们不妨换一种思路。</p><p>为了方便，将函数记为 <img src="https://www.zhihu.com/equation?tex=y%3Dx%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D" alt="y=x^{x^{x^{x^{.^{.^.}}}}}" eeimg="1"/> ，则有 <img src="https://www.zhihu.com/equation?tex=y%3Dx%5Ey" alt="y=x^y" eeimg="1"/> ，即 <img src="https://www.zhihu.com/equation?tex=x%3Dy%5E%7B%5Cfrac1y%7D" alt="x=y^{\frac1y}" eeimg="1"/> ，这表明 <img src="https://www.zhihu.com/equation?tex=%5Cleft%28x_1%2C%5Cpsi%28x_1%29%5Cright%29" alt="\left(x_1,\psi(x_1)\right)" eeimg="1"/> 和 <img src="https://www.zhihu.com/equation?tex=%5Cleft%28x_2%2C%5Cpsi%28x_2%29%5Cright%29" alt="\left(x_2,\psi(x_2)\right)" eeimg="1"/> 都在隐函数 <img src="https://www.zhihu.com/equation?tex=x%3Dy%5E%7B%5Cfrac1y%7D" alt="x=y^{\frac1y}" eeimg="1"/> 的图像上，而它是 <img src="https://www.zhihu.com/equation?tex=y%3Dx%5E%7B%5Cfrac1x%7D" alt="y=x^{\frac1x}" eeimg="1"/> 的反函数，后者图像为：</p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-739328e33230d20122f7fffce90d9380_b.jpg" data-size="normal" data-rawwidth="2312" data-rawheight="754" class="origin_image zh-lightbox-thumb" width="2312" data-original="https://pic1.zhimg.com/v2-739328e33230d20122f7fffce90d9380_r.jpg"/><figcaption>虚线是y=1，是水平渐近线</figcaption></figure><p>易证它在 <img src="https://www.zhihu.com/equation?tex=%280%2C1%29" alt="(0,1)" eeimg="1"/> 内严格单调增加，且满足水平线检验，于是它的反函数 <img src="https://www.zhihu.com/equation?tex=x%3Dy%5E%7B%5Cfrac1y%7D" alt="x=y^{\frac1y}" eeimg="1"/> 在 <img src="https://www.zhihu.com/equation?tex=%280%2C1%29" alt="(0,1)" eeimg="1"/> 内严格单调增加，所以当 <img src="https://www.zhihu.com/equation?tex=e%5E%7B-e%7D%5Cle+x_1%3Cx_2%3C1" alt="e^{-e}\le x_1&lt;x_2&lt;1" eeimg="1"/> 时，有 <img src="https://www.zhihu.com/equation?tex=%5Cpsi%28x_1%29%3C%5Cpsi%28x_2%29" alt="\psi(x_1)&lt;\psi(x_2)" eeimg="1"/> 。</p><p>由以上结论，我们现在也就证明了无穷迭代幂次函数是严格单调增加的，它的表现与当 <img src="https://www.zhihu.com/equation?tex=y%5Cin%5Cleft%5Be%5E%7B-1%7D%2Ce%5Cright%5D" alt="y\in\left[e^{-1},e\right]" eeimg="1"/> 时的函数 <img src="https://www.zhihu.com/equation?tex=x%3Dy%5E%5Cfrac1y" alt="x=y^\frac1y" eeimg="1"/> 相同，后者的图像是这样：</p><figure data-size="normal"><img src="https://picb.zhimg.com/v2-2995bbd8c38eb24532f11f74ad859b36_b.jpg" data-caption="" data-size="normal" data-rawwidth="1836" data-rawheight="1738" class="origin_image zh-lightbox-thumb" width="1836" data-original="https://picb.zhimg.com/v2-2995bbd8c38eb24532f11f74ad859b36_r.jpg"/></figure><p>只需限制 <img src="https://www.zhihu.com/equation?tex=y+" alt="y " eeimg="1"/> 的取值范围，便可得到无穷迭代幂次函数的图像：</p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-aba8b79ef1ab8640b29676f850e9f431_b.jpg" data-caption="" data-size="normal" data-rawwidth="810" data-rawheight="1488" class="origin_image zh-lightbox-thumb" width="810" data-original="https://pic1.zhimg.com/v2-aba8b79ef1ab8640b29676f850e9f431_r.jpg"/></figure><p>左上角的 <img src="https://www.zhihu.com/equation?tex=%5Csideset%7B%5E%5Cinfty%7D%7B%7Dx" alt="\sideset{^\infty}{}x" eeimg="1"/> 是 <img src="https://www.zhihu.com/equation?tex=x%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D" alt="x^{x^{x^{x^{.^{.^.}}}}}" eeimg="1"/> 的一种记法。</p><p>下面我们求一下它的导数。</p><p><b><i>方法一</i></b>：由于它满足 <img src="https://www.zhihu.com/equation?tex=x%3Dy%5E%7B%5Cfrac1y%7D" alt="x=y^{\frac1y}" eeimg="1"/> ，于是 <img src="https://www.zhihu.com/equation?tex=%5Cfrac%7B%5Cmathrm+dx%7D%7B%5Cmathrm+dy%7D%3D%5Cfrac%7By%5E%7B%5Cfrac1y%7D%281-%5Cln+y%29%7D%7By%5E2%7D" alt="\frac{\mathrm dx}{\mathrm dy}=\frac{y^{\frac1y}(1-\ln y)}{y^2}" eeimg="1"/> ，由反函数的求导法则得 <img src="https://www.zhihu.com/equation?tex=%5Cfrac%7B%5Cmathrm+dy%7D%7B%5Cmathrm+dx%7D%3D%5Cfrac1%7B%5Cdfrac%7B%5Cmathrm+dx%7D%7B%5Cmathrm+dy%7D%7D%3D%5Cfrac%7By%5E2%7D%7By%5E%5Cfrac1y%281-%5Cln+y%29%7D%3D%5Cfrac%7B%5Cleft%28x%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D%7D%5Cright%29%5E2%7D%7Bx%5Cleft%281-x%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D%7D%5Cln+x%5Cright%29%7D" alt="\frac{\mathrm dy}{\mathrm dx}=\frac1{\dfrac{\mathrm dx}{\mathrm dy}}=\frac{y^2}{y^\frac1y(1-\ln y)}=\frac{\left(x^{x^{x^{x^{^{.^{.^.}}}}}}\right)^2}{x\left(1-x^{x^{x^{x^{^{.^{.^.}}}}}}\ln x\right)}" eeimg="1"/> ，这就是无穷迭代幂次函数的导数。</p><p><b><i>方法二</i></b>：直接对 <img src="https://www.zhihu.com/equation?tex=y%3Dx%5Ey" alt="y=x^y" eeimg="1"/> 作隐函数求导，然后解出 <img src="https://www.zhihu.com/equation?tex=%5Cfrac%7B%5Cmathrm+dy%7D%7B%5Cmathrm+dx%7D" alt="\frac{\mathrm dy}{\mathrm dx}" eeimg="1"/> 即可，过程留作习题。</p><p><b><i>方法三</i></b>：考虑先对 <img src="https://www.zhihu.com/equation?tex=%5Cpsi_n%28x%29%3D%5Cleft.x%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D%5Cright%5C%7D%28n%E4%B8%AAx%29" alt="\psi_n(x)=\left.x^{x^{x^{x^{.^{.^.}}}}}\right\}(n个x)" eeimg="1"/> 求导：</p><p><img src="https://www.zhihu.com/equation?tex=%5Cpsi%27_n%28x%29%3D%5Cfrac%7B%5Cmathrm+d%7D%7B%5Cmathrm+dx%7D%5Cleft%28e%5E%7B%5Cpsi_%7Bn-1%7D%28x%29%5Cln+x%7D%5Cright%29%3D%5Cpsi_n%28x%29%5Cleft%28%5Cpsi_%7Bn-1%7D%27%28x%29%5Cln+x%2B%5Cfrac%7B%5Cpsi_%7Bn-1%7D%28x%29%7Dx%5Cright%29" alt="\psi&#39;_n(x)=\frac{\mathrm d}{\mathrm dx}\left(e^{\psi_{n-1}(x)\ln x}\right)=\psi_n(x)\left(\psi_{n-1}&#39;(x)\ln x+\frac{\psi_{n-1}(x)}x\right)" eeimg="1"/> </p><p>两端令 <img src="https://www.zhihu.com/equation?tex=n%5Crightarrow%5Cinfty" alt="n\rightarrow\infty" eeimg="1"/> 得 <img src="https://www.zhihu.com/equation?tex=%5Cpsi%27%28x%29%3D%5Cpsi%28x%29%5Cleft%28%5Cpsi%27%28x%29%5Cln+x%2B%5Cfrac%7B%5Cpsi%28x%29%7Dx%5Cright%29" alt="\psi&#39;(x)=\psi(x)\left(\psi&#39;(x)\ln x+\frac{\psi(x)}x\right)" eeimg="1"/> ，然后解出 <img src="https://www.zhihu.com/equation?tex=%5Cpsi%27%28x%29" alt="\psi&#39;(x)" eeimg="1"/> 即可。</p><p>所以以后要是有人拿 <img src="https://www.zhihu.com/equation?tex=%5Cfrac%7B%5Cmathrm+d%7D%7B%5Cmathrm+dx%7D%5Cleft%28x%5E%7Bx%5E%7Bx%5E%7Bx%5Ex%7D%7D%7D%5Cright%29" alt="\frac{\mathrm d}{\mathrm dx}\left(x^{x^{x^{x^x}}}\right)" eeimg="1"/> 来难为你，你就可以直接怼回去： </p><p><img src="https://www.zhihu.com/equation?tex=%5Cfrac%7B%5Cmathrm+d%7D%7B%5Cmathrm+dx%7D%5Cleft%28x%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D%7D%5Cright%29%3D%5Cfrac%7B%5Cleft%28x%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D%7D%5Cright%29%5E2%7D%7Bx%5Cleft%281-x%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D%7D%5Cln+x%5Cright%29%7D" alt="\frac{\mathrm d}{\mathrm dx}\left(x^{x^{x^{x^{^{.^{.^.}}}}}}\right)=\frac{\left(x^{x^{x^{x^{^{.^{.^.}}}}}}\right)^2}{x\left(1-x^{x^{x^{x^{^{.^{.^.}}}}}}\ln x\right)}" eeimg="1"/> </p><p>它的拐点大约为 <img src="https://www.zhihu.com/equation?tex=%280.3944160%5Ccdots+~%2C~0.5819327%5Ccdots%29" alt="(0.3944160\cdots ~,~0.5819327\cdots)" eeimg="1"/> </p><p>至于它的积分，由于原函数求不出，所以定积分只能给出近似的数值解了：</p><p><img src="https://www.zhihu.com/equation?tex=%5Cint_%7Be%5E%7B-e%7D%7D%5E%7Be%5E%7B%5Cfrac1e%7D%7Dx%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D%5Cmathrm+dx%3De%5E%7B%5Cfrac1e%2B1%7D-e%5E%7B-e-1%7D-%5Cint_%7Be%5E%7B-1%7D%7D%5Eey%5E%5Cfrac1y%5Cmathrm+dy" alt="\int_{e^{-e}}^{e^{\frac1e}}x^{x^{x^{x^{.^{.^.}}}}}\mathrm dx=e^{\frac1e+1}-e^{-e-1}-\int_{e^{-1}}^ey^\frac1y\mathrm dy" eeimg="1"/> </p><p><img src="https://www.zhihu.com/equation?tex=%3D1.24413130065143720836726%5Ccdots" alt="=1.24413130065143720836726\cdots" eeimg="1"/> </p><h2>八 、 「图像分支与子列迭代」</h2><p>曾见有人提过这个问题：函数 <img src="https://www.zhihu.com/equation?tex=x%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D%7D" alt="x^{x^{x^{x^{^{.^{.^.}}}}}}" eeimg="1"/> 当 <img src="https://www.zhihu.com/equation?tex=x%5Cin%5Cleft%281%2Ce%5E%7B%5Cfrac1e%7D%5Cright%29" alt="x\in\left(1,e^{\frac1e}\right)" eeimg="1"/> 时是否是多值函数？</p><p>相信大家现在都能答上来，答案显然是“否”。</p><p>我们不妨思考一下，这个问题为什么会被提出来？我们前面提到了， <img src="https://www.zhihu.com/equation?tex=y%3Dx%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D%7D" alt="y=x^{x^{x^{x^{^{.^{.^.}}}}}}" eeimg="1"/> 与 <img src="https://www.zhihu.com/equation?tex=y%3Dx%5Ey" alt="y=x^y" eeimg="1"/> 在定义域内的图像是吻合的。若不限制 <img src="https://www.zhihu.com/equation?tex=y%3Dx%5Ey" alt="y=x^y" eeimg="1"/> 中 <img src="https://www.zhihu.com/equation?tex=y" alt="y" eeimg="1"/> 的取值，则它在 <img src="https://www.zhihu.com/equation?tex=%5Cleft%281%2Ce%5E%7B%5Cfrac1e%7D%5Cright%29" alt="\left(1,e^{\frac1e}\right)" eeimg="1"/> 内确实是多值的，这也正是此问题的由来。我们已经证明 <img src="https://www.zhihu.com/equation?tex=y%3Dx%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D%7D" alt="y=x^{x^{x^{x^{^{.^{.^.}}}}}}" eeimg="1"/> 收敛于下面的那一分支，不过这两个分支的出现可以通过迭代图像来解释：</p><p>当 <img src="https://www.zhihu.com/equation?tex=b%5Cin%5Cleft%281%2Ce%5E%7B%5Cfrac1e%7D%5Cright%29" alt="b\in\left(1,e^{\frac1e}\right)" eeimg="1"/> 时，函数 <img src="https://www.zhihu.com/equation?tex=f%28x%29%3Db%5Ex" alt="f(x)=b^x" eeimg="1"/> 有两个不动点，而数列迭代只收敛于离原点较近的那个不动点。 <img src="https://www.zhihu.com/equation?tex=y%3Dx%5Ey" alt="y=x^y" eeimg="1"/> 在这里的的多值性正是由另一个不动点产生的。比如文章最初的例子，当 <img src="https://www.zhihu.com/equation?tex=x%3D%5Csqrt2" alt="x=\sqrt2" eeimg="1"/> 时，方程 <img src="https://www.zhihu.com/equation?tex=y%3Dx%5Ey" alt="y=x^y" eeimg="1"/> 对应 <img src="https://www.zhihu.com/equation?tex=y%3D2" alt="y=2" eeimg="1"/> 或 <img src="https://www.zhihu.com/equation?tex=4" alt="4" eeimg="1"/> ，此时 <img src="https://www.zhihu.com/equation?tex=f%28x%29%3D%5Cleft%28%5Csqrt2%5Cright%29%5Ex" alt="f(x)=\left(\sqrt2\right)^x" eeimg="1"/> 有两个不动点 <img src="https://www.zhihu.com/equation?tex=%282%2C2%29" alt="(2,2)" eeimg="1"/> 和 <img src="https://www.zhihu.com/equation?tex=%284%2C4%29" alt="(4,4)" eeimg="1"/> ，但数列迭代收敛于 <img src="https://www.zhihu.com/equation?tex=2" alt="2" eeimg="1"/> 而不是 <img src="https://www.zhihu.com/equation?tex=4" alt="4" eeimg="1"/> ，即 <img src="https://www.zhihu.com/equation?tex=x%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D%7D" alt="x^{x^{x^{x^{^{.^{.^.}}}}}}" eeimg="1"/> 当 <img src="https://www.zhihu.com/equation?tex=x%3D%5Csqrt2" alt="x=\sqrt2" eeimg="1"/> 时收敛于 <img src="https://www.zhihu.com/equation?tex=2" alt="2" eeimg="1"/> 。</p><p>更有意思的事情发生在 <img src="https://www.zhihu.com/equation?tex=%5Cleft%280%2Ce%5E%7B-e%7D%5Cright%29" alt="\left(0,e^{-e}\right)" eeimg="1"/> 内。我们知道此时数列本身发散，但它的偶子列 <img src="https://www.zhihu.com/equation?tex=u_n" alt="u_n" eeimg="1"/> 和奇子列 <img src="https://www.zhihu.com/equation?tex=v_n" alt="v_n" eeimg="1"/> 分别收敛于当 <img src="https://www.zhihu.com/equation?tex=b%5Cin%5Cleft%280%2Ce%5E%7B-e%7D%5Cright%29" alt="b\in\left(0,e^{-e}\right)" eeimg="1"/> 时 <img src="https://www.zhihu.com/equation?tex=g%28x%29%3Db%5E%7Bb%5Ex%7D" alt="g(x)=b^{b^x}" eeimg="1"/> 的两个不动点。下面分别是它们的迭代图像：</p><figure data-size="normal"><img src="https://picb.zhimg.com/v2-8caf0fdcc5351e854c10099c4fb9be73_b.jpg" data-size="normal" data-rawwidth="2610" data-rawheight="1830" class="origin_image zh-lightbox-thumb" width="2610" data-original="https://picb.zhimg.com/v2-8caf0fdcc5351e854c10099c4fb9be73_r.jpg"/><figcaption>偶子列u_n</figcaption></figure><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-cff5e5a9c3d7b0d660b36bd147a908d7_b.jpg" data-size="normal" data-rawwidth="2418" data-rawheight="1810" class="origin_image zh-lightbox-thumb" width="2418" data-original="https://pic1.zhimg.com/v2-cff5e5a9c3d7b0d660b36bd147a908d7_r.jpg"/><figcaption>奇子列v_n</figcaption></figure><p>而 <img src="https://www.zhihu.com/equation?tex=y%3Dx%5E%7Bx%5Ey%7D" alt="y=x^{x^y}" eeimg="1"/> 的图像是这样：</p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-531d006af8f83485754e78f73dad8a11_b.jpg" data-caption="" data-size="normal" data-rawwidth="1446" data-rawheight="1704" class="origin_image zh-lightbox-thumb" width="1446" data-original="https://pic1.zhimg.com/v2-531d006af8f83485754e78f73dad8a11_r.jpg"/></figure><p>它除了在 <img src="https://www.zhihu.com/equation?tex=%5Cleft%280%2Ce%5E%7B-e%7D%5Cright%29" alt="\left(0,e^{-e}\right)" eeimg="1"/> 内多出来的上下两个分支之外，别处跟 <img src="https://www.zhihu.com/equation?tex=y%3Dx%5Ey" alt="y=x^y" eeimg="1"/> 的图像完全一样。这三个分支的正是由 <img src="https://www.zhihu.com/equation?tex=g%28x%29%3Db%5E%7Bb%5Ex%7D" alt="g(x)=b^{b^x}" eeimg="1"/> 当 <img src="https://www.zhihu.com/equation?tex=b%5Cin%5Cleft%280%2Ce%5E%7B-e%7D%5Cright%29" alt="b\in\left(0,e^{-e}\right)" eeimg="1"/> 时的三个不动点产生的。此时，迭代的偶子列收敛于最上面的分支，奇子列收敛于最下面的分支。</p><p>也就是说， <img src="https://www.zhihu.com/equation?tex=%5Clim_%7Bn%5Crightarrow%5Cinfty%7D%5Cleft.x%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D%5Cright%5C%7D%282n%E4%B8%AAx%29" alt="\lim_{n\rightarrow\infty}\left.x^{x^{x^{x^{.^{.^.}}}}}\right\}(2n个x)" eeimg="1"/> 的图像是这样：</p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-500a75a965018f7c3bc223a85df9eb5c_b.jpg" data-caption="" data-size="normal" data-rawwidth="1152" data-rawheight="1652" class="origin_image zh-lightbox-thumb" width="1152" data-original="https://pic1.zhimg.com/v2-500a75a965018f7c3bc223a85df9eb5c_r.jpg"/></figure><p><img src="https://www.zhihu.com/equation?tex=%5Clim_%7Bn%5Crightarrow%5Cinfty%7D%5Cleft.x%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D%5Cright%5C%7D%282n%2B1%E4%B8%AAx%29" alt="\lim_{n\rightarrow\infty}\left.x^{x^{x^{x^{.^{.^.}}}}}\right\}(2n+1个x)" eeimg="1"/> 的图像是这样：</p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-24ae4e51650c906b5576a2563e6a866f_b.jpg" data-caption="" data-size="normal" data-rawwidth="1082" data-rawheight="1660" class="origin_image zh-lightbox-thumb" width="1082" data-original="https://pic1.zhimg.com/v2-24ae4e51650c906b5576a2563e6a866f_r.jpg"/></figure><p>通过迭代分析，我们还能推知， <img src="https://www.zhihu.com/equation?tex=y%3D%5Cleft.x%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B.%5E%7B.%5E%7B.%5Ey%7D%7D%7D%7D%7D%7D%5Cright%5C%7D%282n%E4%B8%AAx%29" alt="y=\left.x^{x^{x^{x^{.^{.^{.^y}}}}}}\right\}(2n个x)" eeimg="1"/> 不论n取何值图像都一样； <img src="https://www.zhihu.com/equation?tex=y%3D%5Cleft.x%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B.%5E%7B.%5E%7B.%5Ey%7D%7D%7D%7D%7D%7D%5Cright%5C%7D%282n%2B1%E4%B8%AAx%29" alt="y=\left.x^{x^{x^{x^{.^{.^{.^y}}}}}}\right\}(2n+1个x)" eeimg="1"/> 也是如此。</p><p>另一种直观的表现就是，观察迭代幂次函数随x的数量增加带来的图像变化：</p><a href="https://www.zhihu.com/zvideo/1276627467780812800" data-draft-node="block" data-draft-type="link-card"></a><p>是不是感觉思绪更清晰了呢？</p><p>补充：一种记法： <img src="https://www.zhihu.com/equation?tex=%5Csideset%7B%5En%7D%7B%7Dx%3D%5Cleft.x%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D%5Cright%5C%7D%28n%E4%B8%AAx%29" alt="\sideset{^n}{}x=\left.x^{x^{x^{x^{.^{.^.}}}}}\right\}(n个x)" eeimg="1"/> <sup data-text="" data-url="https://en.wikipedia.org/wiki/Tetration" data-draft-node="inline" data-draft-type="reference" data-numero="3">[3]</sup></p><h2>九 、 「变异的无穷迭代幂次 —— 迭代初始值的改变」</h2><p>我们再来看看数列的迭代：</p><p><img src="https://www.zhihu.com/equation?tex=a_0%3D1~%2C~a_n%3Df%28a_%7Bn-1%7D%29" alt="a_0=1~,~a_n=f(a_{n-1})" eeimg="1"/> ， <img src="https://www.zhihu.com/equation?tex=f%28x%29%3Db%5Ex~%2C~b%3E0" alt="f(x)=b^x~,~b&gt;0" eeimg="1"/> </p><p>假如改变它的初始值 <img src="https://www.zhihu.com/equation?tex=a_0" alt="a_0" eeimg="1"/> ，它会有什么表现呢？此时的无穷迭代幂次函数又是怎样的呢？</p><p>下面给出结论，证明过程留作习题~</p><p>记 <img src="https://www.zhihu.com/equation?tex=F%28x%29%3D%5Clim_%7Bn%5Crightarrow%5Cinfty%7D%5Cleft.x%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B.%5E%7B.%5E%7B.%5E%7B%5Calpha%7D%7D%7D%7D%7D%7D%7D%5Cright%5C%7D%28n%E4%B8%AAx%29" alt="F(x)=\lim_{n\rightarrow\infty}\left.x^{x^{x^{x^{.^{.^{.^{\alpha}}}}}}}\right\}(n个x)" eeimg="1"/> ，则：</p><p>当 <img src="https://www.zhihu.com/equation?tex=%5Calpha%5Cle+e" alt="\alpha\le e" eeimg="1"/> 时， <img src="https://www.zhihu.com/equation?tex=F%28x%29" alt="F(x)" eeimg="1"/> 与无穷迭代幂次函数完全相同。</p><p>当 <img src="https://www.zhihu.com/equation?tex=%5Calpha%3Ee" alt="\alpha&gt;e" eeimg="1"/> 时， <img src="https://www.zhihu.com/equation?tex=F%28x%29" alt="F(x)" eeimg="1"/> 收敛域（定义域）为 <img src="https://www.zhihu.com/equation?tex=%5Cleft%5Be%5E%7B-e%7D%2C%5Calpha%5E%7B%5Cfrac1%5Calpha%7D%5Cright%5D" alt="\left[e^{-e},\alpha^{\frac1\alpha}\right]" eeimg="1"/> （此时 <img src="https://www.zhihu.com/equation?tex=%5Calpha%5E%7B%5Cfrac1%5Calpha%7D%3Ce%5E%7B%5Cfrac1e%7D" alt="\alpha^{\frac1\alpha}&lt;e^{\frac1e}" eeimg="1"/> ）。它在 <img src="https://www.zhihu.com/equation?tex=%5Cleft%5Be%5E%7B-e%7D%2C%5Calpha%5E%7B%5Cfrac1%5Calpha%7D%5Cright%29" alt="\left[e^{-e},\alpha^{\frac1\alpha}\right)" eeimg="1"/> 内表现与无穷迭代幂次函数相同，但 <img src="https://www.zhihu.com/equation?tex=F%5Cleft%28%5Calpha%5E%7B%5Cfrac1%5Calpha%7D%5Cright%29%3D%5Calpha" alt="F\left(\alpha^{\frac1\alpha}\right)=\alpha" eeimg="1"/> 。此时随着 <img src="https://www.zhihu.com/equation?tex=%5Calpha" alt="\alpha" eeimg="1"/> 取值的变化， <img src="https://www.zhihu.com/equation?tex=F%28x%29" alt="F(x)" eeimg="1"/> 的图像变化如下：</p><a href="https://www.zhihu.com/zvideo/1276947739004301312" data-draft-node="block" data-draft-type="link-card"></a><p>当 <img src="https://www.zhihu.com/equation?tex=%5Calpha%5Crightarrow%2B%5Cinfty" alt="\alpha\rightarrow+\infty" eeimg="1"/> 时， <img src="https://www.zhihu.com/equation?tex=%5Calpha%5E%7B%5Cfrac1%5Calpha%7D%5Crightarrow1" alt="\alpha^{\frac1\alpha}\rightarrow1" eeimg="1"/> ， <img src="https://www.zhihu.com/equation?tex=F%28x%29" alt="F(x)" eeimg="1"/> 的定义域就变为 <img src="https://www.zhihu.com/equation?tex=%5Cleft%5Be%5E%7B-e%7D%2C1%5Cright%5D" alt="\left[e^{-e},1\right]" eeimg="1"/> 了。</p><p>下面我们看看以初始值为自变量的函数。</p><p>记 <img src="https://www.zhihu.com/equation?tex=G%28x%29%3D%5Clim_%7Bn%5Crightarrow%5Cinfty%7D%5Cleft.b%5E%7Bb%5E%7Bb%5E%7B.%5E%7B.%5E%7B.%5Ex%7D%7D%7D%7D%7D%5Cright%5C%7D%28n%E4%B8%AAb%29" alt="G(x)=\lim_{n\rightarrow\infty}\left.b^{b^{b^{.^{.^{.^x}}}}}\right\}(n个b)" eeimg="1"/> ，则：</p><p>当 <img src="https://www.zhihu.com/equation?tex=b%3Ee%5E%7B%5Cfrac1e%7D" alt="b&gt;e^{\frac1e}" eeimg="1"/> 时， <img src="https://www.zhihu.com/equation?tex=G%28x%29" alt="G(x)" eeimg="1"/> 发散至正无穷。</p><p>当 <img src="https://www.zhihu.com/equation?tex=b%3De%5E%7B%5Cfrac1e%7D" alt="b=e^{\frac1e}" eeimg="1"/> 时， <img src="https://www.zhihu.com/equation?tex=G%28x%29%3D%5Cleft%5C%7B%5Cbegin%7Bgathered%7D+e%2C~~~~~~~x%5Cle+e%5Ccr+%2B%5Cinfty%2C~~x%3Ee+%5Cend%7Bgathered%7D%5Cright." alt="G(x)=\left\{\begin{gathered} e,~~~~~~~x\le e\cr +\infty,~~x&gt;e \end{gathered}\right." eeimg="1"/> </p><p>当 <img src="https://www.zhihu.com/equation?tex=b%5Cin%281%2Ce%5E%7B%5Cfrac1e%7D%29" alt="b\in(1,e^{\frac1e})" eeimg="1"/> 时， <img src="https://www.zhihu.com/equation?tex=G%28x%29%3D%5Cleft%5C%7B%5Cbegin%7Bgathered%7D%5Cbeta_1%2C~~~~~x%3C%5Cbeta_2%5Ccr+%5Cbeta_2%2C~~~~~x%3D%5Cbeta_2%5Ccr+%2B%5Cinfty%2C~~x%3E%5Cbeta_2+%5Cend%7Bgathered%7D%5Cright." alt="G(x)=\left\{\begin{gathered}\beta_1,~~~~~x&lt;\beta_2\cr \beta_2,~~~~~x=\beta_2\cr +\infty,~~x&gt;\beta_2 \end{gathered}\right." eeimg="1"/> ，其中 <img src="https://www.zhihu.com/equation?tex=%5Cbeta_1%2C~%5Cbeta_2" alt="\beta_1,~\beta_2" eeimg="1"/> 分别是此时 <img src="https://www.zhihu.com/equation?tex=f%28x%29%3Db%5Ex" alt="f(x)=b^x" eeimg="1"/> 距离原点较近和较远的不动点。</p><p>当 <img src="https://www.zhihu.com/equation?tex=b%3D1" alt="b=1" eeimg="1"/> 时， <img src="https://www.zhihu.com/equation?tex=G%28x%29%5Cequiv1" alt="G(x)\equiv1" eeimg="1"/> </p><p>当 <img src="https://www.zhihu.com/equation?tex=b%5Cin%5Cleft%28e%5E%7B-e%7D%2C1%5Cright%29" alt="b\in\left(e^{-e},1\right)" eeimg="1"/> 时， <img src="https://www.zhihu.com/equation?tex=G%28x%29%5Cequiv%5Cbeta_3" alt="G(x)\equiv\beta_3" eeimg="1"/> ，其中 <img src="https://www.zhihu.com/equation?tex=%5Cbeta_3" alt="\beta_3" eeimg="1"/> 是此时 <img src="https://www.zhihu.com/equation?tex=f%28x%29%3Db%5Ex" alt="f(x)=b^x" eeimg="1"/> 的不动点。</p><p>当 <img src="https://www.zhihu.com/equation?tex=b%5Cin%280%2C1%29" alt="b\in(0,1)" eeimg="1"/> 时， <img src="https://www.zhihu.com/equation?tex=G%28x%29%3D+%5Cleft%5C%7B%5Cbegin%7Bgathered%7D+%5Cbeta_5%2C~~~~~~~~~~~~~~~~x%3D%5Cbeta_5%5Ccr+undefined%2C~~x%5Cne%5Cbeta_5+%5Cend%7Bgathered%7D%5Cright." alt="G(x)= \left\{\begin{gathered} \beta_5,~~~~~~~~~~~~~~~~x=\beta_5\cr undefined,~~x\ne\beta_5 \end{gathered}\right." eeimg="1"/> ，但有 <img src="https://www.zhihu.com/equation?tex=%5Clim_%7Bn%5Crightarrow%5Cinfty%7D%5Cleft.b%5E%7Bb%5E%7Bb%5E%7B.%5E%7B.%5E%7B.%5Ex%7D%7D%7D%7D%7D%5Cright%5C%7D%282n%E4%B8%AAb%29%3D+%5Cleft%5C%7B%5Cbegin%7Bgathered%7D+%5Cbeta_4%2C~~x%3C%5Cbeta_5%5Ccr+%5Cbeta_5%2C~~x%3D%5Cbeta_5%5Ccr+%5Cbeta_6%2C~~x%3E%5Cbeta_5+%5Cend%7Bgathered%7D%5Cright." alt="\lim_{n\rightarrow\infty}\left.b^{b^{b^{.^{.^{.^x}}}}}\right\}(2n个b)= \left\{\begin{gathered} \beta_4,~~x&lt;\beta_5\cr \beta_5,~~x=\beta_5\cr \beta_6,~~x&gt;\beta_5 \end{gathered}\right." eeimg="1"/> ，其中 <img src="https://www.zhihu.com/equation?tex=%5Cbeta_4%2C~%5Cbeta_5%2C~%5Cbeta_6" alt="\beta_4,~\beta_5,~\beta_6" eeimg="1"/> 分别是此时 <img src="https://www.zhihu.com/equation?tex=f%28x%29%3Db%5Ex" alt="f(x)=b^x" eeimg="1"/> 距离原点由近到远的三个不动点。它长得有点像阶跃函数。留个小小的思考题：此时函数 <img src="https://www.zhihu.com/equation?tex=%5Clim_%7Bn%5Crightarrow%5Cinfty%7D%5Cleft.b%5E%7Bb%5E%7Bb%5E%7B.%5E%7B.%5E%7B.%5Ex%7D%7D%7D%7D%7D%5Cright%5C%7D%282n%2B1%E4%B8%AAb%29" alt="\lim_{n\rightarrow\infty}\left.b^{b^{b^{.^{.^{.^x}}}}}\right\}(2n+1个b)" eeimg="1"/> 是什么样呢？</p><p>这堆结论通过观察迭代图像可更好地理解。大家不妨也可以自行用软件画一画函数 <img src="https://www.zhihu.com/equation?tex=G%28x%29" alt="G(x)" eeimg="1"/> 随n变大时图像的变化趋势，可以更好地理解上述结论。</p><p>补充：一种记法： <img src="https://www.zhihu.com/equation?tex=%5Cexp_a%5En%28x%29%3D%5Cleft.x%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B.%5E%7B.%5E%7B.%5E%7B%5Calpha%7D%7D%7D%7D%7D%7D%7D%5Cright%5C%7D%28n%E4%B8%AAx%29" alt="\exp_a^n(x)=\left.x^{x^{x^{x^{.^{.^{.^{\alpha}}}}}}}\right\}(n个x)" eeimg="1"/> ，它叫作<i> Iterated exponentials </i>。<sup data-text="" data-url="https://en.wikipedia.org/wiki/Tetration" data-draft-node="inline" data-draft-type="reference" data-numero="3">[3]</sup></p><h2>十 、 「朗伯W函数与解析延拓」</h2><p>下面，我们引入一个大名鼎鼎的函数：<i>朗伯W函数（Lambert W function）</i><sup data-text="" data-url="https://baike.baidu.com/item/朗伯W函数/2500676?fr=aladdin" data-draft-node="inline" data-draft-type="reference" data-numero="4">[4]</sup></p><p>它的定义很简单： <img src="https://www.zhihu.com/equation?tex=W%28x%29" alt="W(x)" eeimg="1"/> 是 <img src="https://www.zhihu.com/equation?tex=y%3Dxe%5Ex" alt="y=xe^x" eeimg="1"/> 的反函数。这表明，关于x的方程 <img src="https://www.zhihu.com/equation?tex=y%3Dxe%5Ex" alt="y=xe^x" eeimg="1"/> 的解为 <img src="https://www.zhihu.com/equation?tex=x%3DW%28y%29" alt="x=W(y)" eeimg="1"/> </p><p>我们的无穷迭代幂次函数可以写成含有它的函数形式。</p><p>首先对于 <img src="https://www.zhihu.com/equation?tex=y%3Dx%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D" alt="y=x^{x^{x^{x^{.^{.^.}}}}}" eeimg="1"/> ，有 <img src="https://www.zhihu.com/equation?tex=x%3Dy%5E%7B%5Cfrac1y%7D" alt="x=y^{\frac1y}" eeimg="1"/> ，我们需要解出y来。两端取对数得 <img src="https://www.zhihu.com/equation?tex=%5Cln+x%3D%5Cfrac1y%5Cln+y" alt="\ln x=\frac1y\ln y" eeimg="1"/> ，稍作变形得 <img src="https://www.zhihu.com/equation?tex=-%5Cln+x%3D-%5Cln+y~e%5E%7B-%5Cln+y%7D" alt="-\ln x=-\ln y~e^{-\ln y}" eeimg="1"/> ，由朗伯W函数定义得 <img src="https://www.zhihu.com/equation?tex=-%5Cln+y%3DW%28-%5Cln+x%29" alt="-\ln y=W(-\ln x)" eeimg="1"/> ，而 <img src="https://www.zhihu.com/equation?tex=%5Cln+y%3Dy%5Cln+x" alt="\ln y=y\ln x" eeimg="1"/> ，带入整理可得：</p><p><img src="https://www.zhihu.com/equation?tex=y%3D%5Cfrac%7BW%28-%5Cln+x%29%7D%7B-%5Cln+x%7D" alt="y=\frac{W(-\ln x)}{-\ln x}" eeimg="1"/> </p><p>这就说明，在定义域上，无穷迭代幂次可以写成：</p><p><img src="https://www.zhihu.com/equation?tex=%5Cpsi%28x%29%3Dx%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D%3D%5Cfrac%7BW%28-%5Cln+x%29%7D%7B-%5Cln+x%7D" alt="\psi(x)=x^{x^{x^{x^{.^{.^.}}}}}=\frac{W(-\ln x)}{-\ln x}" eeimg="1"/> </p><p>我们知道，朗伯W函数在 <img src="https://www.zhihu.com/equation?tex=%5Cleft%28-%5Cfrac1e%2C0%5Cright%29" alt="\left(-\frac1e,0\right)" eeimg="1"/> 内是多值的，那在此处运用了它的哪一分支呢？</p><p>令 <img src="https://www.zhihu.com/equation?tex=-%5Cln+x%3Dt" alt="-\ln x=t" eeimg="1"/> ，则：</p><p>当 <img src="https://www.zhihu.com/equation?tex=x%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D%5Cin%5Cleft%5B1%2Ce%5Cright%5D" alt="x^{x^{x^{x^{.^{.^.}}}}}\in\left[1,e\right]" eeimg="1"/> 时，有 <img src="https://www.zhihu.com/equation?tex=et%5Cle+W%28t%29%5Cle+t" alt="et\le W(t)\le t" eeimg="1"/> </p><p>当 <img src="https://www.zhihu.com/equation?tex=x%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D%5Cin%5Cleft%5Be%5E%7B-1%7D%2C1%5Cright%5D" alt="x^{x^{x^{x^{.^{.^.}}}}}\in\left[e^{-1},1\right]" eeimg="1"/> 时，有 <img src="https://www.zhihu.com/equation?tex=e%5E%7B-1%7Dt%5Cle+W%28t%29%5Cle+t" alt="e^{-1}t\le W(t)\le t" eeimg="1"/> </p><p>这两段可以从图像上直观地看出来：</p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-5a41919cde83ca4d32dae1a6c73cb513_b.jpg" data-caption="" data-size="normal" data-rawwidth="2256" data-rawheight="1858" class="origin_image zh-lightbox-thumb" width="2256" data-original="https://pic1.zhimg.com/v2-5a41919cde83ca4d32dae1a6c73cb513_r.jpg"/></figure><p>显然，它在多值的区域内使用了靠上的那个分支。</p><p>我们继续玩玩，不妨改写下原式，令 <img src="https://www.zhihu.com/equation?tex=x%5Crightarrow+e%5E%7B-x%7D" alt="x\rightarrow e^{-x}" eeimg="1"/> 可得：</p><p><img src="https://www.zhihu.com/equation?tex=W%28x%29%3Dx%28e%5E%7B-x%7D%29%5E%7B%28e%5E%7B-x%7D%29%5E%7B%28e%5E%7B-x%7D%29%5E%7B%28e%5E%7B-x%7D%29%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D" alt="W(x)=x(e^{-x})^{(e^{-x})^{(e^{-x})^{(e^{-x})^{.^{.^.}}}}}" eeimg="1"/> </p><p>这便是朗伯W函数的无穷迭代幂次展开。不难验证此时x的收敛范围为 <img src="https://www.zhihu.com/equation?tex=x%5Cin%5Cleft%5B-%5Cfrac1e%2Ce%5Cright%5D" alt="x\in\left[-\frac1e,e\right]" eeimg="1"/> ，这对应着 <img src="https://www.zhihu.com/equation?tex=W%28x%29%5Cin%5Cleft%5B-1%2C1%5Cright%5D" alt="W(x)\in\left[-1,1\right]" eeimg="1"/> ，即上述的那一段图像。</p><p>把 <img src="https://www.zhihu.com/equation?tex=x%3D1" alt="x=1" eeimg="1"/> 代入可得到<i>欧米伽常数</i>（Omega constant）的无穷迭代幂次表达式<sup data-text="" data-url="https://www.youtube.com/watch?v=TNeJyVzDU20&amp;t=570s" data-draft-node="inline" data-draft-type="reference" data-numero="5">[5]</sup>：</p><p><img src="https://www.zhihu.com/equation?tex=%5COmega%3DW%281%29%3D%5Cleft%28%5Cfrac1e%5Cright%29%5E%7B%5Cleft%28%5Cfrac1e%5Cright%29%5E%7B%5Cleft%28%5Cfrac1e%5Cright%29%5E%7B%5Cleft%28%5Cfrac1e%5Cright%29%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D" alt="\Omega=W(1)=\left(\frac1e\right)^{\left(\frac1e\right)^{\left(\frac1e\right)^{\left(\frac1e\right)^{.^{.^.}}}}}" eeimg="1"/> </p><p>若x不限制在定义域上，还把它拓广到复数域内，那它就成功地被解析延拓了。</p><p>在复平面内， <img src="https://www.zhihu.com/equation?tex=%5Cleft%7C%5Cfrac%7BW%28-%5Cln+z%29%7D%7B-%5Cln+z%7D%5Cright%7C" alt="\left|\frac{W(-\ln z)}{-\ln z}\right|" eeimg="1"/> 的图像是这样（x实部，y虚部。黑线对应着我们熟悉的在实数范围内的无穷迭代幂次函数图像）：</p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-ed2f0683cccd5fccae91f837fcf02b0d_b.jpg" data-caption="" data-size="normal" data-rawwidth="750" data-rawheight="661" class="origin_image zh-lightbox-thumb" width="750" data-original="https://pic1.zhimg.com/v2-ed2f0683cccd5fccae91f837fcf02b0d_r.jpg"/></figure><h2>十一 、 「分形之美」</h2><p>这是本文的压轴部分！</p><p>大家一定见过<i>曼德勃罗集（Mandelbrot set）</i><sup data-text="" data-url="https://en.wikipedia.org/wiki/Mandelbrot_set" data-draft-node="inline" data-draft-type="reference" data-numero="6">[6]</sup>的图像吧！曼德勃罗集是由使迭代</p><p><img src="https://www.zhihu.com/equation?tex=z_0%3D0%2C~z_n%3Df%28z_%7Bn-1%7D%29%2C~f%28z%29%3Dz%5E2%2Bc" alt="z_0=0,~z_n=f(z_{n-1}),~f(z)=z^2+c" eeimg="1"/> 始终有界的全体复数 <img src="https://www.zhihu.com/equation?tex=c" alt="c" eeimg="1"/> 构成的集合。将它用黑色在复平面上表示出来的图像是这样：</p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-508e6dfb1b1cd2a74e708750a28c1a61_b.jpg" data-caption="" data-size="normal" data-rawwidth="2560" data-rawheight="1920" class="origin_image zh-lightbox-thumb" width="2560" data-original="https://pic1.zhimg.com/v2-508e6dfb1b1cd2a74e708750a28c1a61_r.jpg"/></figure><p>它是一个非常非常着名的<i>分形</i>（Fractal）图像，你可以把它无限放大下去，效果是这样：</p><a href="https://www.zhihu.com/zvideo/1276780927570685952" data-draft-node="block" data-draft-type="link-card"></a><p>有关它的介绍有很多，在这里就不说啦~</p><p>实际上，我们的迭代幂次一点都不输给它哦！</p><p>将使迭代幂次 <img src="https://www.zhihu.com/equation?tex=z_0%3D1%2C~z_n%3Df%28z_%7Bn-1%7D%29%2C~f%28z%29%3Db%5Ez" alt="z_0=1,~z_n=f(z_{n-1}),~f(z)=b^z" eeimg="1"/> 始终有界的全体复数 <img src="https://www.zhihu.com/equation?tex=b" alt="b" eeimg="1"/> 构成的集合，在复平面上用黑色表示出来的图像是这样<sup data-text="" data-url="https://www.youtube.com/watch?v=RXb9To3c_Og" data-draft-node="inline" data-draft-type="reference" data-numero="7">[7]</sup>：</p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-2d3c05b083795ffdec85be35e09db232_b.jpg" data-caption="" data-size="normal" data-rawwidth="3360" data-rawheight="1872" class="origin_image zh-lightbox-thumb" width="3360" data-original="https://pic1.zhimg.com/v2-2d3c05b083795ffdec85be35e09db232_r.jpg"/></figure><p>把它无限放大的效果是这样：</p><a href="https://www.zhihu.com/zvideo/1276588388431720448" data-draft-node="block" data-draft-type="link-card"></a><p><b><i>再来一波 ———— </i></b><sup data-text="" data-url="https://maths.ucd.ie/~plynch/Publications/PowerTower.pdf" data-draft-node="inline" data-draft-type="reference" data-numero="8">[8]</sup><sup data-text="" data-url="http://paulbourke.net/fractals/tetration/index.html" data-draft-node="inline" data-draft-type="reference" data-numero="9">[9]</sup></p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-4420124d65dc2f3884f99dfae5f0c0ab_b.jpg" data-caption="" data-size="normal" data-rawwidth="968" data-rawheight="954" class="origin_image zh-lightbox-thumb" width="968" data-original="https://pic1.zhimg.com/v2-4420124d65dc2f3884f99dfae5f0c0ab_r.jpg"/></figure><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-916cc50fa3f470863fbe5b7ea8c6cfcc_b.jpg" data-caption="" data-size="normal" data-rawwidth="1018" data-rawheight="966" class="origin_image zh-lightbox-thumb" width="1018" data-original="https://pic1.zhimg.com/v2-916cc50fa3f470863fbe5b7ea8c6cfcc_r.jpg"/></figure><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-d4b76b90dde5bcd1ca66a3ddadac0d2d_b.jpg" data-caption="" data-size="normal" data-rawwidth="994" data-rawheight="968" class="origin_image zh-lightbox-thumb" width="994" data-original="https://pic1.zhimg.com/v2-d4b76b90dde5bcd1ca66a3ddadac0d2d_r.jpg"/></figure><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-ba6d95462b29b8bcc3c588db48af5b7e_b.jpg" data-caption="" data-size="normal" data-rawwidth="2532" data-rawheight="1352" class="origin_image zh-lightbox-thumb" width="2532" data-original="https://pic1.zhimg.com/v2-ba6d95462b29b8bcc3c588db48af5b7e_r.jpg"/></figure><figure data-size="normal"><img src="https://picb.zhimg.com/v2-a2d0f46400ef1de9ad14ec90e3d7bab0_b.jpg" data-caption="" data-size="normal" data-rawwidth="800" data-rawheight="800" class="origin_image zh-lightbox-thumb" width="800" data-original="https://picb.zhimg.com/v2-a2d0f46400ef1de9ad14ec90e3d7bab0_r.jpg"/></figure><figure data-size="normal"><img src="https://picb.zhimg.com/v2-d03f4dc5901d9c368673737ef20d9520_b.jpg" data-caption="" data-size="normal" data-rawwidth="800" data-rawheight="800" class="origin_image zh-lightbox-thumb" width="800" data-original="https://picb.zhimg.com/v2-d03f4dc5901d9c368673737ef20d9520_r.jpg"/></figure><figure data-size="normal"><img src="https://picb.zhimg.com/v2-e48bdff6525d0457dcba28efc60cd8e7_b.jpg" data-caption="" data-size="normal" data-rawwidth="800" data-rawheight="800" class="origin_image zh-lightbox-thumb" width="800" data-original="https://picb.zhimg.com/v2-e48bdff6525d0457dcba28efc60cd8e7_r.jpg"/></figure><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-8af50a0e36a89edc266cc2e21987b002_b.jpg" data-caption="" data-size="normal" data-rawwidth="800" data-rawheight="800" class="origin_image zh-lightbox-thumb" width="800" data-original="https://pic1.zhimg.com/v2-8af50a0e36a89edc266cc2e21987b002_r.jpg"/></figure><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-01e234506dcaae275857215a6f804ea0_b.jpg" data-caption="" data-size="normal" data-rawwidth="800" data-rawheight="800" class="origin_image zh-lightbox-thumb" width="800" data-original="https://pic1.zhimg.com/v2-01e234506dcaae275857215a6f804ea0_r.jpg"/></figure><p>这可都是由迭代幂次产生的分形图像哦~</p><p>是不是非常漂亮呢，数学真的太美啦！！！（破音</p><p class="ztext-empty-paragraph"><br/></p><p class="ztext-empty-paragraph"><br/></p><h2><b><i>————— THE   END —————</i></b></h2><p class="ztext-empty-paragraph"><br/></p><p class="ztext-empty-paragraph"><br/></p><p class="ztext-empty-paragraph"><br/></p><hr/><h2>补充（2020.8.30更新）</h2><p>在此顺便写一下评论区出现的几个问题。</p><p>1. </p><p>绘图软件是Desmos，它的在线网址是：</p><a href="https://link.zhihu.com/?target=https%3A//www.desmos.com/calculator" data-draft-node="block" data-draft-type="link-card" data-image="https://picb.zhimg.com/v2-6544c6fcdff3adabd9afc21a0c540640_ipico.jpg" data-image-width="140" data-image-height="140" class=" wrap external" target="_blank" rel="nofollow noreferrer">Desmos | Graphing Calculator</a><p>可在手机、平板等设备上安装此软件。</p><p>2. </p><p>有人疑惑 <img src="https://www.zhihu.com/equation?tex=x%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D" alt="x^{x^{x^{x^{.^{.^.}}}}}" eeimg="1"/> 直觉上是 <img src="https://www.zhihu.com/equation?tex=x%3E1" alt="x&gt;1" eeimg="1"/> 时发散至无穷， <img src="https://www.zhihu.com/equation?tex=x%3C1" alt="x&lt;1" eeimg="1"/> 时收敛至0。但实际上，“直觉”有时候是不可靠的，迭代幂次并不像连乘那样。有人按了计算器会发现 <img src="https://www.zhihu.com/equation?tex=x%3E1" alt="x&gt;1" eeimg="1"/> 时，随着 <img src="https://www.zhihu.com/equation?tex=x%5E%7Bx%5E%7Bx%5E%7Bx%5E%7B.%5E%7B.%5E.%7D%7D%7D%7D%7D" alt="x^{x^{x^{x^{.^{.^.}}}}}" eeimg="1"/> 中 x 的数量的增加，它的值会越来越大，这是正确的，但这不意味着它发散，因为数列单调增加并不能证明数列发散。</p><p>3. </p><p>文章第二部分中</p><blockquote>“又因为 <img src="https://www.zhihu.com/equation?tex=a_n%3C2" alt="a_n&lt;2" eeimg="1"/> ，由收敛数列的保号性知 <img src="https://www.zhihu.com/equation?tex=%5Clim_%7Bn%5Crightarrow%5Cinfty%7Da_n%5Cne4" alt="\lim_{n\rightarrow\infty}a_n\ne4" eeimg="1"/> ”</blockquote><p>这句话中“由收敛数列的保号性知”的完整过程如下：</p><p>构造新数列 <img src="https://www.zhihu.com/equation?tex=b_n%3Da_n-2" alt="b_n=a_n-2" eeimg="1"/> ，则有 <img src="https://www.zhihu.com/equation?tex=b_n%3C0" alt="b_n&lt;0" eeimg="1"/> ，由收敛数列的保号性（的推论）知 <img src="https://www.zhihu.com/equation?tex=%5Clim_%7Bn%5Crightarrow%5Cinfty%7Db_n%5Cleq0" alt="\lim_{n\rightarrow\infty}b_n\leq0" eeimg="1"/> ，即 <img src="https://www.zhihu.com/equation?tex=%5Clim_%7Bn%5Crightarrow%5Cinfty%7Da_n%5Cleq2" alt="\lim_{n\rightarrow\infty}a_n\leq2" eeimg="1"/> 。</p><blockquote><b>收敛数列的保号性</b>：<br/>若 <img src="https://www.zhihu.com/equation?tex=%5Clim_%7Bn%5Crightarrow%5Cinfty%7Dx_n%3Da" alt="\lim_{n\rightarrow\infty}x_n=a" eeimg="1"/> 且 <img src="https://www.zhihu.com/equation?tex=a%3E0" alt="a&gt;0" eeimg="1"/> （或 <img src="https://www.zhihu.com/equation?tex=a%3C0" alt="a&lt;0" eeimg="1"/> ），则存在正整数 <img src="https://www.zhihu.com/equation?tex=N" alt="N" eeimg="1"/> 使得当 <img src="https://www.zhihu.com/equation?tex=n%3EN" alt="n&gt;N" eeimg="1"/> 时，恒有 <img src="https://www.zhihu.com/equation?tex=x_n%3E0" alt="x_n&gt;0" eeimg="1"/> （或 <img src="https://www.zhihu.com/equation?tex=x_n%3C0" alt="x_n&lt;0" eeimg="1"/> ）。<br/><b>推论</b>：<br/>若数列 <img src="https://www.zhihu.com/equation?tex=%5C%7Bx_n%5C%7D" alt="\{x_n\}" eeimg="1"/> 从某项起有 <img src="https://www.zhihu.com/equation?tex=x_n%5Cgeq0" alt="x_n\geq0" eeimg="1"/> （或 <img src="https://www.zhihu.com/equation?tex=x_n%5Cleq0" alt="x_n\leq0" eeimg="1"/> ），且 <img src="https://www.zhihu.com/equation?tex=%5Clim_%7Bn%5Crightarrow%5Cinfty%7Dx_n%3Da" alt="\lim_{n\rightarrow\infty}x_n=a" eeimg="1"/> ，则 <img src="https://www.zhihu.com/equation?tex=a%5Cgeq0" alt="a\geq0" eeimg="1"/> （或 <img src="https://www.zhihu.com/equation?tex=a%5Cleq0" alt="a\leq0" eeimg="1"/> ）。</blockquote><p>4.</p><p>第二部分中假设 <img src="https://www.zhihu.com/equation?tex=a_n%3C2" alt="a_n&lt;2" eeimg="1"/> 后用数学归纳法证明了 <img src="https://www.zhihu.com/equation?tex=a_n%3C2" alt="a_n&lt;2" eeimg="1"/> ，但如果假设 <img src="https://www.zhihu.com/equation?tex=a_n%3C4" alt="a_n&lt;4" eeimg="1"/> 也能用数学归纳法证出 <img src="https://www.zhihu.com/equation?tex=a_n%3C4" alt="a_n&lt;4" eeimg="1"/> 啊？此时数列极限不就是 4 了吗？</p><p>实际上， <img src="https://www.zhihu.com/equation?tex=a_n%3C4" alt="a_n&lt;4" eeimg="1"/> 并不能推出数列极限为 4 ，因为 2 也小于 4 ，你怎么知道 2 不是极限呢？这个结论太弱，无法证出我们需要的命题（即数列极限是 2 ），所以才会选择证 <img src="https://www.zhihu.com/equation?tex=a_n%3C2" alt="a_n&lt;2" eeimg="1"/> 。</p><p>5.</p><p>目前还没有一种确切的方法使迭代幂次的高度值推广至全体实数。<sup data-text="" data-url="https://en.wikipedia.org/wiki/Tetration" data-draft-node="inline" data-draft-type="reference" data-numero="3">[3]</sup></p><p>6. </p><p>目前我发现的知乎上全面、系统地讨论无穷迭代幂次的文章还有以下两篇（不分先后）：</p><p><a class="member_mention" href="https://www.zhihu.com/people/ef2211f9f3f96f5a2314e5f33277d10e" data-hash="ef2211f9f3f96f5a2314e5f33277d10e" data-hovercard="p$b$ef2211f9f3f96f5a2314e5f33277d10e">@小崔</a> ：</p><a href="https://zhuanlan.zhihu.com/p/25150820" data-draft-node="block" data-draft-type="link-card" data-image="https://picb.zhimg.com/equation.jpg" data-image-width="120" data-image-height="120" class="internal">小崔：由根号2的根号2的根号2...次方次方引发的讨论</a><p><a class="member_mention" href="https://www.zhihu.com/people/ab565ea803159d51101009b48f92d54b" data-hash="ab565ea803159d51101009b48f92d54b" data-hovercard="p$b$ab565ea803159d51101009b48f92d54b">@Solara570</a> ：</p><a href="https://zhuanlan.zhihu.com/p/179279978" data-draft-node="block" data-draft-type="link-card" data-image="https://pic1.zhimg.com/v2-c5276abd23228279ce72aefcb5aac14e_180x120.jpg" data-image-width="2560" data-image-height="1440" class="internal">Solara570：2≠4</a><hr/><p></p>
➜上帝掷硬币的智力题，从 9 胜 6 开始的深入研究
http://zhuanlan.zhihu.com/p/187579331?utm_campaign=rss&utm_medium=rss&utm_source=rss&utm_content=title	54068
<p>最近看到一道智力题，大意如下：</p><blockquote>上帝让 Alice 和 Bob 两人玩一个猜硬币游戏。猜硬币共进行 13 轮，每轮上帝将硬币盖在手下，让 Alice 和 Bob 分别猜硬币是正面还是反面。两人各自独立作出猜测并同时公布，上帝随后揭晓答案，只有 Alice 和 Bob 都猜对才算这一轮胜利，否则就失败。13 轮猜测依次进行，上一轮结束后 Alice 和 Bob 都能看见上帝的答案和对方的猜测，然后再开始下一轮。<br/>猜硬币之前，上帝会告诉 Alice 所有 13 轮上帝手握硬币的正反，也就是说 Alice 知道上帝每一轮出正面还是反面，但 Bob 不知道这些信息。<br/>在上帝告诉 Alice 这些信息之前，Alice 和 Bob 可以互相交流制定策略（当然二人完全知悉以上所有规则，包括上帝告密的事情），但在上帝开始告密之后，双方便不能交流。<br/>问：Alice 和 Bob 能否保证必胜 9 局？<br/>（我们假设 Alice 和 Bob 被封闭于不同的两个房间内，只能通过一台显示终端做出猜测，并且不能不猜测。规定时间到后，机器同时公布两人猜测并验证答案是否正确，以保证双方绝对不能通过手势、口音、猜测时间等变量互相传递信息。双方只能通过自己的猜测给对方后续的猜测传递信息。）<br/>若此题过于困难，可尝试简易版本：总共进行 9 轮猜硬币，保证必胜 6 局。</blockquote><p>此题看似平平无奇，深入研究之后发现作者显然对此题的结构有深入研究，选取的数值非常巧妙，恰如其分。我们先从简易版的答案说起。</p><hr/><h2>初探</h2><p>初见此题，可能先会想到最简单的方法：奇数局提示偶数局的答案。Alice 在第奇数局猜下一局的正确答案，可保证下一局必然猜对。但这样保证猜对的局数不超过总局数的一半，显然是不够的。</p><p>利用分组的思想稍加变通，又可推出另一种稍强的策略：Alice 第 1 局提示第 2~4 局中占多数的正确答案（换言之，2~4 局的正确答案如果正面多，Alice 第 1 局就出正面，否则就出反面）。Bob 第 2~4 局每次都出 Alice 第 1 局猜的答案，Alice 在 Bob 猜对的那两局也出一样的答案，保证胜两局，剩下错的那局提示第 5~7 局中占多数的正确答案。如果不巧 2~4 局正确答案都相同，则约定 Alice 在第 4 局提示 5~7 局中的多数。此后依次类推。</p><p>可以看到这种策略把每 3 次猜测分成一组，每组可胜 2 局；剩下一局提示下一组的多数答案，保证可持续发展。这种策略可以保证 13 局胜 8 局，或者 9 局胜 5 局，但是还差一点。</p><p>下面转述来自<a href="https://link.zhihu.com/?target=https%3A//tieba.baidu.com/p/5867196424" class=" wrap external" target="_blank" rel="nofollow noreferrer">智力题吧帖子（7楼）</a>“毒酒滴冻鸭”大神的 9 局胜 6 局的方案：</p><blockquote>首先 5 局可以保证胜 3 局：Alice 第 1 局提示 2~4 局多数答案。如果 2~4 局答案都一样则直接达成胜 3 局；否则 Alice 在错的那局提示第 5 局答案，拿下第 5 局，同样可以胜 3 局。<br/>接下来给出 9 局胜 6 局的策略。<br/>Alice 第 1 局提示 2~4 局多数答案，让 Bob 在 2~4 局每局都选这个答案。如果 2~4 局答案都一样，则双方 2~4 局全胜，后面只需执行 5 胜 3 的策略即可。<br/>如果 2~4 局答案不都一样，则 Alice 在错的那局可以提示 Bob 一个答案，让 Bob 在 5~8 局每局都选这个答案。这里又分几种情况：<br/>1）若 5~8 局正确答案全都一样或者成 3:1，则 Alice 提示 5~8 局的多数答案，而 Bob 在 5~8 局都猜这个答案。注意 2~4 局已经胜了 2 局，如果 5~8 局答案都一样则直接达成胜 6 局；否则 Alice 在错的那局提示第 9 局答案，拿下第 9 局，同样可以胜 6 局。<br/>2）若 5~8 局答案为 PPQQ 形，则 Alice 在第 2~4 局中提示 P，然后 Alice 在第 5~6 局<b>故意答错</b>一次，无论在哪局答错，Bob 在第 7~8 局都改猜 P 的另一面，从而在 5~8 局中获胜 3 局。同时 Alice 通过选择答错第 5 局还是第 6 局告诉 Bob 第 9 局的答案，拿下第 9 局，目标达成。<br/>3）若 5~8 局答案为 PQQP 形，则 Alice 在第 2~4 局本该获胜的两局中<b>故意答错</b>一次。Alice 用 2~4 局中本该答错的那局告诉 Bob 哪一面是 P，再通过选择答错两局中前一局还是后一局告诉 Bob 第 9 局的答案，于是能保证 5~9 局全胜，目标达成。<br/>4）若 5~8 局答案为 PQPQ 形，则 Alice 在第 1 局<b>故意告诉 2~4 局中占少数的那一面</b>。这样 2~4 局中必然答错两局，Alice 在前一局告诉 Bob 哪一面是 P，后一局告诉 Bob 第 9 局的答案，于是能保证 5~9 局全胜，目标达成。</blockquote><p>13 局胜 9 局的策略同样可以通过精心安排“故意错某些题传递特定信息”的方法构造，但符合要求的策略非常繁琐；另外，构造策略可以证明 13 局能胜 9 局，却不能证明 13 局不能保证胜 10 局，直接枚举所有策略又明显不可行。我们需要把上帝硬币问题转化为更简单的问题。</p><hr/><h2>转换</h2><p>首先规定：分别用 <img src="https://www.zhihu.com/equation?tex=0%2C1" alt="0,1" eeimg="1"/> 表示硬币的正面和反面。</p><p>转化问题的关键是利用<b>最优子结构</b>。Alice 每局猜测无非是为了两个目的：在这一局获胜，以及向 Bob 传递信息。设总共猜 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 局硬币，分成前 <img src="https://www.zhihu.com/equation?tex=k" alt="k" eeimg="1"/> 局和后 <img src="https://www.zhihu.com/equation?tex=n-k" alt="n-k" eeimg="1"/> 局两部分。现在只考虑 Alice 在前 <img src="https://www.zhihu.com/equation?tex=k" alt="k" eeimg="1"/> 局的行动，而把 Bob 的策略函数以及上帝前 <img src="https://www.zhihu.com/equation?tex=k" alt="k" eeimg="1"/> 局的正确答案看作是固定的，这样 Alice 有 <img src="https://www.zhihu.com/equation?tex=2%5Ek" alt="2^k" eeimg="1"/> 种选择，每一种选择都对应一个结果：前 <img src="https://www.zhihu.com/equation?tex=k" alt="k" eeimg="1"/> 局中获胜了多少局。</p><p>姑且举一个最简单的例子：取 <img src="https://www.zhihu.com/equation?tex=k%3D2" alt="k=2" eeimg="1"/>，设 Bob 的策略函数是“第一局猜 0，第二局猜 Alice 第一局猜的结果”，上帝前 2 局的正确答案是 10。此时 Alice 在前 2 局有 4 种选择：00, 01, 10, 11，而 Alice 只有选 00 才能胜 1 局，其他三种选择都是一局不胜。若 Alice 选择一局不胜，那么 Alice 有 3 种等价的选择，相当于 Alice 此时可以向 Bob 传递一个范围为 1~3 的整数！整理一下就是：</p><ul><li>Alice 可以选择胜 1 局，不传递额外信息；</li><li>Alice 也可以选择一局不胜，额外传递一个范围为 1~3 的整数。</li></ul><p>现在假设我们要在 9 局中胜 6 局，前 2 局的情况如同以上假设的那样，则后 7 局就变成了下面的问题：</p><ul><li>Alice 可以提前看到后 7 局的答案；</li><li>看到答案后，Alice 可以选择喊出“我们要在 7 局中胜 5 局”（相当于 Alice 前 2 局选 00）；</li><li>Alice 也可以选择喊出“我们要在 7 局中胜 6 局”，同时告诉 Bob 一个 1~3 的整数（相当于 Alice 前 2 局选 01, 10 或 11）。</li></ul><p>这样我们把上帝硬币问题一般化，允许 Alice 在事先规定的范围内选择要胜的局数，并告诉 Bob 一个限定范围的整数。我们用一个简练的记号表示这种问题：例如，用 <img src="https://www.zhihu.com/equation?tex=%5Clangle+5%2C6%5E3%5Crangle" alt="\langle 5,6^3\rangle" eeimg="1"/> 或者 <img src="https://www.zhihu.com/equation?tex=%5Clangle+5%2C6%2C6%2C6%5Crangle" alt="\langle 5,6,6,6\rangle" eeimg="1"/> 表示“Alice 可以选择胜 5 局，或者选择胜 6 局并告诉 Bob 一个 1~3 的整数”。后面我们经常会把 <img src="https://www.zhihu.com/equation?tex=%5Clangle+5%2C6%5E3%5Crangle" alt="\langle 5,6^3\rangle" eeimg="1"/> 这种记号看成一个<b>多重集合</b>：集合中有 1 个 5 和 3 个 6。</p><p>这里有一个小细节，当讨论问题 <img src="https://www.zhihu.com/equation?tex=%5Clangle+5%2C6%5E3%5Crangle" alt="\langle 5,6^3\rangle" eeimg="1"/> 时，我们要规定 <b>Alice 的 4 种选择都必须有可能出现</b>。比如说，如果在任何情况下 Alice 都不报出“胜 6 局，数字为 1”，就视为违规。后面再解释这种奇怪规定的原因。</p><p>接下来我们马上会看到，这种问题是有最优子结构的！仍然以 <img src="https://www.zhihu.com/equation?tex=%5Clangle+5%2C6%5E3%5Crangle" alt="\langle 5,6^3\rangle" eeimg="1"/> 举例（暂时不考虑总局数的条件，总局数未必是 7 局），下一局 Bob 面临 4 种情况：</p><ul><li>Alice 喊出了“我们要胜 5 局”；</li><li>Alice 喊出了“我们要胜 6 局”并报出数字 1；</li><li>Alice 喊出了“我们要胜 6 局”并报出数字 2；</li><li>Alice 喊出了“我们要胜 6 局”并报出数字 3。</li></ul><p>此外 Bob 再不知晓任何信息，因此 Bob 只能对每种情况指定一个 0/1 整数作为自己的猜测。先考虑第一种情况，假设 Bob 猜 0，那么在本局结束后又有 4 种分支：</p><ul><li>上帝的正确答案是 0，Alice 选了 0；</li><li>上帝的正确答案是 0，Alice 选了 1；</li><li>上帝的正确答案是 1，Alice 选了 0；</li><li>上帝的正确答案是 1，Alice 选了 1。</li></ul><p>如果是第一个分支，那 Alice 和 Bob 后面只需胜 4 局，否则就需要胜 5 局。请注意，我们在任何时刻总是把 Bob 的策略函数以及<b>上帝已经揭示的正确答案</b>看作是固定的，前者当然没有问题，我们没有更改 Bob 的策略，但后者要求我们把前两种分支（上帝的正确答案是 0 ）和后两种分支（上帝的正确答案是 1 ）分开处理。于是目前的状态不能记为 <img src="https://www.zhihu.com/equation?tex=%5Clangle+4%2C5%2C5%2C5%5Crangle" alt="\langle 4,5,5,5\rangle" eeimg="1"/>，而是要记为 <img src="https://www.zhihu.com/equation?tex=%5Clangle+4%2C5%5Cmid+5%2C5%5Crangle" alt="\langle 4,5\mid 5,5\rangle" eeimg="1"/>，竖线左边表示上帝本局选 0，右边表示上帝本局选 1。</p><p>另外还有一件非常重要的事：这 4 种分支都会出现吗？当然不一定！事实上 Alice 可以随意控制每一种分支是否出现。例如：</p><ul><li>Alice 选择“当上帝本局正确答案是 0 时只猜 0”，就能禁掉第二种分支，将结果变为 <img src="https://www.zhihu.com/equation?tex=%5Clangle+4%5Cmid+5%2C5%5Crangle" alt="\langle 4\mid 5,5\rangle" eeimg="1"/>；</li><li>Alice 选择“只在上帝本局正确答案是 0 时才喊出‘我们要胜 5 局’”，则可直接禁掉后两种分支，结果变为 <img src="https://www.zhihu.com/equation?tex=%5Clangle+4%2C5%5Cmid%5C+%5Crangle" alt="\langle 4,5\mid\ \rangle" eeimg="1"/>。至于如果上帝出 1 怎么办，当然是喊出“我们要胜 6 局”并报出一个数字了，这属于另外的情况，我们等会再说；</li><li>Alice 选择“只在上帝本局正确答案是 0 时才喊出‘我们要胜 5 局’，并且本局只猜 0”，则可直接禁掉后三种分支，结果变为 <img src="https://www.zhihu.com/equation?tex=%5Clangle+4%5Cmid%5C+%5Crangle" alt="\langle 4\mid\ \rangle" eeimg="1"/>；</li><li>……</li></ul><p>此处只有唯一一条限制：<b>4 种分支至少要出现 1 种</b>，否则 Alice 喊出“我们要胜 5 局”的情况就无法继续下去了。</p><p>最后，以上都是讨论 Bob 猜 0 的情况，事实上 Bob 还可以猜 1，此时仍然有 4 种分支，而本局结束后的状态则变为 <img src="https://www.zhihu.com/equation?tex=%5Clangle+5%2C5%5Cmid+4%2C5%5Crangle" alt="\langle 5,5\mid 4,5\rangle" eeimg="1"/>。当然，Alice 仍然可以随意控制每一种分支是否出现。一般地，正整数 <img src="https://www.zhihu.com/equation?tex=k" alt="k" eeimg="1"/> 可以分裂为 <img src="https://www.zhihu.com/equation?tex=%5Clangle+k-1%2Ck%5Cmid+k%2Ck%5Crangle" alt="\langle k-1,k\mid k,k\rangle" eeimg="1"/> 或 <img src="https://www.zhihu.com/equation?tex=%5Clangle+k%2Ck%5Cmid+k-1%2Ck%5Crangle" alt="\langle k,k\mid k-1,k\rangle" eeimg="1"/> 的非空“子集”。作为特殊情况，0 可以分裂为 <img src="https://www.zhihu.com/equation?tex=%5Clangle+0%2C0%5Cmid+0%2C0%5Crangle" alt="\langle 0,0\mid 0,0\rangle" eeimg="1"/> 的非空“子集”，因为若要求 0 胜就根本不需要累加胜局了。</p><p>现在我们考虑 <img src="https://www.zhihu.com/equation?tex=%5Clangle+5%2C6%5E3%5Crangle" alt="\langle 5,6^3\rangle" eeimg="1"/> 的每一种情况，每种情况都<b>分裂</b>成 1~4 个分支，例如考虑分裂</p><ul><li>5 分裂为 <img src="https://www.zhihu.com/equation?tex=%5Clangle+4%2C5%5Cmid+5%2C5%5Crangle" alt="\langle 4,5\mid 5,5\rangle" eeimg="1"/>；</li><li>6 分裂为 <img src="https://www.zhihu.com/equation?tex=%5Clangle+5%5Cmid%5C+%5Crangle" alt="\langle 5\mid\ \rangle" eeimg="1"/>；</li><li>6 分裂为 <img src="https://www.zhihu.com/equation?tex=%5Clangle+6%2C6%5Cmid+5%2C6%5Crangle" alt="\langle 6,6\mid 5,6\rangle" eeimg="1"/>；</li><li>6 分裂为 <img src="https://www.zhihu.com/equation?tex=%5Clangle+6%2C6%5Cmid+5%2C6%5Crangle" alt="\langle 6,6\mid 5,6\rangle" eeimg="1"/>。</li></ul><p>注意，竖线左边表示上帝本局选 0，右边表示上帝本局选 1，因此当我们把所有情况加总在一起后，结果便是</p><ul><li><img src="https://www.zhihu.com/equation?tex=%5Clangle+5%2C6%5E3%5Crangle" alt="\langle 5,6^3\rangle" eeimg="1"/> 分裂为 <img src="https://www.zhihu.com/equation?tex=%5Clangle+4%2C5%5E2%2C6%5E4%5Cmid+5%5E4%2C6%5E2%5Crangle" alt="\langle 4,5^2,6^4\mid 5^4,6^2\rangle" eeimg="1"/>。</li></ul><p>回忆一下，上帝前 2 轮给的答案是 10，于是结果就变成</p><ul><li>若上帝前 3 轮给的答案是 100，则前 3 轮过后问题变为 <img src="https://www.zhihu.com/equation?tex=%5Clangle+4%2C5%5E2%2C6%5E4%5Crangle" alt="\langle 4,5^2,6^4\rangle" eeimg="1"/>；</li><li>若上帝前 3 轮给的答案是 101，则前 3 轮过后问题变为 <img src="https://www.zhihu.com/equation?tex=%5Clangle+5%5E4%2C6%5E2%5Crangle" alt="\langle 5^4,6^2\rangle" eeimg="1"/>。</li></ul><p>只要问题 <img src="https://www.zhihu.com/equation?tex=%5Clangle+4%2C5%5E2%2C6%5E4%5Crangle" alt="\langle 4,5^2,6^4\rangle" eeimg="1"/> 以及 <img src="https://www.zhihu.com/equation?tex=%5Clangle+5%5E4%2C6%5E2%5Crangle" alt="\langle 5^4,6^2\rangle" eeimg="1"/> 都能在 6 局以内达成，<img src="https://www.zhihu.com/equation?tex=%5Clangle+5%2C6%5E3%5Crangle" alt="\langle 5,6^3\rangle" eeimg="1"/> 就能在 7 局以内达成。要想验证 <img src="https://www.zhihu.com/equation?tex=%5Clangle+5%2C6%5E3%5Crangle" alt="\langle 5,6^3\rangle" eeimg="1"/> 能否在 7 局以内达成，只需枚举所有可能的分裂，若存在一种分裂得到的两个多重集都能在 6 局以内解决，则 <img src="https://www.zhihu.com/equation?tex=%5Clangle+5%2C6%5E3%5Crangle" alt="\langle 5,6^3\rangle" eeimg="1"/> 就能在 7 局以内达成，否则就不能。于是，这个问题确实是有子结构的！我们可以用动态规划的方法解决这个问题。对于原始问题，例如要判断 9 局胜 6 局是否可行，只要验证 <img src="https://www.zhihu.com/equation?tex=%5Clangle+6%5Crangle" alt="\langle 6\rangle" eeimg="1"/> 能否在 9 局以内达成即可。</p><p>当然，分裂过程需要满足一些限定条件。具体地说，只需满足以下两个条件就可以了：</p><ul><li>每个数字分裂后不能是空集，例如 5 不能分裂为 <img src="https://www.zhihu.com/equation?tex=%5Clangle%5C+%5Cmid%5C+%5Crangle" alt="\langle\ \mid\ \rangle" eeimg="1"/>，这个之前说过了；</li><li>至少有一个数字分裂后竖线左边非空，并且至少有一个数字分裂后竖线右边非空。例如 5 可以分裂为 <img src="https://www.zhihu.com/equation?tex=%5Clangle+4%5Cmid%5C+%5Crangle" alt="\langle 4\mid\ \rangle" eeimg="1"/>，6 可以分裂为 <img src="https://www.zhihu.com/equation?tex=%5Clangle+5%5Cmid%5C+%5Crangle" alt="\langle 5\mid\ \rangle" eeimg="1"/>，但 <img src="https://www.zhihu.com/equation?tex=%5Clangle+5%2C+6%5Crangle" alt="\langle 5, 6\rangle" eeimg="1"/> 作为一个整体分裂为 <img src="https://www.zhihu.com/equation?tex=%5Clangle+4%2C5%5Cmid%5C+%5Crangle" alt="\langle 4,5\mid\ \rangle" eeimg="1"/> 是不合法的。</li></ul><p>此处可以说明之前奇怪规定的原因了，如果不做那种奇怪规定，当所有数字都分裂成左右两集时，有可能左边右边都有分支，但右边的所有分支都不可能出现，这是不可能做到的，因此干脆规定所有（没被显式禁掉的）分支都必须出现，以排除掉这种“隐形违规”的情况。</p><p>注意到，实际上只要补充定义“空的多重集 <img src="https://www.zhihu.com/equation?tex=%5Clangle%5C+%5Crangle" alt="\langle\ \rangle" eeimg="1"/> 无论给多少局猜数字都不能解”，就可以自然排除掉第二个条件，以后就不用管第二个条件了。</p><hr/><h2>优化</h2><p>枚举所有可能的分裂比直接枚举策略快得多，但是还不够快。下面常用 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 表示由一些非负整数组成的多重集，用 <img src="https://www.zhihu.com/equation?tex=M%5Cin+S_n" alt="M\in S_n" eeimg="1"/> 表示 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 可在 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 局内解决（此时也称 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 是 <b><img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 阶可解集</b>）。</p><p><b>命题1</b> 若 <img src="https://www.zhihu.com/equation?tex=M%5Cin+S_n" alt="M\in S_n" eeimg="1"/>，则 <img src="https://www.zhihu.com/equation?tex=0%3C%7CM%7C%5Cle+2%5En" alt="0&lt;|M|\le 2^n" eeimg="1"/> 且 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 中元素都不大于 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/>。</p><p>前面解释过为什么 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 必须非空。前半句的后一个等号是因为我们要保证 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 中每种选择都可能出现，而上帝的答案一共就只有 <img src="https://www.zhihu.com/equation?tex=2%5En" alt="2^n" eeimg="1"/> 种可能。后半句是显然的，Alice 总不能报出“我们要在 3 局中胜 5 局”吧。</p><p>我们把满足 <img src="https://www.zhihu.com/equation?tex=0%3C%7CM%7C%5Cle+2%5En" alt="0&lt;|M|\le 2^n" eeimg="1"/> 且 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 中元素都不大于 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 的多重集 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 称为“<b><img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 阶正常集</b>”。</p><p><b>命题2</b> <img src="https://www.zhihu.com/equation?tex=M%5Cin+S_0" alt="M\in S_0" eeimg="1"/> 当且仅当 <img src="https://www.zhihu.com/equation?tex=M%3D%5Clangle+0%5Crangle" alt="M=\langle 0\rangle" eeimg="1"/>。</p><p>由命题 1 直接推出。</p><p><b>命题3</b> 若正常集 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 满足 <img src="https://www.zhihu.com/equation?tex=%7CM%7C%3D2%5En" alt="|M|=2^n" eeimg="1"/>，则 <img src="https://www.zhihu.com/equation?tex=M%5Cin+S_n" alt="M\in S_n" eeimg="1"/>。</p><p><img src="https://www.zhihu.com/equation?tex=n%3D0" alt="n=0" eeimg="1"/> 时命题显然成立，因为此时唯一一个正常集就是 <img src="https://www.zhihu.com/equation?tex=%5Clangle+0%5Crangle" alt="\langle 0\rangle" eeimg="1"/>。</p><p>对正整数 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/>，假设命题对 <img src="https://www.zhihu.com/equation?tex=n-1" alt="n-1" eeimg="1"/> 成立，我们让 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 的其中一半元素做分裂 <img src="https://www.zhihu.com/equation?tex=x%5Crightarrow%5Clangle+x-1%5Cmid%5C+%5Crangle" alt="x\rightarrow\langle x-1\mid\ \rangle" eeimg="1"/>（在做分裂操作时我们约定 <img src="https://www.zhihu.com/equation?tex=0-1%3D0" alt="0-1=0" eeimg="1"/>，否则每次都要对 0 特殊处理，写起来非常麻烦），另一半元素做 <img src="https://www.zhihu.com/equation?tex=x%5Crightarrow%5Clangle%5C+%5Cmid+x-1%5Crangle" alt="x\rightarrow\langle\ \mid x-1\rangle" eeimg="1"/>，这样左集和右集都是大小为 <img src="https://www.zhihu.com/equation?tex=2%5E%7Bn-1%7D" alt="2^{n-1}" eeimg="1"/> 的 <img src="https://www.zhihu.com/equation?tex=n-1" alt="n-1" eeimg="1"/> 阶正常集，由归纳假设知这两个集合都属于 <img src="https://www.zhihu.com/equation?tex=S_%7Bn-1%7D" alt="S_{n-1}" eeimg="1"/>，故 <img src="https://www.zhihu.com/equation?tex=M%5Cin+S_n" alt="M\in S_n" eeimg="1"/>，即命题对 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 成立。归纳法证明完成。</p><p>（该命题从直观上非常容易理解：若 Alice 有 <img src="https://www.zhihu.com/equation?tex=2%5En" alt="2^n" eeimg="1"/> 种喊话的选择，她完全告诉 Bob 所有正确答案保证 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 局全胜。）</p><p><b>命题4</b> 若 <img src="https://www.zhihu.com/equation?tex=M_1%5Csubseteq+M_2" alt="M_1\subseteq M_2" eeimg="1"/> 满足 <img src="https://www.zhihu.com/equation?tex=M_1%5Cin+S_n" alt="M_1\in S_n" eeimg="1"/> 且 <img src="https://www.zhihu.com/equation?tex=M_2" alt="M_2" eeimg="1"/> 是 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 阶正常集，则 <img src="https://www.zhihu.com/equation?tex=M_2%5Cin+S_n" alt="M_2\in S_n" eeimg="1"/>。</p><p>简而言之就是“子集可解的正常集也可解”。<img src="https://www.zhihu.com/equation?tex=n%3D0" alt="n=0" eeimg="1"/> 时命题显然成立。</p><p>对正整数 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/>，假设命题对 <img src="https://www.zhihu.com/equation?tex=n-1" alt="n-1" eeimg="1"/> 成立，由于 <img src="https://www.zhihu.com/equation?tex=M_1%5Cin+S_n" alt="M_1\in S_n" eeimg="1"/>，可设 <img src="https://www.zhihu.com/equation?tex=M_1" alt="M_1" eeimg="1"/> 分裂为 <img src="https://www.zhihu.com/equation?tex=P%2CQ%5Cin+S_%7Bn-1%7D" alt="P,Q\in S_{n-1}" eeimg="1"/>。下面我们依次考虑 <img src="https://www.zhihu.com/equation?tex=M_2-M_1" alt="M_2-M_1" eeimg="1"/> 的元素如何分裂。记当前考虑的元素是 <img src="https://www.zhihu.com/equation?tex=x%5Cin+M_2-M_1" alt="x\in M_2-M_1" eeimg="1"/>，分情况讨论：</p><ul><li>若当前 <img src="https://www.zhihu.com/equation?tex=%7CP%7C%3C2%5E%7Bn-1%7D" alt="|P|&lt;2^{n-1}" eeimg="1"/>，则让 <img src="https://www.zhihu.com/equation?tex=x" alt="x" eeimg="1"/> 分裂为 <img src="https://www.zhihu.com/equation?tex=%5Clangle+x-1%5Cmid%5C+%5Crangle" alt="\langle x-1\mid\ \rangle" eeimg="1"/>，并将 <img src="https://www.zhihu.com/equation?tex=x-1" alt="x-1" eeimg="1"/> 加入集合 <img src="https://www.zhihu.com/equation?tex=P" alt="P" eeimg="1"/> 中；</li><li>若当前 <img src="https://www.zhihu.com/equation?tex=%7CQ%7C%3C2%5E%7Bn-1%7D" alt="|Q|&lt;2^{n-1}" eeimg="1"/>，则让 <img src="https://www.zhihu.com/equation?tex=x" alt="x" eeimg="1"/> 分裂为 <img src="https://www.zhihu.com/equation?tex=%5Clangle%5C+%5Cmid++x-1%5Crangle" alt="\langle\ \mid  x-1\rangle" eeimg="1"/>，并将 <img src="https://www.zhihu.com/equation?tex=x-1" alt="x-1" eeimg="1"/> 加入集合 <img src="https://www.zhihu.com/equation?tex=Q" alt="Q" eeimg="1"/> 中；（以上两条都满足时选第一条）</li><li>若当前 <img src="https://www.zhihu.com/equation?tex=%7CP%7C%3D%7CQ%7C%3D2%5E%7Bn-1%7D" alt="|P|=|Q|=2^{n-1}" eeimg="1"/>，注意到目前已经分裂完成的元素个数小于 <img src="https://www.zhihu.com/equation?tex=2%5En" alt="2^n" eeimg="1"/>，于是必有元素分裂成不止一个分支，此时随便删去一个分支，再让 <img src="https://www.zhihu.com/equation?tex=x" alt="x" eeimg="1"/> 分裂为 <img src="https://www.zhihu.com/equation?tex=%5Clangle+x-1%5Cmid%5C+%5Crangle" alt="\langle x-1\mid\ \rangle" eeimg="1"/> 或 <img src="https://www.zhihu.com/equation?tex=%5Clangle%5C+%5Cmid++x-1%5Crangle" alt="\langle\ \mid  x-1\rangle" eeimg="1"/>，取决于删掉的分支在左边还是右边。这样操作后仍有 <img src="https://www.zhihu.com/equation?tex=%7CP%7C%3D%7CQ%7C%3D2%5E%7Bn-1%7D" alt="|P|=|Q|=2^{n-1}" eeimg="1"/>。</li></ul><p>注意到只要中间有一步落入第三种情况，<img src="https://www.zhihu.com/equation?tex=%7CP%7C%3D%7CQ%7C%3D2%5E%7Bn-1%7D" alt="|P|=|Q|=2^{n-1}" eeimg="1"/> 的关系就会一直保持，直到最终 <img src="https://www.zhihu.com/equation?tex=M_2-M_1" alt="M_2-M_1" eeimg="1"/> 的所有元素都分裂完成时仍有 <img src="https://www.zhihu.com/equation?tex=%7CP%7C%3D%7CQ%7C%3D2%5E%7Bn-1%7D" alt="|P|=|Q|=2^{n-1}" eeimg="1"/>，由命题 3 立刻可知 <img src="https://www.zhihu.com/equation?tex=P%2CQ" alt="P,Q" eeimg="1"/> 仍属于 <img src="https://www.zhihu.com/equation?tex=S_%7Bn-1%7D" alt="S_{n-1}" eeimg="1"/>；否则，全过程始终没有落在第三种情况，则最终的 <img src="https://www.zhihu.com/equation?tex=P%2CQ" alt="P,Q" eeimg="1"/> 分别以最初的 <img src="https://www.zhihu.com/equation?tex=P%2CQ" alt="P,Q" eeimg="1"/> 为子集，根据归纳假设，此时 <img src="https://www.zhihu.com/equation?tex=P%2CQ" alt="P,Q" eeimg="1"/> 仍属于 <img src="https://www.zhihu.com/equation?tex=S_%7Bn-1%7D" alt="S_{n-1}" eeimg="1"/>。总之，最终 <img src="https://www.zhihu.com/equation?tex=P%2CQ%5Cin+S_%7Bn-1%7D" alt="P,Q\in S_{n-1}" eeimg="1"/>，从而 <img src="https://www.zhihu.com/equation?tex=M_2%5Cin+S_n" alt="M_2\in S_n" eeimg="1"/>。这就完成了归纳递推的步骤。</p><p>实际上，<img src="https://www.zhihu.com/equation?tex=%7CM%7C%5Cle+2%5En" alt="|M|\le 2^n" eeimg="1"/> 的约束条件并没有什么重要意义，反倒给我们的推导过程制造了很多麻烦，于是有必要将可解集的概念作推广。</p><p><b>定义</b> 称 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 为 <b><img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 阶广义可解集</b>，当且仅当 <img src="https://www.zhihu.com/equation?tex=M%5Cin+S_n" alt="M\in S_n" eeimg="1"/>，或者 <img src="https://www.zhihu.com/equation?tex=%7CM%7C%3E2%5En" alt="|M|&gt;2^n" eeimg="1"/> 且 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 中元素都不大于 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/>；称 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 为 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/><b> 阶广义正常集</b>，当且仅当 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 非空且 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 中元素都不大于 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/>。<img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 阶广义可解集的集合记为 <img src="https://www.zhihu.com/equation?tex=%5Coverline%7BS%7D_n" alt="\overline{S}_n" eeimg="1"/>。</p><p><b>命题5</b> 若 <img src="https://www.zhihu.com/equation?tex=M_1%5Csubseteq+M_2" alt="M_1\subseteq M_2" eeimg="1"/> 满足 <img src="https://www.zhihu.com/equation?tex=M_1%5Cin%5Coverline%7BS%7D_n" alt="M_1\in\overline{S}_n" eeimg="1"/> 且 <img src="https://www.zhihu.com/equation?tex=M_2" alt="M_2" eeimg="1"/> 是 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 阶广义正常集，则 <img src="https://www.zhihu.com/equation?tex=M_2%5Cin%5Coverline%7BS%7D_n" alt="M_2\in\overline{S}_n" eeimg="1"/>。</p><p>（该命题是显然的。）</p><p><b>命题6</b> 若 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 是正整数，则 <img src="https://www.zhihu.com/equation?tex=M%5Cin%5Coverline%7BS%7D_n" alt="M\in\overline{S}_n" eeimg="1"/> 当且仅当 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 能分裂为两个多重集 <img src="https://www.zhihu.com/equation?tex=P%2CQ%5Cin+%5Coverline%7BS%7D_%7Bn-1%7D" alt="P,Q\in \overline{S}_{n-1}" eeimg="1"/>。</p><p>必要性很容易证明。假设 <img src="https://www.zhihu.com/equation?tex=M%5Cin%5Coverline%7BS%7D_n" alt="M\in\overline{S}_n" eeimg="1"/>，若<img src="https://www.zhihu.com/equation?tex=%7CM%7C%5Cle+2%5En" alt="|M|\le 2^n" eeimg="1"/>，则 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 能分裂为两个集合 <img src="https://www.zhihu.com/equation?tex=P%2CQ%5Cin+S_%7Bn-1%7D" alt="P,Q\in S_{n-1}" eeimg="1"/>，自然满足条件；若 <img src="https://www.zhihu.com/equation?tex=%7CM%7C%3E2%5En" alt="|M|&gt;2^n" eeimg="1"/>，则 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 显然能分裂为两个大小不小于 <img src="https://www.zhihu.com/equation?tex=2%5E%7Bn-1%7D" alt="2^{n-1}" eeimg="1"/> 的集合 <img src="https://www.zhihu.com/equation?tex=P%2CQ" alt="P,Q" eeimg="1"/>，也满足条件。</p><p>下面证明充分性，假设 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 能分裂为两个多重集 <img src="https://www.zhihu.com/equation?tex=P%2CQ%5Cin+%5Coverline%7BS%7D_%7Bn-1%7D" alt="P,Q\in \overline{S}_{n-1}" eeimg="1"/>。不妨设 <img src="https://www.zhihu.com/equation?tex=%7CM%7C%5Cle+2%5En" alt="|M|\le 2^n" eeimg="1"/>（否则结论自然成立），若 <img src="https://www.zhihu.com/equation?tex=%7CP%7C%2C%7CQ%7C%5Cle+2%5E%7Bn-1%7D" alt="|P|,|Q|\le 2^{n-1}" eeimg="1"/>，则 <img src="https://www.zhihu.com/equation?tex=P%2CQ%5Cin+S_%7Bn-1%7D" alt="P,Q\in S_{n-1}" eeimg="1"/>，结论自然成立。当然，<img src="https://www.zhihu.com/equation?tex=%7CP%7C%2C%7CQ%7C" alt="|P|,|Q|" eeimg="1"/> 不能都大于 <img src="https://www.zhihu.com/equation?tex=2%5E%7Bn-1%7D" alt="2^{n-1}" eeimg="1"/>，故不妨设 <img src="https://www.zhihu.com/equation?tex=%7CP%7C%3E2%5E%7Bn-1%7D%2C%7CQ%7C%5Cle+2%5E%7Bn-1%7D" alt="|P|&gt;2^{n-1},|Q|\le 2^{n-1}" eeimg="1"/>。</p><p>此时，我们可以删掉一些落在左边的分支，使得 <img src="https://www.zhihu.com/equation?tex=%7CP%7C%3D2%5E%7Bn-1%7D" alt="|P|=2^{n-1}" eeimg="1"/>。这个过程中也许 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 中某些元素的所有分支都删没了，这样的话就干脆把这个元素本身从 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 中移除。最终的结果就是 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 的某个子集分裂为多重集 <img src="https://www.zhihu.com/equation?tex=P%2CQ" alt="P,Q" eeimg="1"/>，由 <img src="https://www.zhihu.com/equation?tex=%7CP%7C%3D2%5E%7Bn-1%7D" alt="|P|=2^{n-1}" eeimg="1"/> 说明 <img src="https://www.zhihu.com/equation?tex=P" alt="P" eeimg="1"/> 可解，<img src="https://www.zhihu.com/equation?tex=Q" alt="Q" eeimg="1"/> 从来没变过当然仍然可解，这就说明了 <img src="https://www.zhihu.com/equation?tex=P%2CQ%5Cin+S_%7Bn-1%7D" alt="P,Q\in S_{n-1}" eeimg="1"/>，从而 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 的某个子集可解，故 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 可解。证明完成。</p><p>现在我们终于摆脱了烦人的 <img src="https://www.zhihu.com/equation?tex=%7CM%7C%5Cle+2%5En" alt="|M|\le 2^n" eeimg="1"/> 的条件，姑且将结论叙述如下：</p><ul><li>给定一个非负整数的多重集，若集中任意元素均小于等于 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/>，且有子集属于 <img src="https://www.zhihu.com/equation?tex=%5Coverline%7BS%7D_n" alt="\overline{S}_n" eeimg="1"/>，则该集合本身也属于 <img src="https://www.zhihu.com/equation?tex=%5Coverline%7BS%7D_n" alt="\overline{S}_n" eeimg="1"/>；</li><li>若 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 是正整数，则 <img src="https://www.zhihu.com/equation?tex=M%5Cin%5Coverline%7BS%7D_n" alt="M\in\overline{S}_n" eeimg="1"/> 当且仅当 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 能分裂为两个多重集 <img src="https://www.zhihu.com/equation?tex=P%2CQ%5Cin+%5Coverline%7BS%7D_%7Bn-1%7D" alt="P,Q\in \overline{S}_{n-1}" eeimg="1"/>；</li><li><img src="https://www.zhihu.com/equation?tex=M%5Cin%5Coverline%7BS%7D_0" alt="M\in\overline{S}_0" eeimg="1"/> 当且仅当 <img src="https://www.zhihu.com/equation?tex=M%3D%5C%7B0%5Ek%5C%7D" alt="M=\{0^k\}" eeimg="1"/>，其中 <img src="https://www.zhihu.com/equation?tex=k" alt="k" eeimg="1"/> 是正整数。</li></ul><p>至此终于可以推出我们想要的核心结论：</p><p><b>定义</b> 设 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 是 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 阶正常集，<img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 是正整数。若在某次分裂过程中，<img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 中所有小于 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 的数 <img src="https://www.zhihu.com/equation?tex=x" alt="x" eeimg="1"/> 都分裂为 <img src="https://www.zhihu.com/equation?tex=%5Clangle+x-1%2Cx%5Cmid+x%2Cx%5Crangle" alt="\langle x-1,x\mid x,x\rangle" eeimg="1"/> 或者 <img src="https://www.zhihu.com/equation?tex=%5Clangle+x%2Cx%5Cmid+x-1%2Cx%5Crangle" alt="\langle x,x\mid x-1,x\rangle" eeimg="1"/>，而所有数字 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 都分裂为 <img src="https://www.zhihu.com/equation?tex=%5Clangle+n-1%5Cmid%5C+%5Crangle" alt="\langle n-1\mid\ \rangle" eeimg="1"/> 或者 <img src="https://www.zhihu.com/equation?tex=%5Clangle%5C+%5Cmid+n-1%5Crangle" alt="\langle\ \mid n-1\rangle" eeimg="1"/>，则称此次分裂为 <b><img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 阶满分裂</b>。</p><p><b>命题7</b> 若 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 是正整数，则 <img src="https://www.zhihu.com/equation?tex=M%5Cin%5Coverline%7BS%7D_n" alt="M\in\overline{S}_n" eeimg="1"/> 当且仅当 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 能<b>满分裂</b>为两个多重集 <img src="https://www.zhihu.com/equation?tex=P%2CQ%5Cin+%5Coverline%7BS%7D_%7Bn-1%7D" alt="P,Q\in \overline{S}_{n-1}" eeimg="1"/>。</p><p>由命题 6 立即可得充分性。为证必要性，设 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 分裂为两个多重集 <img src="https://www.zhihu.com/equation?tex=P%2CQ%5Cin+%5Coverline%7BS%7D_%7Bn-1%7D" alt="P,Q\in \overline{S}_{n-1}" eeimg="1"/>，显然所有数字 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 都只能分裂为 <img src="https://www.zhihu.com/equation?tex=%5Clangle+n-1%5Cmid%5C+%5Crangle" alt="\langle n-1\mid\ \rangle" eeimg="1"/> 或者 <img src="https://www.zhihu.com/equation?tex=%5Clangle%5C+%5Cmid+n-1%5Crangle" alt="\langle\ \mid n-1\rangle" eeimg="1"/>。对于小于 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 的数字无论如何分裂，我们都把它补满为 4 个分支，由命题 5 可知如此操作过后仍有 <img src="https://www.zhihu.com/equation?tex=P%2CQ%5Cin+%5Coverline%7BS%7D_%7Bn-1%7D" alt="P,Q\in \overline{S}_{n-1}" eeimg="1"/>，于是就得到了满足要求的满分裂。</p><p>结论：若 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 是正整数，要判断是否有 <img src="https://www.zhihu.com/equation?tex=M%5Cin%5Coverline%7BS%7D_n" alt="M\in\overline{S}_n" eeimg="1"/>，只要<b>枚举所有满分裂</b> <img src="https://www.zhihu.com/equation?tex=P%2CQ" alt="P,Q" eeimg="1"/>，看能否让这两个多重集都属于 <img src="https://www.zhihu.com/equation?tex=%5Coverline%7BS%7D_%7Bn-1%7D" alt="\overline{S}_{n-1}" eeimg="1"/> 就可以了。对于大小不超过 <img src="https://www.zhihu.com/equation?tex=2%5En" alt="2^n" eeimg="1"/> 的集合，判断是否可解跟判断是否广义可解是一回事。</p><p>枚举满分裂比枚举所有分裂简单得多，因为每个数字都只需要考虑两种分裂方式。</p><hr/><h2>实现</h2><p>现在我们来看看前几个 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 对应的（广义）可解集是怎么样的。注意，由于包含可解集的集合也是可解集，故我们只需要枚举所有<b>极小可解集</b>就足够了。</p><p><img src="https://www.zhihu.com/equation?tex=n%3D0" alt="n=0" eeimg="1"/>：可解集只有 <img src="https://www.zhihu.com/equation?tex=%5Clangle+0%5Crangle" alt="\langle 0\rangle" eeimg="1"/>。</p><p><img src="https://www.zhihu.com/equation?tex=n%3D1" alt="n=1" eeimg="1"/>：极小可解集有 <img src="https://www.zhihu.com/equation?tex=%5Clangle+0%5Crangle%2C%5Clangle+1%5E2%5Crangle" alt="\langle 0\rangle,\langle 1^2\rangle" eeimg="1"/>。</p><p><img src="https://www.zhihu.com/equation?tex=n%3D2" alt="n=2" eeimg="1"/>：极小可解集有 <img src="https://www.zhihu.com/equation?tex=%5Clangle+0%5Crangle%2C%5Clangle+1%5Crangle%2C%5Clangle+2%5E4%5Crangle" alt="\langle 0\rangle,\langle 1\rangle,\langle 2^4\rangle" eeimg="1"/>。</p><p><img src="https://www.zhihu.com/equation?tex=n%3D3" alt="n=3" eeimg="1"/>：极小可解集有 <img src="https://www.zhihu.com/equation?tex=%5Clangle+0%5Crangle%2C%5Clangle+1%5Crangle%2C%5Clangle+2%5E2%5Crangle%2C%5Clangle+2%2C3%5E2%5Crangle%2C%5Clangle+3%5E8%5Crangle" alt="\langle 0\rangle,\langle 1\rangle,\langle 2^2\rangle,\langle 2,3^2\rangle,\langle 3^8\rangle" eeimg="1"/>。</p><p><img src="https://www.zhihu.com/equation?tex=n%3D4" alt="n=4" eeimg="1"/>：极小可解集有 <img src="https://www.zhihu.com/equation?tex=%5Clangle+0%5Crangle%2C%5Clangle+1%5Crangle%2C%5Clangle+2%5Crangle%2C%5Clangle+3%5E2%5Crangle%2C%5Clangle+3%2C4%5E7%5Crangle%2C%5Clangle+4%5E%7B16%7D%5Crangle" alt="\langle 0\rangle,\langle 1\rangle,\langle 2\rangle,\langle 3^2\rangle,\langle 3,4^7\rangle,\langle 4^{16}\rangle" eeimg="1"/>。</p><p>……</p><p>随着 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 的增大，极小可解集的数量不断增加，需要编程枚举。为了方便计算，我们定义一个函数 <img src="https://www.zhihu.com/equation?tex=t_n%28M%29" alt="t_n(M)" eeimg="1"/>（其中 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 是不含 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 的多重集），表示集合 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 中至少添加多少个 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 才能变成（广义）可解集：例如 <img src="https://www.zhihu.com/equation?tex=%5Clangle+3%2C4%5E7%5Crangle" alt="\langle 3,4^7\rangle" eeimg="1"/> 是 4 阶极小可解集，故 <img src="https://www.zhihu.com/equation?tex=t_4%28%5Clangle+3%5Crangle%29%3D7" alt="t_4(\langle 3\rangle)=7" eeimg="1"/>。另外，用 <img src="https://www.zhihu.com/equation?tex=f_n" alt="f_n" eeimg="1"/> 表示 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 局游戏最多能保证猜对多少局。</p><p>容易看出，对任意 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/>，函数 <img src="https://www.zhihu.com/equation?tex=t_n" alt="t_n" eeimg="1"/> 仅在有限个多重集上取非 0 函数值，因此我们可以把 <img src="https://www.zhihu.com/equation?tex=t_n" alt="t_n" eeimg="1"/> 的自变量和对应非 0 函数值存进字典中。具体计算 <img src="https://www.zhihu.com/equation?tex=t_n" alt="t_n" eeimg="1"/> 要用到递推法：</p><p>假设已经算出 <img src="https://www.zhihu.com/equation?tex=t_%7Bn-1%7D" alt="t_{n-1}" eeimg="1"/>。首先需要知道给定 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 如何算出 <img src="https://www.zhihu.com/equation?tex=t_n%28M%29" alt="t_n(M)" eeimg="1"/>。任取 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 的一个满分裂，分裂得到的左右集可能含有 <img src="https://www.zhihu.com/equation?tex=n-1" alt="n-1" eeimg="1"/>，我们把这个分裂记为 <img src="https://www.zhihu.com/equation?tex=M%5Crightarrow%5Clangle+M_1%2C%28n-1%29%5Er%5Cmid+M_2%2C%28n-1%29%5Es%5Crangle" alt="M\rightarrow\langle M_1,(n-1)^r\mid M_2,(n-1)^s\rangle" eeimg="1"/>（也就是把 <img src="https://www.zhihu.com/equation?tex=n-1" alt="n-1" eeimg="1"/> 单拿出来）。查之前算的表可以获得 <img src="https://www.zhihu.com/equation?tex=p%3Dt_%7Bn-1%7D%28M_1%29%2Cq%3Dt_%7Bn-1%7D%28M_2%29" alt="p=t_{n-1}(M_1),q=t_{n-1}(M_2)" eeimg="1"/> 的值，于是左集还差 <img src="https://www.zhihu.com/equation?tex=%5Cmax%28p-r%2C0%29" alt="\max(p-r,0)" eeimg="1"/> 个 <img src="https://www.zhihu.com/equation?tex=n-1" alt="n-1" eeimg="1"/>，右集还差 <img src="https://www.zhihu.com/equation?tex=%5Cmax%28q-s%2C0%29" alt="\max(q-s,0)" eeimg="1"/> 个 <img src="https://www.zhihu.com/equation?tex=n-1" alt="n-1" eeimg="1"/>。而每往 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 中添加一个 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/>，就可以（且只能）多分裂出一个 <img src="https://www.zhihu.com/equation?tex=n-1" alt="n-1" eeimg="1"/>。于是</p><p><img src="https://www.zhihu.com/equation?tex=t_n%28M%29%3D%5Cmin%28%5Cmax%28p-r%2C0%29%2B%5Cmax%28q-s%2C0%29%29%2C" alt="t_n(M)=\min(\max(p-r,0)+\max(q-s,0))," eeimg="1"/></p><p>其中最外层的 <img src="https://www.zhihu.com/equation?tex=%5Cmin" alt="\min" eeimg="1"/> 含义是遍历所有满分裂，取括号里的最小值。要遍历所有满分裂，设</p><p><img src="https://www.zhihu.com/equation?tex=M%3D%5Clangle+0%5E%7Br_0%7D%2C1%5E%7Br_1%7D%2C%5Ccdots%2C%28n-1%29%5E%7Br_%7Bn-1%7D%7D%5Crangle%2C" alt="M=\langle 0^{r_0},1^{r_1},\cdots,(n-1)^{r_{n-1}}\rangle," eeimg="1"/></p><p>枚举满足 <img src="https://www.zhihu.com/equation?tex=0%5Cle+s_i%5Cle+r_i" alt="0\le s_i\le r_i" eeimg="1"/> 的向量 <img src="https://www.zhihu.com/equation?tex=%28s_0%2C%5Ccdots%2Cs_%7Bn-1%7D%29" alt="(s_0,\cdots,s_{n-1})" eeimg="1"/>，让 <img src="https://www.zhihu.com/equation?tex=r_i" alt="r_i" eeimg="1"/> 个 <img src="https://www.zhihu.com/equation?tex=i" alt="i" eeimg="1"/> 中的 <img src="https://www.zhihu.com/equation?tex=s_i" alt="s_i" eeimg="1"/> 个分裂为 <img src="https://www.zhihu.com/equation?tex=%5Clangle+i-1%2Ci%5Cmid+i%2Ci%5Crangle" alt="\langle i-1,i\mid i,i\rangle" eeimg="1"/>，其余的分裂为 <img src="https://www.zhihu.com/equation?tex=%5Clangle+i%2Ci%5Cmid+i-1%2Ci%5Crangle" alt="\langle i,i\mid i-1,i\rangle" eeimg="1"/>，就可以了。</p><p>然后考虑如何算出整个字典 <img src="https://www.zhihu.com/equation?tex=t_n" alt="t_n" eeimg="1"/>，也就是要枚举满足 <img src="https://www.zhihu.com/equation?tex=t_n%28M%29%3E0" alt="t_n(M)&gt;0" eeimg="1"/> 的 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/>。还是设</p><p><img src="https://www.zhihu.com/equation?tex=M%3D%5Clangle+0%5E%7Br_0%7D%2C1%5E%7Br_1%7D%2C%5Ccdots%2C%28n-1%29%5E%7Br_%7Bn-1%7D%7D%5Crangle%2C" alt="M=\langle 0^{r_0},1^{r_1},\cdots,(n-1)^{r_{n-1}}\rangle," eeimg="1"/></p><p>按照 <img src="https://www.zhihu.com/equation?tex=%28r_0%2C%5Ccdots%2Cr_%7Bn-1%7D%29" alt="(r_0,\cdots,r_{n-1})" eeimg="1"/> 的字典序枚举 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/>：从全 0 向量开始枚举，若当前 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 的函数值大于 0，则让 <img src="https://www.zhihu.com/equation?tex=r_%7Bn-1%7D" alt="r_{n-1}" eeimg="1"/> 自增 1 得到下一个 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/>；否则，设 <img src="https://www.zhihu.com/equation?tex=r_i" alt="r_i" eeimg="1"/> 是最后一个非零项，显然再让 <img src="https://www.zhihu.com/equation?tex=r_i" alt="r_i" eeimg="1"/> 及以后的项往上增加没有意义，此时把 <img src="https://www.zhihu.com/equation?tex=r_i" alt="r_i" eeimg="1"/> 清零并让 <img src="https://www.zhihu.com/equation?tex=r_%7Bi-1%7D" alt="r_{i-1}" eeimg="1"/> 自增 1。枚举过程中把函数值大于 0 的 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 以及其函数值放进字典中。最终，当我们枚举到某个单元素集 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 的函数值为 0 时，就没必要继续枚举了，此时终止枚举，而 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 中包含的唯一元素就是 <img src="https://www.zhihu.com/equation?tex=f_n" alt="f_n" eeimg="1"/> 的值。</p><p>由于我们计算 <img src="https://www.zhihu.com/equation?tex=t_n" alt="t_n" eeimg="1"/> 只是辅助，最终需要的还是 <img src="https://www.zhihu.com/equation?tex=f_n" alt="f_n" eeimg="1"/> 的值，于是就有了一个很方便的优化：假设我们需要计算 <img src="https://www.zhihu.com/equation?tex=f_0%2C%5Ccdots%2Cf_N" alt="f_0,\cdots,f_N" eeimg="1"/> 的值，注意到 <img src="https://www.zhihu.com/equation?tex=f_n" alt="f_n" eeimg="1"/> 的值就是满足 <img src="https://www.zhihu.com/equation?tex=t_n%28%5Clangle+m%5Crangle%29%3D0" alt="t_n(\langle m\rangle)=0" eeimg="1"/> 的最大 <img src="https://www.zhihu.com/equation?tex=m" alt="m" eeimg="1"/> 值，即只需要考虑单元素集的 <img src="https://www.zhihu.com/equation?tex=t_n" alt="t_n" eeimg="1"/> 值；另外，任意集合分裂为左右两集，两集合各自的大小都不超过原集的两倍，从而只需要考虑不超过 <img src="https://www.zhihu.com/equation?tex=2%5E%7Bn-k%7D" alt="2^{n-k}" eeimg="1"/> 元素之集的 <img src="https://www.zhihu.com/equation?tex=t_k" alt="t_k" eeimg="1"/> 值。于是就有：</p><blockquote>计算 <img src="https://www.zhihu.com/equation?tex=t_k" alt="t_k" eeimg="1"/> 时若枚举到超过 <img src="https://www.zhihu.com/equation?tex=2%5E%7BN-k%7D" alt="2^{N-k}" eeimg="1"/> 个元素的集合，则套用 <img src="https://www.zhihu.com/equation?tex=t_k%28M%29%3D0" alt="t_k(M)=0" eeimg="1"/> 的处理方式（即若 <img src="https://www.zhihu.com/equation?tex=r_i" alt="r_i" eeimg="1"/> 是最后一个非零项，则把 <img src="https://www.zhihu.com/equation?tex=r_i" alt="r_i" eeimg="1"/> 清零并让 <img src="https://www.zhihu.com/equation?tex=r_%7Bi-1%7D" alt="r_{i-1}" eeimg="1"/> 自增 1），跳过这个集合。</blockquote><p>这样当 <img src="https://www.zhihu.com/equation?tex=k" alt="k" eeimg="1"/> 接近 <img src="https://www.zhihu.com/equation?tex=N" alt="N" eeimg="1"/> 时可以大大缩短计算 <img src="https://www.zhihu.com/equation?tex=t_k" alt="t_k" eeimg="1"/> 的时间和空间。</p><p>利用以上方法，我用 Python 编写了一个程序，算出前几个 <img src="https://www.zhihu.com/equation?tex=f_n" alt="f_n" eeimg="1"/> 值如下：</p><p><img src="https://www.zhihu.com/equation?tex=%5Cbegin%7Barray%7D%7Bccccccccccccc%7D+n+%26+1+%26+2+%26+3+%26+4+%26+5+%26+6+%26+7+%26+8+%26+9+%26+10+%26+11+%26+12+%5C%5C+f_n+%26+0+%26+1+%26+1+%26+2+%26+3+%26+3+%26+4+%26+5+%26+6+%26+6+%26+7+%26+8+%5C%5C+%5C%5C+n+%26+13+%26+14+%26+15+%26+16+%26+17+%26+18+%26+19+%26+20+%26+21+%26+22+%26+23+%26+24+%5C%5C+f_n+%26+9+%26+9+%26+10+%26+11+%26+12+%26+13+%26+13+%26+14+%26+15+%26+16+%26+17+%26+17+%5C%5C+%5Cend%7Barray%7D" alt="\begin{array}{ccccccccccccc} n &amp; 1 &amp; 2 &amp; 3 &amp; 4 &amp; 5 &amp; 6 &amp; 7 &amp; 8 &amp; 9 &amp; 10 &amp; 11 &amp; 12 \\ f_n &amp; 0 &amp; 1 &amp; 1 &amp; 2 &amp; 3 &amp; 3 &amp; 4 &amp; 5 &amp; 6 &amp; 6 &amp; 7 &amp; 8 \\ \\ n &amp; 13 &amp; 14 &amp; 15 &amp; 16 &amp; 17 &amp; 18 &amp; 19 &amp; 20 &amp; 21 &amp; 22 &amp; 23 &amp; 24 \\ f_n &amp; 9 &amp; 9 &amp; 10 &amp; 11 &amp; 12 &amp; 13 &amp; 13 &amp; 14 &amp; 15 &amp; 16 &amp; 17 &amp; 17 \\ \end{array}" eeimg="1"/> </p><p>大多数情况下 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 增加 1 时 <img src="https://www.zhihu.com/equation?tex=f_n" alt="f_n" eeimg="1"/> 也增加 1，少数情况下 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 增加 1 时 <img src="https://www.zhihu.com/equation?tex=f_n" alt="f_n" eeimg="1"/> 不变（显然这两种情况非此即彼，要么不变要么增加 1）。当 <img src="https://www.zhihu.com/equation?tex=f_n%3Df_%7Bn%2B1%7D" alt="f_n=f_{n+1}" eeimg="1"/> 时，对应“<img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 局胜 <img src="https://www.zhihu.com/equation?tex=f_n" alt="f_n" eeimg="1"/> 局”的难度达到局部的“顶峰”，姑且将这些值单独整理成表格：</p><p><img src="https://www.zhihu.com/equation?tex=%5Cbegin%7Barray%7D%7Bccccccc%7D+n+%26+2+%26+5+%26+9+%26+13+%26+18+%26+23+%5C%5C+f_n+%26+1+%26+3+%26+6+%26+9+%26+13+%26+17+%5C%5C+%5Cend%7Barray%7D" alt="\begin{array}{ccccccc} n &amp; 2 &amp; 5 &amp; 9 &amp; 13 &amp; 18 &amp; 23 \\ f_n &amp; 1 &amp; 3 &amp; 6 &amp; 9 &amp; 13 &amp; 17 \\ \end{array}" eeimg="1"/> </p><p>可以看到，原题选取 9 胜 6 和 13 胜 9 两道题目，显然是已经对上帝硬币问题有了深刻的理解！</p><hr/><h2>证明</h2><p>最后补充一个严格证明，证明上帝硬币问题与多重集分裂问题是等价的。定义：</p><ul><li><img src="https://www.zhihu.com/equation?tex=M%5Cin+S_0" alt="M\in S_0" eeimg="1"/> 当且仅当 <img src="https://www.zhihu.com/equation?tex=M%3D%5Clangle+0%5Crangle" alt="M=\langle 0\rangle" eeimg="1"/>；</li><li><img src="https://www.zhihu.com/equation?tex=M%5Cin+S_n%28n%5Cge+1%29" alt="M\in S_n(n\ge 1)" eeimg="1"/> 当且仅当 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 能分裂为两个集合 <img src="https://www.zhihu.com/equation?tex=P%2CQ%5Cin+S_%7Bn-1%7D" alt="P,Q\in S_{n-1}" eeimg="1"/>。</li></ul><p>定义推广的猜硬币游戏：</p><ul><li>猜硬币总共进行 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 局。</li><li>游戏开始前上帝告诉 Alice 和 Bob 一个多重集 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/>（<img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 中元素均为不超过 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 的非负整数），然后 Alice 和 Bob 可以商量一个策略。</li><li>商量好策略后分开二人，将所有正确答案告诉 Alice 一人，然后 Alice 可以在 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 中选一个整数报给 Bob，注意此时需要把 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 中相同数字打上不同的标签视为不同数字，例如若 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 中有 3 个 6，则可以附加一个 1~3 的整数标签，指明选的是哪个 6（可以类比为在黑桃 6、红桃 6、梅花 6 里选一张牌）。</li><li>此后依次进行 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 局猜硬币，流程与原始问题一样。</li><li>最终若赢的局数不低于 Alice 报出的数，就算 Alice 和 Bob 胜利，否则失败。</li><li>本游戏有附加条件：要求两人的策略是确定性的，并且对 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 中每个元素都存在一个长为 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 的 01 串，使得若上帝的正确答案是这个 01 串则 Alice 会报出这个元素。</li></ul><p><b>定理</b> Alice 和 Bob 能保证胜利，当且仅当 <img src="https://www.zhihu.com/equation?tex=M%5Cin+S_n" alt="M\in S_n" eeimg="1"/>。</p><p>证明：<img src="https://www.zhihu.com/equation?tex=n%3D0" alt="n=0" eeimg="1"/> 时命题显然成立，下面假设命题对 <img src="https://www.zhihu.com/equation?tex=n-1" alt="n-1" eeimg="1"/> 成立，证明命题对 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 成立。</p><p>先假设 Alice 和 Bob 存在一种策略能保证胜利。假设 Alice 报出的数字是 <img src="https://www.zhihu.com/equation?tex=x" alt="x" eeimg="1"/>，不妨设 Bob 此时第一轮猜 0，则有 4 种分支：</p><ul><li>上帝的正确答案是 0，Alice 选了 0；</li><li>上帝的正确答案是 0，Alice 选了 1；</li><li>上帝的正确答案是 1，Alice 选了 0；</li><li>上帝的正确答案是 1，Alice 选了 1。</li></ul><p>这些分支至少出现一个。如果出现第一个分支，就在左边放一个数字 <img src="https://www.zhihu.com/equation?tex=x-1" alt="x-1" eeimg="1"/>；如果出现后三个分支，就在左边（第二分支）或右边（第三、四分支）放一个数字 <img src="https://www.zhihu.com/equation?tex=x" alt="x" eeimg="1"/>。最终把左边所有数组成多重集 <img src="https://www.zhihu.com/equation?tex=P" alt="P" eeimg="1"/>，右边所有数组成多重集 <img src="https://www.zhihu.com/equation?tex=Q" alt="Q" eeimg="1"/>。这与之前的分裂过程一致。</p><p>现在断言：若用多重集 <img src="https://www.zhihu.com/equation?tex=P" alt="P" eeimg="1"/> 进行 <img src="https://www.zhihu.com/equation?tex=n-1" alt="n-1" eeimg="1"/> 轮猜硬币游戏，则有必胜策略。</p><p>假设这 <img src="https://www.zhihu.com/equation?tex=n-1" alt="n-1" eeimg="1"/> 轮的正确答案是 <img src="https://www.zhihu.com/equation?tex=s" alt="s" eeimg="1"/>（它是长为 <img src="https://www.zhihu.com/equation?tex=n-1" alt="n-1" eeimg="1"/> 的 01 串），此时两人虚构一个在多重集 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 上进行的 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 轮猜硬币游戏，而正确答案是 <img src="https://www.zhihu.com/equation?tex=0s" alt="0s" eeimg="1"/>，并套用已有的必胜策略，于是 Alice 选择报出一个数字 <img src="https://www.zhihu.com/equation?tex=x" alt="x" eeimg="1"/>，并在第一轮选了 0 或 1。若选 0，则 Alice 在现实中的 <img src="https://www.zhihu.com/equation?tex=n-1" alt="n-1" eeimg="1"/> 轮游戏中报出 <img src="https://www.zhihu.com/equation?tex=x" alt="x" eeimg="1"/> 分裂到左边的数字 <img src="https://www.zhihu.com/equation?tex=x-1" alt="x-1" eeimg="1"/>；若选 1，则 Alice 在现实中报出 <img src="https://www.zhihu.com/equation?tex=x" alt="x" eeimg="1"/> 分裂到左边的数字 <img src="https://www.zhihu.com/equation?tex=x" alt="x" eeimg="1"/>。而 Bob 在听到数字 <img src="https://www.zhihu.com/equation?tex=x" alt="x" eeimg="1"/> 后选择猜 0。</p><p>这时，在虚构游戏中 Bob 已经知道 Alice 报的数字以及 Alice 第一轮的选择，以后双方模仿已有的必胜策略即可。最终，双方在虚构的游戏中至少胜 <img src="https://www.zhihu.com/equation?tex=x" alt="x" eeimg="1"/> 局，于是在现实的游戏中至少胜 <img src="https://www.zhihu.com/equation?tex=x-1" alt="x-1" eeimg="1"/> 或 <img src="https://www.zhihu.com/equation?tex=x" alt="x" eeimg="1"/> 局（取决于选了哪种分支），从而获得胜利。</p><p>同理可得：若用多重集 <img src="https://www.zhihu.com/equation?tex=Q" alt="Q" eeimg="1"/> 进行 <img src="https://www.zhihu.com/equation?tex=n-1" alt="n-1" eeimg="1"/> 轮猜硬币游戏，则有必胜策略。由归纳假设， <img src="https://www.zhihu.com/equation?tex=P%2CQ" alt="P,Q" eeimg="1"/> 都属于 <img src="https://www.zhihu.com/equation?tex=S_%7Bn-1%7D" alt="S_{n-1}" eeimg="1"/>，于是 <img src="https://www.zhihu.com/equation?tex=M%5Cin+S_n" alt="M\in S_n" eeimg="1"/>，证明完成。</p><p>反过来，假设 <img src="https://www.zhihu.com/equation?tex=M%5Cin+S_n" alt="M\in S_n" eeimg="1"/>，下面我们构造一个必胜策略。</p><p>由定义，可设 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 分裂为 <img src="https://www.zhihu.com/equation?tex=M_0%2CM_1%5Cin+S_%7Bn-1%7D" alt="M_0,M_1\in S_{n-1}" eeimg="1"/>，然后再将 <img src="https://www.zhihu.com/equation?tex=M_0%2CM_1" alt="M_0,M_1" eeimg="1"/> 分裂为 <img src="https://www.zhihu.com/equation?tex=M_%7B00%7D%2CM_%7B01%7D%5Cin+S_%7Bn-2%7D" alt="M_{00},M_{01}\in S_{n-2}" eeimg="1"/> 和 <img src="https://www.zhihu.com/equation?tex=M_%7B10%7D%2CM_%7B11%7D%5Cin+S_%7Bn-2%7D" alt="M_{10},M_{11}\in S_{n-2}" eeimg="1"/>。重复这个过程，直到得到 <img src="https://www.zhihu.com/equation?tex=2%5En" alt="2^n" eeimg="1"/> 个属于 <img src="https://www.zhihu.com/equation?tex=S_0" alt="S_0" eeimg="1"/> 的集合为止，自然这些集合都是 <img src="https://www.zhihu.com/equation?tex=%5Clangle+0%5Crangle" alt="\langle 0\rangle" eeimg="1"/>。</p><p>现在将分裂过程中得到的所有集合中的所有元素都视为图的顶点，并在这些顶点之间连有向边，连边方法如下：</p><ul><li>若元素 <img src="https://www.zhihu.com/equation?tex=x" alt="x" eeimg="1"/> 分裂为 <img src="https://www.zhihu.com/equation?tex=%5Clangle+x-1%2Cx%5Cmid+x%2Cx%5Crangle" alt="\langle x-1,x\mid x,x\rangle" eeimg="1"/>，则以原来的 <img src="https://www.zhihu.com/equation?tex=x" alt="x" eeimg="1"/> 为起点分别向 <img src="https://www.zhihu.com/equation?tex=%5Clangle+x-1%2Cx%5Cmid+x%2Cx%5Crangle" alt="\langle x-1,x\mid x,x\rangle" eeimg="1"/> 中的 4 个元素连边，并且将 4 条边分别标记为 000, 010, 100, 110（如果 4 个元素有些没有出现，就不连那条边）；</li><li>若元素 <img src="https://www.zhihu.com/equation?tex=x" alt="x" eeimg="1"/> 分裂为 <img src="https://www.zhihu.com/equation?tex=%5Clangle+x%2Cx%5Cmid+x-1%2Cx%5Crangle" alt="\langle x,x\mid x-1,x\rangle" eeimg="1"/>，则以原来的 <img src="https://www.zhihu.com/equation?tex=x" alt="x" eeimg="1"/> 为起点分别向 <img src="https://www.zhihu.com/equation?tex=%5Clangle+x%2Cx%5Cmid+x-1%2Cx%5Crangle" alt="\langle x,x\mid x-1,x\rangle" eeimg="1"/> 中的 4 个元素连边，并且将 4 条边分别标记为 011, 001, 111, 101（如果 4 个元素有些没有出现，就不连那条边）。</li></ul><p>（标记 <img src="https://www.zhihu.com/equation?tex=xyz" alt="xyz" eeimg="1"/> 的含义为：本轮上帝选 <img src="https://www.zhihu.com/equation?tex=x" alt="x" eeimg="1"/>，Alice 选 <img src="https://www.zhihu.com/equation?tex=y" alt="y" eeimg="1"/>，Bob 选 <img src="https://www.zhihu.com/equation?tex=z" alt="z" eeimg="1"/>。）</p><p>如此便构成了一个多叉森林，根节点是 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 中所有元素，叶子节点是每个 <img src="https://www.zhihu.com/equation?tex=M_s" alt="M_s" eeimg="1"/>（<img src="https://www.zhihu.com/equation?tex=s" alt="s" eeimg="1"/> 是长为 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 的 01 串）中唯一一个元素 0。</p><p>Alice 和 Bob 事先约定并记住这个多叉森林。假设上帝正确答案是长为 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 的 01 串 <img src="https://www.zhihu.com/equation?tex=s" alt="s" eeimg="1"/>，Alice 首先找到 <img src="https://www.zhihu.com/equation?tex=M_s" alt="M_s" eeimg="1"/> 中唯一元素并向前找路，直到找到 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 中某个元素 <img src="https://www.zhihu.com/equation?tex=x" alt="x" eeimg="1"/> 为止（显然 <img src="https://www.zhihu.com/equation?tex=M" alt="M" eeimg="1"/> 中仅有唯一元素可以通向 <img src="https://www.zhihu.com/equation?tex=M_s" alt="M_s" eeimg="1"/>，且通路唯一），然后报出这个元素。此后 Alice 和 Bob 按照这条路上的标记去猜硬币，沿这条路行进的过程中数字至少自减了 <img src="https://www.zhihu.com/equation?tex=x" alt="x" eeimg="1"/> 次，而只有走过标有 000 或 111 的边，数字才会减小 1，否则不变，走过这些边相当于赢了一局，于是总共至少赢了 <img src="https://www.zhihu.com/equation?tex=x" alt="x" eeimg="1"/> 局，并且最终会走到 <img src="https://www.zhihu.com/equation?tex=M_s" alt="M_s" eeimg="1"/> 中唯一元素，这个过程中上帝公布的正确答案序列就是 <img src="https://www.zhihu.com/equation?tex=s" alt="s" eeimg="1"/> 没有问题。</p><p>Bob 的策略是唯一确定的，这是因为每次猜硬币过后无论 Alice 还是 Bob 都很清楚当前走到了哪个节点，而每个节点所有出边的标记的最后一位要么都是 0，要么都是 1，这样 Bob 就能确定猜哪个了；而 Alice 事先知道走哪条路，只需选择对应的数字即可。因此该策略的确是成立的必胜策略。</p><hr/><h2>后记</h2><p>本文给出了一种判定上帝硬币问题是否可解的算法（事实上，如果可解，本文最后一节还给出了构造必胜策略的方法），顺带解决了推广的上帝硬币问题。</p><p>上帝硬币问题仍有一些问题值得研究，最基础的问题便是能否给出 <img src="https://www.zhihu.com/equation?tex=f_n" alt="f_n" eeimg="1"/> 的显式表达式。如果不能，至少要问 <img src="https://www.zhihu.com/equation?tex=f_n%2Fn" alt="f_n/n" eeimg="1"/> 当 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 趋于无穷的极限值是多少。</p><p>另外，除了单调性以外，函数 <img src="https://www.zhihu.com/equation?tex=t_n" alt="t_n" eeimg="1"/> 也许满足一些不太显然的性质，可以利用这些性质优化算法。之前我曾根据 <img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"/> 取较小值的一些结果，认为函数 <img src="https://www.zhihu.com/equation?tex=t_n" alt="t_n" eeimg="1"/> 满足某种凸性，即</p><p><img src="https://www.zhihu.com/equation?tex=t_n%28%5Clangle+M%2C%28n-1%29%5E%7Br-1%7D%5Crangle%29%2Bt_n%28%5Clangle+M%2C%28n-1%29%5E%7Br%2B1%7D%5Crangle%29%5Cge+2t_n%28%5Clangle+M%2C%28n-1%29%5Er%5Crangle%29%2C" alt="t_n(\langle M,(n-1)^{r-1}\rangle)+t_n(\langle M,(n-1)^{r+1}\rangle)\ge 2t_n(\langle M,(n-1)^r\rangle)," eeimg="1"/> </p><p>若规律成立，则可能用三分法等算法加速。但很遗憾，这是错的。第一个反例出现在 <img src="https://www.zhihu.com/equation?tex=n%3D17" alt="n=17" eeimg="1"/> 时，计算可得</p><p><img src="https://www.zhihu.com/equation?tex=t_%7B17%7D%28%5Clangle+13%2C15%5E%7B45%7D%2C16%5E%7B71%7D%5Crangle%29%3D5048%2C+%5C%5C+t_%7B17%7D%28%5Clangle+13%2C15%5E%7B45%7D%2C16%5E%7B72%7D%5Crangle%29%3D5003%2C+%5C%5C+t_%7B17%7D%28%5Clangle+13%2C15%5E%7B45%7D%2C16%5E%7B73%7D%5Crangle%29%3D4957%2C" alt="t_{17}(\langle 13,15^{45},16^{71}\rangle)=5048, \\ t_{17}(\langle 13,15^{45},16^{72}\rangle)=5003, \\ t_{17}(\langle 13,15^{45},16^{73}\rangle)=4957," eeimg="1"/> </p><p>它不满足上述不等式。</p>